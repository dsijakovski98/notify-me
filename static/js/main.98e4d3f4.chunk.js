(this["webpackJsonpnotify-me-app"]=this["webpackJsonpnotify-me-app"]||[]).push([[0],{156:function(e,t,r){},186:function(e,t,r){},205:function(e,t,r){},206:function(e,t,r){},270:function(e,t,r){},284:function(e,t,r){},285:function(e,t,r){},286:function(e,t,r){},311:function(e,t,r){},334:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(26),s=r.n(n),c=(r(270),r(14)),i=r.n(c),o=r(25),l=r(4),u=r(32),j=r(362),d=r(103),m=r(363),b=r(384),p=r(251),h=r(367),O=r(210),f=r.n(O),x=r(211),v=r.n(x),g=r(212),y=r.n(g),N=r(360),C=r(138),E=r(29),w=r(79);r(336),r(273),r(337);w.a.initializeApp({apiKey:"AIzaSyCrU8GKKSXAKDUdH4W5TH852XbJ8AYgoq4",authDomain:"notify-me-rst.firebaseapp.com",projectId:"notify-me-rst",storageBucket:"notify-me-rst.appspot.com",messagingSenderId:"519135052783",appId:"1:519135052783:web:0a610099880e5cf5936c1a"});var S=w.a.firestore(),P=w.a.storage(),k=w.a.auth(),A=(w.a.firestore.Timestamp,function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n=k.signInWithEmailAndPassword(t,r),e.next=4,n.then((function(e){return Object(E.a)(Object(E.a)({},e),{},{error:!1})})).catch((function(e){return Object(E.a)(Object(E.a)({},e),{},{error:!0})}));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),T=function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n=k.createUserWithEmailAndPassword(t,r),e.next=4,n.then((function(e){return e.user}));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),F="users",W="companies",B="user_posts",D="user_subscribe",I="posts",U="uid",R="email",L="first_name",M="last_name",z="date_of_birth",q="gender",G="profile_url",Y="company_id",H="name",_="email",K="date_of_creation",Q="ceo_first",V="ceo_last",J="city_head",X="service",Z="branches",$="profile_url",ee="phone_number",te="website",re="read_posts",ae="starred_posts",ne="subscribtions",se="post_id",ce="creator_id",ie="creator_name",oe="creator_profile_url",le="type",ue="title",je="content",de="cities_affected",me="created_on",be=function(){var e=Object(o.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,a=S.collection(F).where(R,"==",t).limit(1).get(),e.next=4,a.then((function(e){return e.docs.length>0}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(o.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,a=S.collection(F).where(R,"==",t).get(),e.next=4,a.then((function(e){return 0===e.docs.length}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(o.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,a=S.collection(W).where(_,"==",t).get(),e.next=4,a.then((function(e){return 0===e.docs.length}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=r(1),fe=Object(N.a)({avatar:{width:48,height:48,margin:"0 auto",backgroundColor:C.a[800]},avatarImg:{objectFit:"contain"},displayName:{paddingTop:"0.4em"},menuButton:{color:"whitesmoke"},menuItem:{"&:hover":{backgroundColor:"#aaa"},padding:".7em"},menuItemIcon:{marginRight:"0.3em",color:"#2F303A"}});var xe=Object(u.f)((function(e){var t=e.displayName,r=e.profilePicture,n=e.userData,s=n.uid,c=e.history,u=c.location.pathname.includes("company")?"My Posts":"Dashboard",O=fe(),x=[u,"Edit Profile","Log Out"],g=Object(a.useState)(null),N=Object(l.a)(g,2),C=N[0],E=N[1],w=function(){E(null)},S=function(){var e=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(),e.next=3,be(n.email);case 3:t=e.sent,r=t?"user-page":"company-page",c.push("/".concat(r));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){w(),k.signOut().then((function(){c.push("/")}))},A=function(){var e=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(),e.next=3,be(n.email);case 3:t=e.sent,r=t?"user":"company",c.push("/edit/".concat(r,"/").concat(s));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){var t=Object(Oe.jsx)(f.a,{className:O.menuItemIcon}),r=Object(Oe.jsx)(v.a,{className:O.menuItemIcon}),a=Object(Oe.jsx)(y.a,{className:O.menuItemIcon});switch(e){case x[0]:return t;case x[1]:return r;case x[2]:return a}};return n?Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(j.a,{container:!0,alignItems:"center",justify:"flex-end",children:[Object(Oe.jsx)(d.a,{className:O.displayName,variant:"subtitle1",children:t}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(m.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){return function(e){E(e.currentTarget)}(e)},children:Object(Oe.jsx)(b.a,{className:O.avatar,classes:{img:O.avatarImg},src:r})}),Object(Oe.jsx)(p.a,{id:"long-menu",anchorEl:C,getContentAnchorEl:null,keepMounted:!0,open:!!C,onClose:function(e){return w()},color:"disabled",anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:x.map((function(e){return Object(Oe.jsxs)(h.a,{className:O.menuItem,onClick:function(){return function(e){switch(e){case x[0]:S();break;case x[1]:A();break;case x[2]:P()}}(e)},children:[T(e),e]},e)}))})]})]})}):null})),ve=r(368),ge=r(369),ye=r(20),Ne=r(129),Ce=r.n(Ne),Ee=Object(a.createContext)(),we=function(e){var t=e.children,r=Object(a.useState)(null),n=Object(l.a)(r,2),s=n[0],c=n[1];return Object(a.useEffect)((function(){k.onAuthStateChanged((function(e){c(e)}))}),[]),Object(Oe.jsx)(Ee.Provider,{value:{currentUser:s},children:t})},Se=Object(N.a)({root:{padding:5,backgroundColor:"#2f303a"},toolbarTitleGrid:{flexGrow:1},toolbarTitle:{color:"whitesmoke",margin:0},navBarIcon:{width:50,height:50,marginBottom:5,marginRight:5},logoutButton:{paddingBottom:4},logout:{width:35,height:35,size:"medium","&:hover":{color:"purple"}}});var Pe=function(){var e=Object(a.useContext)(Ee).currentUser,t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMCAMAAACZHrEMAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABv1BMVEXk5ufj5efj5ebl5+jn6Ono6ero6uvn6erm6Onm5+jh4+TZ3N3Q09XJzc/EyMrBxsjAxcfFycvLz9DT1tfb3t/o6ure4OHN0dK9wsSyuLqssrWqsLSqsLOqsbSrsbSts7a0ur3S1tfi5OXW2du/xMavtbiutLess7ayuLvFyszd3+HY2927wMPDyMrg4uOwtrnO0dOzubyvtLepsLPh4+Xn6enP0tSzuLvb3d/j5ufIzM6pr7PLz9Ha3N7T19issraxt7re4OK6wMK6v8LKztDN0dPc3uDg4uTGyszW2drf4eLCx8nV2Nmyt7rDx8rT1ti1ur23vL/V2Nq3vcDHy820ubzCxsm/w8a9wsXk5efDx8m5vsHP09TX2tzS1dfm6Ojd4OGvtbe4vcCrsrXX2tu4vsDO0tTN0NK1u77Eycu1u73c3+CrsbW0uryzubvf4uPU2Nna3d6+w8bQ1Naxtrm2u77g4+TMz9G8wcS8wcOttLfO0tPR1Nbl5ufe4eLY29zR1dbP09Xd3+DHy862vL7M0NLh5OXc3t++w8W5vsDW2tvBxcjU19mus7bp6uvAxMfAxMbi5ObY2tzl5+f///9eZ0RMAAAAAWJLR0SUf2dKFQAAAAd0SU1FB+QMHQsNIKQXIBMAAAABb3JOVAHPoneaAAAFpUlEQVR42u2a/VsUVRTHlzMz9w4v62Kytt65MwMLcxd5xxVQ1KDAFzRyUYiCNGDLNNFC09R4yVJ7sTLrH25m19Uo2Z077Jmt55nvDzzw8Mvn+Z5z75l7zonFIkWKFClSpEiRIkWKFClSpNqoDkqqNQmAomqEaJr7g+qxGgIB1BPa0NgU35NoTux9Y18LJDWlNjgAlO5/M3WAGZybpsm5Zbcm2tJErwEOqGp7h+MSCKckkTHNzoNdJGx3QCHdPZblgoi/y3FsLnr7SF2oLBR6mfUPkhc8gvcP0BDNAdI9yA+9DqWAY2dTh4fCogEyzNhOKAUcY+SIFg7N0WSci3IsLg0T7SQMGiCjx8qjFEKVaQ/BGyDHsxVZPBr7BMWmAe0t61BlFpdmbLxPOYrKUqe/7dh+WFwa6x0d2Rl9wvIRpCJNdhI1iYGc9JMwJdmndMRAKaf7fQapGKgUYg4DOcMljHFppvBolLMyKB5Mj4pVM4HEpYxxxbpVLGvqWjNyLI5xDulAAX3X97EuyZ5uUJCi9J4hC+NY57FSODcmyeLGqRcnTvoRiTvmZQbPoIQJkk3SUfK82V+PAUMOyh7sQtJcwEgaoCnpw+TC8JNJjKRRLrIAUeKzKBkMcwES2DHfx/j8VBoOBIGx5jFyRukbDwTzAQrM6f8SzOHOQDAdKPXgw5xkzS7AGAs4R3uR+XqkbIfhoxhHG2hHkEvP+AjDGfdZG6AcCHYJoyEB2mVTHsbu70Mp2x8vyfuyzBaRnpXKinRxwipNbtLMSifNcv4TnM/OOrVR2pmxHE6QXNV/KnnTIN0yxThdkY5TF15bBAalypNjJFBqwQtrPpOzxm5B7RddZcsSGXMNs1sk98JFe9uWaMg534FyjH3o3dfPmT8aJ7sHuy8N+nVh+6FxrEXUGBVptCkmKtM4qzcOhzBaAXKeVfTGsW5+EcpIDsiXdoW8cfjVcFi8fsTaSLmGhCOyKQhtVAk0fYvvGCpndWxSDXMUp9Dbna/FcRzGF9dIaCRFnGR69CvOtk9M3T8s885tHa3durM55O7XM+zVLPmQGLO4uNcWS8ZqMdlWiNIYvz/ywDI4N8y8k+v4ZolqtUDxaNJQT/X0qan1KwPDbZeWYIgqtdiG8HZCvJUMTdVLUt1faVKj+ob7X9wR3DaQmE4JjW1ufTu5t7ln5c5c5/R0583cxYlbvfGHU9fTOkmGszACRxUtufFd2/epnMO8bQyLsYztibFVN3mMvBic2DN8AihBBgLQibp5eeGRMLk1JsSLU/TqZBfWM+w85/bc/MkWhaho2QxKcqjrcY9jGt71Uq4ceEQWt2dmuxWiI9jjmfKk6b7g/9oM2ZFIMM5m4l2UVtkeAFX7Ye+0b5KXFZNx8eOF+qrePaDSrXnbrUUBmkXCslbWlarhQD1pTDHTx+fdDvFi/NG6XpX3P8TIZoJZQVE8LTvM+Onn5O6/KkBVjjvGblCK9uStp327fiyQtZXsrlEKweL9TbvafgJlaJLlq4BSwLH5fDp45gB9cq8qtpRwjM6toKECsjYSoL9ZjibDrgT7IgXyy68+X7L+aQQ/Q4Ow/PbQelBlFg8n+1QN4MuAWXWSIk2HbAMJSJOBwuLRNA/J5ouFxOLRSDW0QG0RAQZdvmn4YwkaBW5U+xxtl0TfHLRnQYY5EtbYB/x2+yB5G5fFC9TvPq1R7sqsnAWlOe+r+QhkAdsYV5k5Pyx1+lqAIa28Nb7WG0HrqG513EH2uI8c1lvQE6ZoDT9e0Rog10LIGE8sV/kopYMsGQSypuLOEWhtoWSMB2NWGkaBlggLRtiDzzcq5IzsxuQuxP4ovwwQaBcvoCqdJ9DWQ4uSmzTNZUsCkNEQYdhK2WvP/Xg4JuywxMbTZWn0Z/1zg2FppPVs+YrwPB2mYhX0Z4jCnxtGihQpUqT/of4CM5nx4m6BR24AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMTItMjlUMTE6MTM6MzIrMDA6MDBnOI+mAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTEyLTI5VDExOjEzOjMyKzAwOjAwFmU3GgAAAABJRU5ErkJggg==",r="Unknown",n=Se();return e&&(t=e.photoURL,r=e.displayName),Object(Oe.jsx)(ve.a,{className:n.root,position:"sticky",children:Object(Oe.jsxs)(ge.a,{children:[Object(Oe.jsx)(ye.b,{to:"/",children:Object(Oe.jsx)(Ce.a,{color:"primary",edge:"start",className:n.navBarIcon})}),Object(Oe.jsxs)(j.a,{container:!0,item:!0,direction:"column",className:n.toolbarTitleGrid,children:[Object(Oe.jsx)(j.a,{item:!0,children:Object(Oe.jsx)(d.a,{variant:"h4",className:n.toolbarTitle,children:"Notify-Me"})}),Object(Oe.jsx)(j.a,{item:!0,children:Object(Oe.jsx)(d.a,{className:n.toolbarTitle,variant:"body2",children:"Notification app"})})]}),e&&Object(Oe.jsx)(xe,{userData:e,displayName:r,profilePicture:t})]})})},ke=(r(284),r(285),function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth});var Ae=function(){var e=Object(a.useState)(ke()),t=Object(l.a)(e,2),r=t[0],n=t[1];return Object(a.useEffect)((function(){var e=null,t=function(){clearTimeout(e),e=setTimeout((function(){return n(ke())}),150)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),r};var Te=function(){var e=Ae(),t={iconSize:{width:e/9,height:e/9}};return Object(Oe.jsxs)("div",{className:"banner-wrapper",children:[Object(Oe.jsx)("div",{className:"banner-logo-wrapper",children:Object(Oe.jsx)(Ce.a,{style:t.iconSize,color:"primary"})}),Object(Oe.jsxs)("div",{className:"banner-app-name",children:[Object(Oe.jsx)("h1",{className:"banner-title",children:"Notify-Me"}),Object(Oe.jsx)("h4",{className:"banner-subtitle",children:"Notification App"})]})]})},Fe=(r(286),r(370)),We=r(213),Be=r.n(We),De=r(214),Ie=r.n(De),Ue={mediumIcon:{width:40,height:40}};var Re=function(){return Object(Oe.jsxs)("div",{className:"join-us-wrapper",children:[Object(Oe.jsx)(ye.b,{to:"/register/user",children:Object(Oe.jsx)(Fe.a,{variant:"contained",color:"primary",startIcon:Object(Oe.jsx)(Be.a,{style:Ue.mediumIcon}),children:"Join as User"})}),Object(Oe.jsx)(ye.b,{to:"/register/company",children:Object(Oe.jsx)(Fe.a,{variant:"contained",color:"primary",startIcon:Object(Oe.jsx)(Ie.a,{style:Ue.mediumIcon}),children:"Join as Company"})})]})},Le=(r(186),r(371)),Me=r(39),ze=r.n(Me),qe=r(372),Ge=r(215),Ye=r.n(Ge),He=r(75),_e=r.n(He);var Ke=function(e){return Object(Oe.jsxs)("form",{className:"login-form-wrapper",onSubmit:function(e){return e.preventDefault()},method:"POST",children:[Object(Oe.jsxs)("div",{className:"login-form-inputs",children:[Object(Oe.jsx)(b.a,{style:{backgroundColor:"#3f51b5"},children:Object(Oe.jsx)(ze.a,{})}),Object(Oe.jsx)(d.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(Oe.jsx)(Le.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(Ye.a,{style:{color:"whitesmoke"}})})},name:"email",label:"Email",type:"email",id:"email",helperText:e.emailError,error:!!e.emailError.length,value:e.email,onChange:function(t){return e.setEmail(t.target.value)}}),Object(Oe.jsx)(Le.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(_e.a,{style:{color:"whitesmoke"}})})},name:"password",label:"Password",type:"password",id:"password",helperText:e.passwordError,error:!!e.passwordError.length,value:e.password,onChange:function(t){return e.setPassword(t.target.value)}})]}),Object(Oe.jsx)("div",{className:"login-form-submit",children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,type:"submit",color:"primary",onClick:function(t){return e.signIn(t)},children:"Sign in"})})]})},Qe=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i),Ve="MMMM Do, YYYY",Je="MMMM Do, YYYY \xb7 hh:mm",Xe=new RegExp(/^((https?|ftp|smtp):\/\/)?(www.)?([a-zA-Z0-9]{2,})+\.[a-zA-Z0-9]+(\.[a-zA-Z0-9]*)?(\/[a-zA-Z0-9#]+\/?)*$/);var Ze=Object(u.f)((function(e){var t=Object(a.useState)(""),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(""),u=Object(l.a)(c,2),j=u[0],d=u[1],m=Object(a.useState)(""),b=Object(l.a)(m,2),p=b[0],h=b[1],O=Object(a.useState)(""),f=Object(l.a)(O,2),x=f[0],v=f[1],g=function(){var t=Object(o.a)(i.a.mark((function t(r){var a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,y();case 3:if(!t.sent){t.next=10;break}return t.next=6,be(n);case 6:a=t.sent,s="",s=a?"user-page":"company-page",e.history.push("/".concat(s));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(i.a.mark((function e(){var t,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),v(""),t="",r="",""===n&&(t="Enter your email!"),""===j&&(r="Enter your password!"),!Qe.test(n)&&n.length&&(t="Email invalid format!"),e.next=9,A(n,j);case 9:if(!(a=e.sent).error){e.next=18;break}e.t0=a.code,e.next="auth/wrong-password"===e.t0?14:16;break;case 14:return r=a.message,e.abrupt("break",18);case 16:return t=a.message,e.abrupt("break",18);case 18:if(!t.length&&!r.length){e.next=22;break}return h(t),v(r),e.abrupt("return",!1);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsx)(Ke,{email:n,setEmail:s,emailError:p,passwordInput:j,setPassword:d,passwordError:x,signIn:g})}));var $e=Object(u.f)((function(e){var t=e.history,r=Object(a.useContext)(Ee).currentUser;return r&&function(){var e=Object(o.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.next=3,be(r.email);case 3:n=e.sent,a=n?"user-page":"company-page",t.push("/".concat(a));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),!r&&Object(Oe.jsx)("div",{className:"homepage-wrapper",children:Object(Oe.jsxs)("div",{className:"homepage-container-grid",children:[Object(Oe.jsxs)("div",{className:"homepage-banner-col",children:[Object(Oe.jsx)(Te,{}),Object(Oe.jsx)(Re,{})]}),Object(Oe.jsx)("div",{className:"homepage-login-col",children:Object(Oe.jsx)(Ze,{})})]})})})),et=(r(76),r(69)),tt=r(162),rt=r(166),at=r(346),nt=r(40),st=r(382),ct=r(96),it=r.n(ct),ot=r(234),lt=r.n(ot);var ut=function(e){var t=e.values,r=e.continueRegistration,a=e.genders;return Object(Oe.jsxs)("div",{className:"form-container-flex",children:[Object(Oe.jsx)("div",{className:"form-explanation-container",children:Object(Oe.jsx)(d.a,{variant:"h2",children:"Enter user details"})}),Object(Oe.jsx)("div",{className:"form-inputs-container",children:Object(Oe.jsxs)("div",{className:"login-form-inputs",children:[Object(Oe.jsx)(b.a,{style:{backgroundColor:"#3f51b5"},children:Object(Oe.jsx)(ze.a,{})}),Object(Oe.jsx)(d.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(Oe.jsx)("br",{}),Object(Oe.jsxs)(j.a,{container:!0,spacing:2,alignItems:"center",justify:"flex-end",children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"dense",variant:"standard",required:!0,autoFocus:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(it.a,{style:{color:"whitesmoke"}})})},type:"text",label:"First Name",error:!!t.firstNameErr,helperText:t.firstNameErr,value:t.firstName,onChange:function(e){return t.setFirstName(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"dense",variant:"standard",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(it.a,{style:{color:"whitesmoke"}})})},type:"text",label:"Last Name",error:!!t.lastNameErr,helperText:t.lastNameErr,value:t.lastName,onChange:function(e){return t.setLastName(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,children:Object(Oe.jsx)(nt.a,{utils:et.a,children:Object(Oe.jsx)(st.a,{fullWidth:!0,variant:"dialog",format:"dd/MM/yyyy",placeholder:"DD/MM/YYYY",margin:"normal",label:"Date of Birth",maxDate:new Date,value:t.dateOfBirth,onChange:function(e){return t.setDateOfBirth(e)}})})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"dense",variant:"standard",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(lt.a,{style:{color:"whitesmoke"}})})},type:"text",label:"City",error:!!t.cityErr,helperText:t.cityErr,value:t.city,onChange:function(e){return t.setCity(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:8,sm:6,children:Object(Oe.jsxs)(tt.a,{children:[Object(Oe.jsx)(rt.a,{htmlFor:"genders",children:"Gender"}),Object(Oe.jsx)(at.a,{style:{color:"#f5f5f5"},margin:"dense",fullWidth:!0,variant:"standard",id:"genders",value:t.gender,onChange:function(e){return t.setGender(e.target.value)},children:a.map((function(e){return Object(Oe.jsx)(h.a,{value:e,children:e},e)}))})]})})]}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{className:"login-form-submit",children:Object(Oe.jsxs)(j.a,{container:!0,spacing:2,justify:"center",children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(ye.b,{to:"/",children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,color:"default",children:"Back"})})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:function(e){return r(e)},children:"Continue"})})]})})]})})]})},jt=["Male","Female","Other"];var dt=function(e){var t=e.values,r=e.nextStep,a=function(){t.setFirstNameErr(""),t.setLastNameErr(""),t.setCityErr("");var e="",r="",a="";return!isNaN(t.dateOfBirth.getTime())&&(""===t.firstName.trim()&&(e="Enter first name!"),""===t.lastName.trim()&&(r="Enter last name!"),""===t.city.trim()&&(a="Enter city name!"),!(e.length||r.length||a.length)||(t.setFirstNameErr(e),t.setLastNameErr(r),t.setCityErr(a),!1))};return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(ut,{genders:jt,values:t,continueRegistration:function(e){e.preventDefault(),a()&&r()}})})},mt=r(56),bt=r.n(mt),pt=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(""),c=Object(l.a)(s,2),i=c[0],o=c[1],u=Object(a.useState)(new Date),j=Object(l.a)(u,2),d=j[0],m=j[1],b=Object(a.useState)("Other"),p=Object(l.a)(b,2),h=p[0],O=p[1],f=Object(a.useState)(""),x=Object(l.a)(f,2),v=x[0],g=x[1],y=Object(a.useState)(""),N=Object(l.a)(y,2),C=N[0],E=N[1],w=Object(a.useState)(""),S=Object(l.a)(w,2),P=S[0],k=S[1],A=Object(a.useState)(""),T=Object(l.a)(A,2);return[{firstName:r,setFirstName:n,firstNameErr:C,setFirstNameErr:E,lastName:i,setLastName:o,lastNameErr:P,setLastNameErr:k,dateOfBirth:d,setDateOfBirth:m,gender:h,setGender:O,city:v,setCity:g,cityErr:T[0],setCityErr:T[1]},{"First Name":r,"Last Name":i,"Date of Birth":d?bt()(d).format(Ve):"",Gender:h,City:v}]},ht=r(374),Ot=r(235),ft=r.n(Ot);var xt=function(e){var t=e.values,r=e.continueRegistration,a=e.goBackRegistration,n=e.progressBar;return Object(Oe.jsxs)("div",{className:"form-container-flex",children:[Object(Oe.jsx)("div",{className:"form-explanation-container",children:Object(Oe.jsx)(d.a,{variant:"h2",children:"Enter account details"})}),n&&Object(Oe.jsx)("div",{children:Object(Oe.jsx)(ht.a,{style:{width:60,height:60,marginRight:"2em"}})}),Object(Oe.jsx)("div",{className:"form-inputs-container",children:Object(Oe.jsxs)("div",{className:"login-form-inputs",children:[Object(Oe.jsx)(b.a,{style:{backgroundColor:"#3f51b5"},children:Object(Oe.jsx)(ze.a,{})}),Object(Oe.jsx)(d.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,autoFocus:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(ft.a,{style:{color:"whitesmoke"}})})},label:"Email",type:"email",error:!!t.emailErr,helperText:t.emailErr,value:t.userEmail,onChange:function(e){return t.setUserEmail(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(_e.a,{style:{color:"whitesmoke"}})})},type:"password",label:"Password",error:!!t.passwordErr,helperText:t.passwordErr,value:t.userPassword,onChange:function(e){return t.setUserPassword(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(_e.a,{style:{color:"whitesmoke"}})})},type:"password",label:"Confirm password",error:!!t.confirmPasswordErr,helperText:t.confirmPasswordErr,value:t.passwordConfirm,onChange:function(e){return t.setPasswordConfirm(e.target.value)}})})]}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{className:"login-form-submit",children:Object(Oe.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,onClick:function(e){return a(e)},children:"Back"})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:function(e){return r(e)},children:"Continue"})})]})})]})})]})};var vt=function(e){var t=e.values,r=e.nextStep,n=e.prevStep,s=Object(a.useState)(!1),c=Object(l.a)(s,2),u=c[0],j=c[1],d=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b();case 3:if(!e.sent){e.next=5;break}r();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){for(var t=!1,r=0;r<e.length;r++){var a=e[r];if(/^[A-Z]*$/.test(a)){t=!0;break}}return t},b=function(){var e=Object(o.a)(i.a.mark((function e(){var r,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),t.setEmailErr(""),t.setPasswordErr(""),t.setConfirmPasswordErr(""),r="",a="",n="",t.userPassword!==t.passwordConfirm&&(n="Passwords don't match!"),""===t.userEmail.trim()&&(r="Enter an email!"),""===t.userPassword.trim()&&(a="Enter a password!"),""===t.passwordConfirm.trim()&&(n="Confirm your password!"),Qe.test(t.userEmail)||(r="Email invalid format!"),m(t.userEmail)&&(r="No uppercase letters in email!"),t.userPassword.length<6&&(a="Password must be at least 6 characters!"),!(r.length||a.length||n.length)){e.next=20;break}return t.setEmailErr(r),t.setPasswordErr(a),t.setConfirmPasswordErr(n),j(!1),e.abrupt("return",!1);case 20:return e.next=22,pe(t.userEmail);case 22:if(e.sent){e.next=27;break}return t.setEmailErr("Email is already in use!"),j(!1),e.abrupt("return",!1);case 27:return j(!1),e.abrupt("return",!0);case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(xt,{values:t,continueRegistration:d,goBackRegistration:function(e){e.preventDefault(),n()},progressBar:u})})},gt=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(""),c=Object(l.a)(s,2),i=c[0],o=c[1],u=Object(a.useState)(""),j=Object(l.a)(u,2),d=j[0],m=j[1],b=Object(a.useState)(""),p=Object(l.a)(b,2),h=p[0],O=p[1],f=Object(a.useState)(""),x=Object(l.a)(f,2),v=x[0],g=x[1],y=Object(a.useState)(""),N=Object(l.a)(y,2),C=N[0];return[{userEmail:r,setUserEmail:n,setEmailErr:O,userPassword:i,setUserPassword:o,setPasswordErr:g,passwordConfirm:d,setPasswordConfirm:m,setConfirmPasswordErr:N[1],emailErr:h,passwordErr:v,confirmPasswordErr:C},{Email:r}]},yt=(r(156),function(e){var t=Object(a.useState)(0),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(""),u=Object(l.a)(c,2),j=u[0],d=u[1],m=Object(a.useState)(null),b=Object(l.a)(m,2),p=b[0],h=b[1];return Object(a.useEffect)((function(){if(e){var t=P.ref(e.name);t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;s(t)}),(function(e){d(e)}),Object(o.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:r=e.sent,h(r);case 4:case"end":return e.stop()}}),e)}))))}}),[e]),{progress:n,err:j,url:p}}),Nt=function(e){P.refFromURL(e).delete().then((function(){}))},Ct=r(250);var Et=function(e){var t=e.file,r=e.setFile,n=e.setImageSource,s=yt(t),c=s.progress,i=s.url,o=s.err;return Object(a.useEffect)((function(){n(""),i&&(n(i),r(null)),o&&console.log(o)}),[i,o,r,n]),Object(Oe.jsx)("div",{className:"progress-wrapper",children:Object(Oe.jsx)(Ct.a.div,{className:"progress-bar",initial:{width:0},animate:{width:c+"%"}})})};var wt=function(e){var t=e.values,r=e.continueRegistration,a=e.goBackRegistration,n=e.uploadFile;return Object(Oe.jsxs)("div",{className:"form-container-flex",children:[Object(Oe.jsx)("div",{className:"form-explanation-container",children:Object(Oe.jsx)(d.a,{variant:"h2",children:"Upload a profile picture"})}),Object(Oe.jsx)("div",{className:"form-inputs-container",children:Object(Oe.jsxs)("div",{className:"login-form-inputs",children:[Object(Oe.jsx)(b.a,{style:{backgroundColor:"#3f51b5"},children:Object(Oe.jsx)(ze.a,{})}),Object(Oe.jsx)(d.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{id:"upload-pic-text",children:Object(Oe.jsx)(d.a,{variant:"h6",style:{fontWeight:300},children:"Select your profile picture (optional)"})}),Object(Oe.jsx)("div",{className:"upload-container-img",children:Object(Oe.jsxs)("div",{className:"profile-pic-container",children:[t.imageSource&&Object(Oe.jsx)("img",{alt:"profile",src:t.imageSource}),Object(Oe.jsx)(Et,{file:t.file,setFile:t.setFile,setImageSource:t.setImageSource})]})}),Object(Oe.jsx)("div",{className:"upload-container",children:Object(Oe.jsxs)("label",{id:"upload_label",children:[Object(Oe.jsx)("input",{type:"file",onChange:n}),Object(Oe.jsx)("span",{children:"+"})]})}),t.fileErr?Object(Oe.jsx)(d.a,{variant:"body1",color:"error",children:t.fileErr}):null,Object(Oe.jsx)("div",{className:"login-form-submit",children:Object(Oe.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,onClick:function(e){return a(e)},children:"Back"})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:function(e){return r(e)},children:t.imageSource?"Continue":"Skip"})})]})})]})})]})},St=["image/png","image/jpg","image/jpeg"];var Pt=function(e){var t=e.values,r=e.nextStep,a=e.prevStep,n=!1;return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(wt,{values:t,uploadFile:function(e){t.setFileErr(""),n=!1,t.imageSource&&Nt(t.imageSource);var r=e.target.files[0];r?St.includes(r.type)?(t.setFile(r),t.setFileErr(""),n=!1):(t.setFileErr("Select a valid file (png, jpg or jpeg)"),n=!0):(t.setFile(null),n=!0)},continueRegistration:function(e){e.preventDefault(),n||r()},goBackRegistration:function(e){a()}})})},kt=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(""),c=Object(l.a)(s,2),i=c[0],o=c[1],u=Object(a.useState)(""),j=Object(l.a)(u,2);return[{file:r,setFile:n,imageSource:j[0],fileErr:i,setFileErr:o,setImageSource:j[1]}]},At=(r(311),r(10)),Tt=function(){var e=Object(o.a)(i.a.mark((function e(t){var r,a,n,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S.collection(F),s=S.collection(B),c=S.collection(D),e.next=5,n.doc(t.id).set((r={},Object(At.a)(r,U,t.id),Object(At.a)(r,R,t.email),Object(At.a)(r,L,t.firstName),Object(At.a)(r,M,t.lastName),Object(At.a)(r,q,t.gender),Object(At.a)(r,z,t.dateOfBirth),Object(At.a)(r,G,t.profileUrl),r));case 5:return e.next=7,s.doc(t.id).set((a={},Object(At.a)(a,re,[]),Object(At.a)(a,ae,[]),a));case 7:return e.abrupt("return",c.doc(t.id).set(Object(At.a)({},ne,[])));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ft=r(366),Wt=r(344),Bt=Object(N.a)({root:{display:"grid",justifyContent:"center"}});var Dt=function(e){var t=e.keys,r=e.detailValues,a=e.prevStep,n=e.registerAccount,s=Bt();return Object(Oe.jsxs)("div",{className:"confirm-list-container",children:[Object(Oe.jsx)(d.a,{variant:"h3",className:"confirm-details-title",children:"Confirm Details"}),Object(Oe.jsxs)(Ft.a,{children:[t.map((function(e,t){return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(Wt.a,{className:s.root,children:Object(Oe.jsx)("h3",{className:"detail-title",children:e})}),Object(Oe.jsx)(Wt.a,{className:s.root,children:Object(Oe.jsx)("p",{className:"detail-value",children:r[t]})}),Object(Oe.jsx)("hr",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{})]},e)})),Object(Oe.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{fullWidth:!0,variant:"contained",onClick:a,children:"Back"})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:n,children:"Register"})})]})]})]})};var It=Object(u.f)((function(e){var t=e.parameters,r=e.prevStep,a=e.values,n=e.accountType,s=Object.keys(t),c=Object.values(t),l=function(){var e=Object(o.a)(i.a.mark((function e(){var t,r,a,s,c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j(),r=t.email,a=t.password,s=t.displayName,(c=t.profileUrl)||(c=null),e.next=6,T(r,a);case 6:(o=e.sent).updateProfile({displayName:s,photoURL:c}),t.id=o.uid,l="".concat(n,"-page"),u(t,l);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(t,r){if("user"===n)Tt(t).then((function(){e.history.push("/".concat(r))}));else if("company"===n){(function(e){var t;return S.collection(W).doc(e.id).set((t={},Object(At.a)(t,Y,e.id),Object(At.a)(t,_,e.email),Object(At.a)(t,H,e.companyName),Object(At.a)(t,K,e.dateOfCreation),Object(At.a)(t,Q,e.ceoFirstName),Object(At.a)(t,V,e.ceoLastName),Object(At.a)(t,J,e.cityHeadquarters),Object(At.a)(t,X,e.serviceType),Object(At.a)(t,Z,e.branches),Object(At.a)(t,$,e.profileUrl),Object(At.a)(t,ee,e.phoneNumber),Object(At.a)(t,te,e.website),t)).catch((function(e){console.log(e)}))})(t).then((function(){e.history.push("/".concat(r))}))}},j=function(){var e=null;return"user"===n?e=d():"company"===n&&(e=m()),e},d=function(){return{id:null,email:a.userEmail,password:a.userPassword,displayName:a.firstName,profileUrl:a.imageSource,firstName:a.firstName,lastName:a.lastName,gender:a.gender,dateOfBirth:a.dateOfBirth}},m=function(){return{id:null,email:a.companyEmail,password:a.companyPassword,displayName:a.companyName,profileUrl:a.imageSource,companyName:a.companyName,dateOfCreation:a.companyStartDate,ceoFirstName:a.companyFounderFirstName,ceoLastName:a.companyFounderLastName,cityHeadquarters:a.headCity,serviceType:a.serviceType,branches:a.branches,phoneNumber:"+389"!==a.phoneNumber.trim()?a.phoneNumber:"Not Provided",website:a.companyWebsite.trim().length?a.companyWebsite:"Not Provided"}};return Object(Oe.jsx)(Dt,{keys:s,detailValues:c,prevStep:r,registerAccount:l})}));var Ut=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),r=t[0],n=t[1],s=pt(),c=Object(l.a)(s,2),i=c[0],o=c[1],u=gt(),j=Object(l.a)(u,2),d=j[0],m=j[1],b=kt(),p=Object(l.a)(b,1)[0],h=Object(E.a)(Object(E.a)({},o),m),O=Object(E.a)(Object(E.a)(Object(E.a)({},i),d),p),f=function(){n(r+1)},x=function(){n(r-1)};return Object(Oe.jsx)(Oe.Fragment,{children:function(){switch(r){case 1:return Object(Oe.jsx)(dt,{nextStep:f,values:i});case 2:return Object(Oe.jsx)(vt,{nextStep:f,prevStep:x,values:d});case 3:return Object(Oe.jsx)(Pt,{nextStep:f,prevStep:x,values:p});case 4:return Object(Oe.jsx)(It,{parameters:h,prevStep:x,values:O,accountType:"user"});default:return alert("Invalid step!")}}()})},Rt=r(132),Lt=r.n(Rt),Mt=r(97),zt=r.n(Mt);var qt=function(e){var t=e.values,r=e.continueRegistration;return Object(Oe.jsxs)("div",{className:"form-container-flex",children:[Object(Oe.jsx)("div",{className:"form-explanation-container",children:Object(Oe.jsx)(d.a,{variant:"h2",children:"Enter company details"})}),Object(Oe.jsx)("div",{className:"form-inputs-container",children:Object(Oe.jsxs)("div",{className:"login-form-inputs",children:[Object(Oe.jsx)(b.a,{style:{backgroundColor:"#3f51b5"},children:Object(Oe.jsx)(ze.a,{})}),Object(Oe.jsx)(d.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(Oe.jsx)("br",{}),Object(Oe.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,children:Object(Oe.jsx)(Le.a,{margin:"dense",variant:"standard",required:!0,fullWidth:!0,autoFocus:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(Lt.a,{style:{color:"whitesmoke"}})})},label:"Company Name",type:"text",error:!!t.companyNameErr,helperText:t.companyNameErr,value:t.companyName,onChange:function(e){return t.setCompanyName(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,children:Object(Oe.jsx)(nt.a,{utils:et.a,children:Object(Oe.jsx)(st.a,{fullWidth:!0,variant:"dialog",format:"dd/MM/yyyy",margin:"normal",label:"Date of Incorporation",maxDate:new Date,value:t.companyStartDate,onChange:function(e){return t.setCompanyStartDate(e)}})})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,label:"CEO First Name",type:"text",InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(zt.a,{style:{color:"whitesmoke"}})})},error:!!t.companyFounderFirstNameErr,helperText:t.companyFounderFirstNameErr,value:t.companyFounderFirstName,onChange:function(e){return t.setCompanyFounderFirstName(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,label:"CEO Last Name",type:"text",InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(zt.a,{style:{color:"whitesmoke"}})})},error:!!t.companyFounderLastNameErr,helperText:t.companyFounderLastNameErr,value:t.companyFounderLastName,onChange:function(e){return t.setCompanyFounderLastName(e.target.value)}})})]}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{className:"login-form-submit",children:Object(Oe.jsxs)(j.a,{container:!0,spacing:2,justify:"center",children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(ye.b,{to:"/",children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,color:"default",children:"Back"})})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:function(e){return r(e)},children:"Continue"})})]})})]})})]})};var Gt=function(e){var t=e.values,r=e.nextStep;return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(qt,{values:t,continueRegistration:function(e){e.preventDefault(),function(){t.setCompanyNameErr(""),t.setCompanyFounderFirstNameErr(""),t.setCompanyFounderLastNameErr("");var e="",r="",a="";return!isNaN(t.companyStartDate.getTime())&&(""===t.companyName.trim()&&(e="Enter company's name!"),""===t.companyFounderFirstName.trim()&&(r="Enter CEO's first name!"),""===t.companyFounderLastName.trim()&&(a="Enter CEO's last name!"),!(e.length||r.length||a.length)||(t.setCompanyNameErr(e),t.setCompanyFounderFirstNameErr(r),t.setCompanyFounderLastNameErr(a),!1))}()&&r()}})})},Yt=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(new Date),c=Object(l.a)(s,2),i=c[0],o=c[1],u=Object(a.useState)(""),j=Object(l.a)(u,2),d=j[0],m=j[1],b=Object(a.useState)(""),p=Object(l.a)(b,2),h=p[0],O=p[1],f=Object(a.useState)(""),x=Object(l.a)(f,2),v=x[0],g=x[1],y=Object(a.useState)(""),N=Object(l.a)(y,2),C=N[0],E=N[1],w=Object(a.useState)(""),S=Object(l.a)(w,2);return[{companyName:r,setCompanyName:n,companyNameErr:v,setCompanyNameErr:g,companyStartDate:i,setCompanyStartDate:o,companyFounderFirstName:d,setCompanyFounderFirstName:m,companyFounderFirstNameErr:C,setCompanyFounderFirstNameErr:E,companyFounderLastName:h,setCompanyFounderLastName:O,companyFounderLastNameErr:S[0],setCompanyFounderLastNameErr:S[1]},{"Company Name":r,"Date of Incorporation":i?bt()(i).format(Ve):"","Founder Name":"".concat(d," ").concat(h)}]},Ht=r(50),_t=r(70),Kt=r.n(_t),Qt=r(236),Vt=r.n(Qt),Jt=r(133),Xt=r.n(Jt);var Zt=function(e){var t=e.values,r=e.continueRegistration,a=e.goBackRegistration,n=e.typesOfServices,s=e.handleBranchAdd,c=e.handleBranchRemove,i=e.handlePhoneNumberChange;return Object(Oe.jsxs)("div",{className:"form-container-flex",children:[Object(Oe.jsx)("div",{className:"form-explanation-container",children:Object(Oe.jsx)(d.a,{variant:"h2",children:"Enter company service details"})}),Object(Oe.jsx)("div",{className:"form-inputs-container",children:Object(Oe.jsxs)("div",{className:"login-form-inputs",children:[Object(Oe.jsx)(b.a,{style:{backgroundColor:"#3f51b5"},children:Object(Oe.jsx)(ze.a,{})}),Object(Oe.jsx)(d.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsxs)(j.a,{container:!0,spacing:2,alignItems:"center",children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,autoFocus:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(Vt.a,{style:{color:"whitesmoke"}})})},label:"City Headquarters",type:"text",error:!!t.headCityErr.length,helperText:t.headCityErr,value:t.headCity,onChange:function(e){return t.setHeadCity(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(at.a,{style:{color:"#f5f5f5",marginTop:"1.2em"},margin:"normal",variant:"standard",fullWidth:!0,value:t.serviceType,onChange:function(e){return t.setServiceType(e.target.value)},children:n.map((function(e){return Object(Oe.jsx)(h.a,{value:e,children:e},e)}))})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,children:Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(Kt.a,{className:"chip-input",fullWidth:!0,"aria-autocomplete":"none",label:"Branch cities",allowDuplicates:!1,value:t.branches,placeholder:"Branch cities",helperText:"Press ENTER to add city",onAdd:function(e){return s(e)},onDelete:function(e,t){return c(e,t)}})})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(Xt.a,{style:{color:"whitesmoke"}})})},label:"Telephone (optional)",type:"tel",error:!!t.phoneNumberErr.length,helperText:t.phoneNumberErr,value:t.phoneNumber,onChange:function(e){return i(e.target.value)}})})]}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{className:"login-form-submit",children:Object(Oe.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,onClick:function(e){return a(e)},children:"Back"})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:function(e){return r(e)},children:"Continue"})})]})})]})})]})},$t=r(134),er=["Electricity","Plumbing","ISP"],tr=$t.PhoneNumberUtil.getInstance();var rr=function(e){var t=e.values,r=e.nextStep,a=e.prevStep,n=function(e){var r=Object(Ht.a)(t.branches),a=e.slice(0,1).toUpperCase()+e.slice(1);t.branches.includes(a)||""===a.trim()||(r.push(a),t.setBranches(r))};return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(Zt,{values:t,continueRegistration:function(e){e.preventDefault(),function(){t.setHeadCityErr(""),t.setPhoneNumberErr("");var e="",r="";""===t.headCity.trim()&&(e="Enter headquarters city!");var a=t.headCity.slice(0,1).toUpperCase()+t.headCity.slice(1);if(t.setHeadCity(a),t.branches.includes(a)||n(a),"+389"!==t.phoneNumber.trim()){var s=tr.parse(t.phoneNumber,"MK");tr.isValidNumberForRegion(s,"MK")||(r="Invalid number entered for MK region!")}return!e.length&&!r.length||(t.setHeadCityErr(e),t.setPhoneNumberErr(r),!1)}()&&r()},goBackRegistration:function(e){e.preventDefault(),a()},typesOfServices:er,handleBranchAdd:n,handleBranchRemove:function(e,r){var a=Object(Ht.a)(t.branches);a.splice(r,1),t.setBranches(a)},handlePhoneNumberChange:function(e){"+389"===e.slice(0,4)&&t.setPhoneNumber(e)}})})},ar=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)("Electricity"),c=Object(l.a)(s,2),i=c[0],o=c[1],u=Object(a.useState)([]),j=Object(l.a)(u,2),d=j[0],m=j[1],b=Object(a.useState)("+389"),p=Object(l.a)(b,2),h=p[0],O=p[1],f=Object(a.useState)(""),x=Object(l.a)(f,2),v=x[0],g=x[1],y=Object(a.useState)(""),N=Object(l.a)(y,2);return[{headCity:r,setHeadCity:n,headCityErr:v,setHeadCityErr:g,serviceType:i,setServiceType:o,branches:d,setBranches:m,phoneNumber:h,setPhoneNumber:O,phoneNumberErr:N[0],setPhoneNumberErr:N[1]},{Headquarters:r,"Service Type":i,"Phone number":"+389"!==h.trim()?h:"Not provided"}]},nr=r(237),sr=r.n(nr),cr=r(135),ir=r.n(cr);var or=function(e){var t=e.values,r=e.continueRegistration,a=e.goBackRegistration,n=e.progressBar;return Object(Oe.jsxs)("div",{className:"form-container-flex",children:[Object(Oe.jsx)("div",{className:"form-explanation-container",children:Object(Oe.jsx)(d.a,{variant:"h2",children:"Enter company account details"})}),n&&Object(Oe.jsx)("div",{children:Object(Oe.jsx)(ht.a,{style:{width:60,height:60,marginRight:"2em"}})}),Object(Oe.jsx)("div",{className:"form-inputs-container",children:Object(Oe.jsxs)("div",{className:"login-form-inputs",children:[Object(Oe.jsx)(b.a,{style:{backgroundColor:"#3f51b5"},children:Object(Oe.jsx)(ze.a,{})}),Object(Oe.jsx)(d.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(Oe.jsx)("br",{}),Object(Oe.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,autoFocus:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(sr.a,{style:{color:"whitesmoke"}})})},label:"Company Email",type:"email",error:!!t.companyEmailErr,helperText:t.companyEmailErr,value:t.companyEmail,onChange:function(e){return t.setCompanyEmail(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(_e.a,{style:{color:"whitesmoke"}})})},label:"Password",type:"password",error:!!t.companyPasswordErr,helperText:t.companyPasswordErr,value:t.companyPassword,onChange:function(e){return t.setCompanyPassword(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(_e.a,{style:{color:"whitesmoke"}})})},label:"Confirm password",type:"password",error:!!t.companyConfirmPasswordErr,helperText:t.companyConfirmPasswordErr,value:t.companyConfirmPassword,onChange:function(e){return t.setCompanyConfirmPassword(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(ir.a,{style:{color:"whitesmoke"}})})},label:"Company website (optional)",type:"url",error:!!t.companyWebsiteErr,helperText:t.companyWebsiteErr,value:t.companyWebsite,onChange:function(e){return t.setCompanyWebsite(e.target.value)}})})]}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{className:"login-form-submit",children:Object(Oe.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,onClick:function(e){return a(e)},children:"Back"})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:function(e){return r(e)},children:"Continue"})})]})})]})})]})};var lr=function(e){var t=e.values,r=e.nextStep,n=e.prevStep,s=Object(a.useState)(!1),c=Object(l.a)(s,2),u=c[0],j=c[1],d=function(e){for(var t=!1,r=0;r<e.length;r++){var a=e[r];if(/^[A-Z]*$/.test(a)){t=!0;break}}return t},m=function(){var e=Object(o.a)(i.a.mark((function e(){var r,a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),t.setCompanyEmailErr(""),t.setCompanyPasswordErr(""),t.setCompanyConfirmPasswordErr(""),t.setCompanyWebsiteErr(""),r="",a="",n="",s="",t.companyPassword!==t.companyConfirmPassword&&(n="Passwords don't match!"),""===t.companyEmail.trim()&&(r="Enter company's email!"),""===t.companyPassword.trim()&&(a="Enter password!"),""===t.companyConfirmPassword.trim()&&(n="Confirm password!"),Qe.test(t.companyEmail)||(r="Email invalid format!"),d(t.companyEmail)&&(r="No uppercase letters in email!"),t.companyPassword.length<6&&(a="Password must be at least 6 characters!"),""!==t.companyWebsite.trim()&&(Xe.test(t.companyWebsite)||(s="Invalid website URL!")),!(r.length||a.length||n.length||s.length)){e.next=24;break}return t.setCompanyEmailErr(r),t.setCompanyPasswordErr(a),t.setCompanyConfirmPasswordErr(n),t.setCompanyWebsiteErr(s),j(!1),e.abrupt("return",!1);case 24:return e.next=26,he(t.companyEmail);case 26:if(e.sent){e.next=31;break}return t.setCompanyEmailErr("Email is already in use!"),j(!1),e.abrupt("return",!1);case 31:return e.abrupt("return",!0);case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m();case 3:if(!e.sent){e.next=5;break}r();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(or,{values:t,continueRegistration:b,goBackRegistration:function(e){e.preventDefault(),n()},progressBar:u})})},ur=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(""),c=Object(l.a)(s,2),i=c[0],o=c[1],u=Object(a.useState)(""),j=Object(l.a)(u,2),d=j[0],m=j[1],b=Object(a.useState)(""),p=Object(l.a)(b,2),h=p[0],O=p[1],f=Object(a.useState)(""),x=Object(l.a)(f,2),v=x[0],g=x[1],y=Object(a.useState)(""),N=Object(l.a)(y,2),C=N[0],E=N[1],w=Object(a.useState)(""),S=Object(l.a)(w,2),P=S[0],k=S[1],A=Object(a.useState)(""),T=Object(l.a)(A,2);return[{companyEmail:r,setCompanyEmail:n,companyEmailErr:v,setCompanyEmailErr:g,companyPassword:i,setCompanyPassword:o,companyPasswordErr:C,setCompanyPasswordErr:E,companyConfirmPassword:d,setCompanyConfirmPassword:m,companyConfirmPasswordErr:P,setCompanyConfirmPasswordErr:k,companyWebsite:h,setCompanyWebsite:O,companyWebsiteErr:T[0],setCompanyWebsiteErr:T[1]},{Website:h.trim().length?h:"Not provided",Email:r}]};var jr=function(e){var t=e.values,r=e.continueRegistration,a=e.goBackRegistration,n=e.uploadFile;return Object(Oe.jsxs)("div",{className:"form-container-flex",children:[Object(Oe.jsx)("div",{className:"form-explanation-container",children:Object(Oe.jsx)(d.a,{variant:"h2",children:"Upload a profile picture"})}),Object(Oe.jsx)("div",{className:"form-inputs-container",children:Object(Oe.jsxs)("div",{className:"login-form-inputs",children:[Object(Oe.jsx)(b.a,{style:{backgroundColor:"#3f51b5"},children:Object(Oe.jsx)(ze.a,{})}),Object(Oe.jsx)(d.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{id:"upload-pic-text",children:Object(Oe.jsx)(d.a,{variant:"h6",style:{fontWeight:300},children:"Select your profile picture (optional)"})}),Object(Oe.jsx)("div",{className:"upload-container-img",children:Object(Oe.jsxs)("div",{className:"profile-pic-container",children:[t.imageSource&&Object(Oe.jsx)("img",{alt:"profile",src:t.imageSource}),Object(Oe.jsx)(Et,{file:t.file,setFile:t.setFile,setImageSource:t.setImageSource})]})}),Object(Oe.jsx)("div",{className:"upload-container",children:Object(Oe.jsxs)("label",{id:"upload_label",children:[Object(Oe.jsx)("input",{type:"file",onChange:n}),Object(Oe.jsx)("span",{children:"+"})]})}),t.fileErr?Object(Oe.jsx)(d.a,{variant:"body1",color:"error",children:t.fileErr}):null,Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{className:"login-form-submit",children:Object(Oe.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,onClick:function(e){return a(e)},children:"Back"})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:function(e){return r(e)},children:t.imageSource?"Continue":"Skip"})})]})})]})})]})},dr=["image/png","image/jpg","image/jpeg"];var mr=function(e){var t=e.values,r=e.nextStep,a=e.prevStep,n=!1;return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(jr,{values:t,continueRegistration:function(e){e.preventDefault(),n||r()},goBackRegistration:function(e){e.preventDefault(),a()},uploadFile:function(e){t.setFileErr(""),n=!1,t.imageSource&&Nt(t.imageSource);var r=e.target.files[0];r?dr.includes(r.type)?(t.setFile(r),t.setFileErr(""),n=!1):(t.setFileErr("Select a valid file (png, jpg or jpeg)"),n=!0):(t.setFile(null),n=!0)}})})},br=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(""),c=Object(l.a)(s,2),i=c[0],o=c[1],u=Object(a.useState)(""),j=Object(l.a)(u,2);return[{file:r,setFile:n,imageSource:j[0],fileErr:i,setFileErr:o,setImageSource:j[1]}]};var pr=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Yt(),c=Object(l.a)(s,2),i=c[0],o=c[1],u=ar(),j=Object(l.a)(u,2),d=j[0],m=j[1],b=ur(),p=Object(l.a)(b,2),h=p[0],O=p[1],f=br(),x=Object(l.a)(f,1)[0],v=Object(E.a)(Object(E.a)(Object(E.a)({},o),m),O),g=Object(E.a)(Object(E.a)(Object(E.a)(Object(E.a)({},i),d),h),x),y=function(){n(r+1)},N=function(){n(r-1)};return Object(Oe.jsx)(Oe.Fragment,{children:function(){switch(r){case 1:return Object(Oe.jsx)(Gt,{values:i,nextStep:y});case 2:return Object(Oe.jsx)(rr,{values:d,nextStep:y,prevStep:N});case 3:return Object(Oe.jsx)(lr,{values:h,nextStep:y,prevStep:N});case 4:return Object(Oe.jsx)(mr,{values:x,nextStep:y,prevStep:N});case 5:return Object(Oe.jsx)(It,{parameters:v,prevStep:N,values:g,accountType:"company"});default:return alert("Invalid step!")}}()})},hr=r(385),Or=Object(N.a)({centerFormContainer:{display:"grid",placeItems:"center",padding:"2em 1.5em"}});var fr=Object(u.f)((function(e){var t=Or(),r=Object(a.useContext)(Ee).currentUser;r&&function(){var t=Object(o.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be(r.email);case 2:a=t.sent,n="",n=a?"user-page":"company-page",e.history.push("/".concat(n));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()();var n="user"===e.match.params.type?Object(Oe.jsx)(Ut,{}):Object(Oe.jsx)(pr,{});return!r&&Object(Oe.jsx)(hr.a,{className:t.centerFormContainer,children:n})})),xr=(r(86),r(386)),vr=r(376),gr=Object(N.a)({tooltipTitle:{padding:"0.5em",fontWeight:300}});var yr=function(e){var t=e.displayIcon,r=e.serviceType,a=gr(),n=Object(Oe.jsx)("h1",{className:a.tooltipTitle,children:r});return Object(Oe.jsx)(ye.b,{to:"/user-page/posts/".concat(r),children:Object(Oe.jsx)("div",{className:"post-icon",children:Object(Oe.jsx)(xr.a,{className:a.tooltipSize,title:n,TransitionComponent:vr.a,children:t})})})},Nr=r(239),Cr=r.n(Nr),Er=r(240),wr=r.n(Er),Sr=r(241),Pr=r.n(Sr),kr=r(377),Ar=r(136),Tr=r.n(Ar),Fr=Object(N.a)({iconSize:{width:150,height:150,color:"whitesmoke","&:hover":{filter:"drop-shadow(0px 0px 5px #3f51b5)",cursor:"pointer"}}});var Wr=function(){var e=Fr();return Object(Oe.jsxs)("div",{className:"user-homepage-container",children:[Object(Oe.jsxs)("div",{className:"user-homepage-title",children:[Object(Oe.jsx)(d.a,{variant:"h2",children:"Dashboard"}),Object(Oe.jsx)(d.a,{variant:"h4",style:{fontWeight:"200"},children:"Select a company type to find out more about them!"})]}),Object(Oe.jsx)("div",{className:"post-links-container-grid",children:Object(Oe.jsxs)("div",{className:"post-links-container-flex",children:[Object(Oe.jsx)(yr,{displayIcon:Object(Oe.jsx)(Cr.a,{className:e.iconSize}),serviceType:"Electricity"}),Object(Oe.jsx)(yr,{displayIcon:Object(Oe.jsx)(wr.a,{className:e.iconSize}),serviceType:"Plumbing"}),Object(Oe.jsx)(yr,{displayIcon:Object(Oe.jsx)(Pr.a,{className:e.iconSize}),serviceType:"ISP"})]})}),Object(Oe.jsx)("div",{className:"posts-list-add-subscribtion",children:Object(Oe.jsx)(ye.b,{to:"/subscribe/Electricity",children:Object(Oe.jsx)(kr.a,{color:"primary",size:"large",style:{padding:"2.8em"},children:Object(Oe.jsx)(Tr.a,{style:{width:35,height:35}})})})})]})};var Br=Object(u.f)((function(e){var t=e.history,r=Object(a.useContext)(Ee).currentUser;return null===r&&t.push("/"),r&&Object(Oe.jsx)(Wr,{})})),Dr=r(93),Ir=r.n(Dr);var Ur=function(e){var t=e.serviceType;return Object(Oe.jsxs)("div",{className:"no-subscribtions-container",children:[Object(Oe.jsx)("div",{className:"no-subscribtions-icon",children:Object(Oe.jsx)(Ir.a,{style:{width:100,height:100,color:"whitesmoke",marginRight:"2em"}})}),Object(Oe.jsx)("div",{className:"no-subscribtions-message",children:Object(Oe.jsxs)(d.a,{variant:"h5",children:["Ooops... You haven\u2019t subscribed to any ",Object(Oe.jsx)("span",{children:t})," companies yet!"]})}),Object(Oe.jsxs)("div",{className:"no-subscribtions-btn",children:[Object(Oe.jsx)(ye.b,{to:"/user-page",children:Object(Oe.jsx)(Fe.a,{variant:"contained",color:"default",children:"Go Back"})}),Object(Oe.jsx)(ye.b,{to:"/subscribe/"+t,children:Object(Oe.jsx)(Fe.a,{variant:"contained",color:"primary",children:"Subscribe"})})]})]})},Rr=r(378),Lr=r(379),Mr=r(380),zr=r(381),qr=r(347),Gr=r(243),Yr=r.n(Gr),Hr=r(242),_r=r.n(Hr),Kr=r(244),Qr=r.n(Kr),Vr=r(245),Jr=r.n(Vr),Xr=r(71),Zr=r.n(Xr),$r=r(73),ea=r.n($r),ta=r(72),ra=r.n(ta),aa=Object(N.a)({detailsCardRoot:{background:"transparent",border:"none",margin:"2em 0",boxShadow:"none"},header:{display:"flex",alignItems:"flex-start",marginBottom:0,marginTop:0,paddingBottom:0,paddingTop:0},avatar:{backgroundColor:C.a[900],width:90,height:90,margin:"0 auto"},avatarImg:{display:"block",objectFit:"contain"},postCreator:{fontSize:"1.5rem",fontWeight:"500",color:"whitesmoke"},postType:{fontSize:"1.2rem",fontWeight:"500",display:"flex",alignItems:"flex-start",justifyContent:"flex-start"},postTitle:{fontSize:"1.7rem",fontWeight:"500",color:"whitesmoke"},postTimestamp:{color:"#888",fontSize:"1rem",fontWeight:"normal"},postCities:{fontSize:"1.2rem",fontWeight:"400",color:"whitesmoke"},postContent:{fontSize:"1rem",fontWeight:"300",color:"whitesmoke"},button:{padding:".5em 0",fontSize:"1.1rem"}});var na=function(e){var t=e.post,r=e.postCreator,a=e.postTimestamp,n=e.postCreatorProfileUrl,s=e.handleClose,c=aa(),i=Object(Oe.jsx)(b.a,{"aria-label":"recipe",className:c.avatar,children:Object(Oe.jsx)(d.a,{variant:"h2",children:r[0]})}),o=Object(Oe.jsx)(b.a,{className:c.avatar,classes:{img:c.avatarImg},src:n});return Object(Oe.jsx)("div",{className:"details-post-container",children:Object(Oe.jsx)("div",{className:"details-post-dialog",children:Object(Oe.jsxs)("div",{className:"details-post-dialog-container",children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:12,style:{alignSelf:"center"},children:Object(Oe.jsx)(d.a,{variant:"h4",children:"Post Details"})}),Object(Oe.jsx)("div",{className:"post-details-post-container",children:Object(Oe.jsxs)(Rr.a,{className:c.detailsCardRoot,children:[Object(Oe.jsx)(Lr.a,{className:c.header,avatar:n.length?o:i,title:Object(Oe.jsx)(d.a,{variant:"body1",className:c.postCreator,children:r}),subheader:Object(Oe.jsx)(d.a,{variant:"subtitle2",className:c.postTimestamp,children:a})}),Object(Oe.jsxs)(Mr.a,{children:[Object(Oe.jsxs)(d.a,{style:{color:function(e){switch(e){case"Warning":return"#F50057";case"Info":return"whitesmoke";case"Promo":return"#3f51b5";default:return"black"}}(t.type)},variant:"body1",className:c.postType,children:[function(e){switch(e){case"Warning":return Object(Oe.jsx)(Zr.a,{style:{color:"#F50057",marginRight:".1em"}});case"Info":return Object(Oe.jsx)(ra.a,{style:{color:"whitesmoke",marginRight:".1em"}});case"Promo":return Object(Oe.jsx)(ea.a,{style:{color:"#3f51b5",marginRight:".1em",transform:"translateY(-2px)"}});default:return null}}(t.type),t.type]}),Object(Oe.jsx)(d.a,{className:c.postTitle,variant:"body1",children:t.title}),Object(Oe.jsxs)(d.a,{variant:"body2",className:c.postCities,children:["Cities affected: ",function(){var e="";return t.cities_affected.forEach((function(t){e+=t+", "})),e=(e=e.trim()).slice(0,e.length-1),e+="."}()]}),Object(Oe.jsxs)(d.a,{variant:"body2",className:c.postContent,component:"div",children:[Object(Oe.jsx)("hr",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),t.content]})]})]})}),Object(Oe.jsx)(j.a,{container:!0,spacing:2,justify:"center",children:Object(Oe.jsx)(j.a,{item:!0,xs:12,children:Object(Oe.jsx)(Fe.a,{onClick:function(){return s()},variant:"contained",fullWidth:!0,color:"default",className:c.button,children:"Close"})})})]})})})};var sa=function(e){var t=e.post,r=e.postCreator,a=e.postTimestamp,n=e.postCreatorProfileUrl,s=e.handleClose;return Object(Oe.jsx)(na,{post:t,postTimestamp:a,postCreator:r,postCreatorProfileUrl:n,handleClose:s})},ca=Object(N.a)((function(e){return{root:{maxWidth:345,height:"100%",borderRadius:"0.2em"},actions:{justifyContent:"space-between",padding:"0.3em 0.1em"},cardContent:{height:"14em",whiteSpace:"wrap",overflow:"hidden",textOverflow:"ellipsis"},readButton:{width:28,height:28},starButton:{width:28,height:28,color:"#E9BA1E"},detailsButton:{marginRight:"1em"},avatar:{backgroundColor:C.a[900],width:50,height:50,margin:"0 auto"},avatarImg:{display:"block",objectFit:"contain"}}}));var ia=function(e){var t=ca(),r=Object(a.useState)(!1),n=Object(l.a)(r,2),s=n[0],c=n[1],i=function(){return c(!1)},o=e.post,u=e.postTimestamp,j=e.postCreator,p=e.postCreatorProfileUrl,h=e.toggleReadPost,O=e.toggleStarPost,f=Object(Oe.jsx)(b.a,{"aria-label":"recipe",className:t.avatar,children:Object(Oe.jsx)(d.a,{variant:"h4",children:j[0]})}),x=Object(Oe.jsx)(b.a,{className:t.avatar,classes:{img:t.avatarImg},src:p}),v=Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(sa,{post:o,postTimestamp:u,postCreator:j,postCreatorProfileUrl:p,handleClose:i})});return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:"posts-list-post-container",children:Object(Oe.jsxs)(Rr.a,{className:t.root,children:[Object(Oe.jsx)(Lr.a,{avatar:p.length?x:f,title:Object(Oe.jsx)(d.a,{style:{fontWeight:"bold"},variant:"body1",children:j}),subheader:Object(Oe.jsxs)(d.a,{style:{fontWeight:"normal",color:"#888"},variant:"subtitle2",children:[u,Object(Oe.jsx)("hr",{})]})}),Object(Oe.jsxs)(Mr.a,{className:t.cardContent,children:[Object(Oe.jsxs)(d.a,{variant:"body1",style:{color:function(e){switch(e){case"Warning":return"#F50057";case"Info":return"#2F303A";case"Promo":return"#3f51b5";default:return"black"}}(o.type),fontSize:".95rem",fontWeight:o.read?"normal":"bold",cursor:"default",display:"flex"},children:[function(e){switch(e){case"Warning":return Object(Oe.jsx)(Zr.a,{style:{color:"#F50057",marginRight:".1em",width:20,height:20}});case"Info":return Object(Oe.jsx)(ra.a,{style:{color:"#2F303A",marginRight:".1em",width:20,height:20}});case"Promo":return Object(Oe.jsx)(ea.a,{style:{color:"#3f51b5",marginRight:".1em",width:20,height:20,transform:"translateY(-2px)"}});default:return null}}(o.type),o.type]}),Object(Oe.jsx)("div",{style:{width:"15em"},children:Object(Oe.jsx)(d.a,{variant:"body1",color:"textPrimary",style:{fontWeight:o.read?"normal":"bold",fontSize:"1.2rem",lineHeight:"1.5em",marginBottom:".5em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:o.title})}),Object(Oe.jsx)(d.a,{variant:"body2",color:"textSecondary",component:"p",style:{fontWeight:o.read?"normal":"bold"},children:o.content.slice(0,180)+(o.content.length>180?"...":"")})]}),Object(Oe.jsx)("hr",{}),Object(Oe.jsxs)(zr.a,{className:t.actions,children:[Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(m.a,{onClick:function(){return h()},color:"primary",style:{padding:"0.1em",margin:"0.5em"},children:o.read?Object(Oe.jsx)(_r.a,{className:t.readButton}):Object(Oe.jsx)(Yr.a,{className:t.readButton})}),Object(Oe.jsx)(m.a,{onClick:function(){return O()},color:"primary",style:{padding:"0.1em"},children:o.starred?Object(Oe.jsx)(Qr.a,{className:t.starButton}):Object(Oe.jsx)(Jr.a,{className:t.starButton})})]}),Object(Oe.jsx)(Fe.a,{onClick:function(){return c(!0)},size:"small",color:"primary",className:t.detailsButton,children:"Details"})]})]})}),Object(Oe.jsx)(qr.a,{disableScrollLock:!0,open:s,onClose:function(){return i()},children:v})]})};var oa=function(e){var t=e.post,r=new Date(t.created_on.toDate()),a=bt()(r).format(Je),n=t[ie],s=t[oe];return Object(Oe.jsx)(ia,{post:t,postTimestamp:a,postCreator:n,postCreatorProfileUrl:s,toggleReadPost:function(){var e,r;t.read?function(e,t){S.collection(B).doc(e).update(Object(At.a)({},re,w.a.firestore.FieldValue.arrayRemove(t)))}(t.currentUserId,t.post_id):(e=t.currentUserId,r=t.post_id,S.collection(B).doc(e).update(Object(At.a)({},re,w.a.firestore.FieldValue.arrayUnion(r))))},toggleStarPost:function(){var e,r;t.starred?function(e,t){S.collection(B).doc(e).update(Object(At.a)({},ae,w.a.firestore.FieldValue.arrayRemove(t)))}(t.currentUserId,t.post_id):(e=t.currentUserId,r=t.post_id,S.collection(B).doc(e).update(Object(At.a)({},ae,w.a.firestore.FieldValue.arrayUnion(r))))}})};var la=function(e){var t=e.serviceType;return Object(Oe.jsxs)("div",{className:"posts-list-no-posts-container",children:[Object(Oe.jsx)("div",{className:"no-subscribtions-icon",children:Object(Oe.jsx)(Ir.a,{style:{width:100,height:100,color:"whitesmoke",marginRight:"2em"}})}),Object(Oe.jsx)("div",{className:"posts-list-no-posts-message",children:Object(Oe.jsx)(d.a,{variant:"h4",style:{textAlign:"center"},children:"Sorry, the companies you've subcribed to have no posts yet \ud83d\ude1e"})}),Object(Oe.jsxs)("div",{className:"posts-list-no-posts-buttons",children:[Object(Oe.jsx)(ye.b,{to:"/user-page",children:Object(Oe.jsx)(Fe.a,{variant:"contained",color:"default",children:"Go back"})}),Object(Oe.jsx)(ye.b,{to:"/subscribe/".concat(t),children:Object(Oe.jsx)(Fe.a,{variant:"contained",color:"primary",children:"Subscribe"})})]})]})};var ua=function(e){var t=e.serviceType,r=e.postsList,a=r?Object(Oe.jsxs)("div",{className:"posts-list-container",children:[r.map((function(e){return Object(Oe.jsx)(oa,{post:e},e.post_id)})),Object(Oe.jsx)("div",{className:"posts-list-add-subscribtion",children:Object(Oe.jsx)(ye.b,{to:"/subscribe/"+t,children:Object(Oe.jsx)(kr.a,{color:"primary",size:"large",style:{padding:"2.8em"},children:Object(Oe.jsx)(Tr.a,{style:{width:35,height:35}})})})})]}):null,n=Object(Oe.jsx)("div",{className:"posts-list-progress",children:Object(Oe.jsx)(ht.a,{style:{width:120,height:120}})});return r?r.length?a:Object(Oe.jsx)(la,{serviceType:t}):n};var ja=function(e){var t,r,n=e.serviceType,s=e.userSubscribtions,c=Object(a.useContext)(Ee).currentUser,i=function(e,t){var r=Object(a.useState)(null),n=Object(l.a)(r,2),s=n[0],c=n[1];return Object(a.useEffect)((function(){var t=S.collection(I);if(e){var r=null;return(r=t.orderBy(me,"desc").where(ce,"in",e).onSnapshot((function(e){var t=[];e.docs.map((function(e){return t.push(e.data())})),c(t)})))?function(){return r()}:void 0}}),[t]),s}(s?s.length?s.map((function(e){return e.id})):[]:null,s),o=function(e){var t=Object(a.useState)(null),r=Object(l.a)(t,2),n=r[0],s=r[1];return Object(a.useEffect)((function(){var t=S.collection(B);if(e){var r=null;return(r=t.doc(e[U]).onSnapshot((function(e){var t=e.data(),r=t[re],a=t[ae],n={id:e.id,readPosts:r,starredPosts:a};s(n)})))?function(){return r()}:void 0}}),[e]),n}(c),u=(r=o,(t=i)&&r?t.map((function(e){var t=!1,a=!1;return r.readPosts.includes(e.post_id)&&(t=!0),r.starredPosts.includes(e.post_id)&&(a=!0),Object(E.a)(Object(E.a)({},e),{},{read:t,starred:a,currentUserId:r.id})})):null);return Object(Oe.jsx)(ua,{serviceType:n,postsList:u})};var da=function(e){var t=e.serviceType,r=e.userSubscribtions;return r?r.length?Object(Oe.jsx)(ja,{serviceType:t,userSubscribtions:r}):Object(Oe.jsx)(Ur,{serviceType:t}):Object(Oe.jsx)("div",{className:"posts-list-progress",children:Object(Oe.jsx)(ht.a,{style:{width:120,height:120}})})},ma=function(e){var t=Object(a.useState)(null),r=Object(l.a)(t,2),n=r[0],s=r[1];return Object(a.useEffect)((function(){var t=S.collection(D);if(e){var r=null;return(r=t.doc(e[U]).onSnapshot((function(t){var r=t.data(),a=e[U],n=r[ne];s({id:a,subscribtions:n})})))?function(){return r()}:void 0}}),[e]),n};var ba=Object(u.f)((function(e){var t=e.match.params.type,r=Object(a.useContext)(Ee).currentUser,n=ma(r),s=n?n.subscribtions.length?"All"===t?n.subscribtions.sort():n.subscribtions.filter((function(e){return e.type===t})).sort():[]:null;return Object(Oe.jsx)(da,{serviceType:t,userSubscribtions:s})})),pa=(r(205),r(246)),ha=r.n(pa),Oa=["Warning","Info","Promo"],fa=Object(N.a)({button:{padding:".5em 0",fontSize:"1rem"}});var xa=function(e){var t=e.formData,r=e.createPost,a=e.cancelPost,n=e.handleBranchAdd,s=e.handleBranchRemove,c=fa();return Object(Oe.jsx)("div",{className:"add-post-form-container",children:Object(Oe.jsx)("div",{className:"add-post-form-dialog",children:Object(Oe.jsxs)("div",{className:"add-post-form-dialog-container",children:[Object(Oe.jsxs)(j.a,{container:!0,spacing:2,alignItems:"flex-end",justify:"flex-start",children:[Object(Oe.jsxs)(j.a,{item:!0,xs:12,sm:12,style:{alignSelf:"center"},children:[Object(Oe.jsx)(d.a,{variant:"h4",children:"New post"}),Object(Oe.jsx)("br",{})]}),Object(Oe.jsx)(j.a,{item:!0,xs:8,sm:3,children:Object(Oe.jsxs)(tt.a,{children:[Object(Oe.jsx)(rt.a,{htmlFor:"genders",children:"Post type"}),Object(Oe.jsx)(at.a,{margin:"dense",variant:"standard",id:"post_type",value:t.postType,onChange:function(e){return t.setPostType(e.target.value)},style:{color:"#f5f5f5",padding:"0.5em 0.8em"},children:Oa.map((function(e){return Object(Oe.jsx)(h.a,{value:e,children:e},e)}))})]})}),Object(Oe.jsx)(j.a,{item:!0,xs:8,sm:6,children:Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(Kt.a,{className:"chip-input",fullWidth:!0,allowDuplicates:!1,error:!!t.citiesPostAppliesErr.length,helperText:t.citiesPostAppliesErr.length?t.citiesPostAppliesErr:"Press ENTER to add city (from company branches)",value:t.citiesPostApplies,placeholder:"Cities affected by this post",onAdd:function(e){return n(e)},onDelete:function(e,t){return s(e,t)}})})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"dense",variant:"standard",required:!0,fullWidth:!0,error:!!t.postTitleErr.length,helperText:t.postTitleErr,label:"Title",type:"text",value:t.postTitle,onChange:function(e){return t.setPostTitle(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:!1,sm:6}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:12,children:Object(Oe.jsx)(Le.a,{variant:"outlined",placeholder:"Content",multiline:!0,fullWidth:!0,error:!!t.postContentErr.length,helperText:t.postContentErr,value:t.postContent,onChange:function(e){return t.setPostContent(e.target.value)},rows:8,rowsMax:10})})]}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{className:"login-form-submit",children:Object(Oe.jsxs)(j.a,{container:!0,spacing:2,justify:"center",children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{onClick:function(){return a()},variant:"contained",fullWidth:!0,color:"default",className:c.button,children:"Cancel"})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{onClick:function(){return r()},variant:"contained",fullWidth:!0,color:"primary",className:c.button,children:"Create"})})]})})]})})})};var va=function(e){var t=e.currentCompanyData,r=e.formData,a=e.createPost,n=e.cancelPost;return Object(Oe.jsx)(xa,{formData:r,handleBranchAdd:function(e){var a=Object(Ht.a)(r.citiesPostApplies),n=e.slice(0,1).toUpperCase()+e.slice(1);t.branches.includes(n)?r.citiesPostApplies.includes(n)||(a.push(n),r.setCitiesPostApplies(a)):r.setCitiesPostAppliesErr("City must be in company's branches!")},handleBranchRemove:function(e,t){var a=Object(Ht.a)(r.citiesPostApplies);a.splice(t,1),r.setCitiesPostApplies(a)},createPost:a,cancelPost:n})},ga=function(){var e=Object(a.useState)("Warning"),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)([]),c=Object(l.a)(s,2),i=c[0],o=c[1],u=Object(a.useState)(""),j=Object(l.a)(u,2),d=j[0],m=j[1],b=Object(a.useState)(""),p=Object(l.a)(b,2),h=p[0],O=p[1],f=Object(a.useState)(""),x=Object(l.a)(f,2),v=x[0],g=x[1],y=Object(a.useState)(""),N=Object(l.a)(y,2),C=N[0],E=N[1],w=Object(a.useState)(""),S=Object(l.a)(w,2);return[{postType:r,setPostType:n,citiesPostApplies:i,setCitiesPostApplies:o,citiesPostAppliesErr:v,setCitiesPostAppliesErr:g,postTitle:d,setPostTitle:m,postTitleErr:C,setPostTitleErr:E,postContent:h,setPostContent:O,postContentErr:S[0],setPostContentErr:S[1]}]},ya=r(383);var Na=function(e){var t=e.currentCompanyData,r=Object(a.useState)(!1),n=Object(l.a)(r,2),s=n[0],c=n[1],i=function(){return c(!1)},o=ga(),u=Object(l.a)(o,1)[0],j=function(){u.setCitiesPostAppliesErr(""),u.setPostTitleErr(""),u.setPostContentErr("");var e="",r="",a="";return 0===u.citiesPostApplies.length&&(e="Must provide at least one city! (ex. ".concat(t.branches[0],")")),0===u.postTitle.length&&(r="Enter the post title!"),0===u.postContent.length&&(a="Enter the post content!"),!e.length&&!r.length||(u.setCitiesPostAppliesErr(e),u.setPostTitleErr(r),u.setPostContentErr(a),!1)},d=Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(va,{currentCompanyData:t,formData:u,createPost:function(){j()&&function(e){var t,r=S.collection(I),a=new Date;return r.doc(e.id).set((t={},Object(At.a)(t,se,e.id),Object(At.a)(t,ce,e.creatorId),Object(At.a)(t,ie,e.creatorName),Object(At.a)(t,oe,e.creatorProfileUrl),Object(At.a)(t,le,e.type),Object(At.a)(t,ue,e.title),Object(At.a)(t,je,e.content),Object(At.a)(t,de,e.citiesPostApplies),Object(At.a)(t,me,a),t))}({id:Object(ya.a)(),creatorId:t[Y],creatorName:t[H],creatorProfileUrl:t[$],type:u.postType,title:u.postTitle,content:u.postContent,citiesPostApplies:u.citiesPostApplies}).then((function(){u.setPostType("Warning"),u.setCitiesPostApplies([]),u.setPostTitle(""),u.setPostContent(""),i()}))},cancelPost:function(){u.setPostType("Warning"),u.setCitiesPostApplies([]),u.setPostTitle(""),u.setPostContent(""),u.setPostTitleErr(""),u.setPostContentErr(""),u.setCitiesPostAppliesErr(""),i()}})});return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:"company-homepage-create-post-fab",children:Object(Oe.jsx)(kr.a,{onClick:function(){return c(!0)},color:"primary",size:"large",style:{padding:"2.8em"},children:Object(Oe.jsx)(ha.a,{style:{width:35,height:35}})})}),Object(Oe.jsx)(qr.a,{disableScrollLock:!0,open:s,onClose:function(){return i()},children:d})]})};var Ca=function(e){var t=e.currentCompanyData;return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)("div",{className:"company-homepage-no-posts-container",children:[Object(Oe.jsx)(Ir.a,{style:{width:90,height:90,color:"whitesmoke",marginRight:"2em"}}),Object(Oe.jsxs)("div",{className:"company-homepage-no-posts-message",children:[Object(Oe.jsx)(d.a,{variant:"h3",align:"center",children:"You have not made any posts!"}),Object(Oe.jsx)(d.a,{variant:"h6",align:"center",style:{color:"#ccc"},children:"Lets change that. Click on the bottom right button to create a post!"})]})]}),Object(Oe.jsx)(Na,{currentCompanyData:t})]})},Ea=r(248),wa=r.n(Ea),Sa=r(247),Pa=r.n(Sa),ka=Object(N.a)({detailsCardRoot:{background:"transparent",border:"none",margin:"2em 0",boxShadow:"none"},postType:{fontSize:"1.2rem",fontWeight:"500",display:"flex",alignItems:"flex-start",justifyContent:"flex-start"},postTitle:{fontSize:"1.5rem",fontWeight:"500",color:"whitesmoke"},postTimestamp:{color:"#888",fontSize:".9rem",fontWeight:"normal"},postCities:{fontSize:"1.2rem",fontWeight:"400",color:"whitesmoke"},postContent:{fontSize:"1rem",fontWeight:"300",color:"whitesmoke"},button:{padding:".5em 0",fontSize:"1.1rem"}});var Aa=function(e){var t=e.post,r=e.postTimestamp,a=e.handleClose,n=ka();return Object(Oe.jsx)("div",{className:"details-post-container",children:Object(Oe.jsx)("div",{className:"details-post-dialog",children:Object(Oe.jsxs)("div",{className:"details-post-dialog-container",children:[Object(Oe.jsxs)(j.a,{item:!0,xs:12,sm:12,style:{alignSelf:"center"},children:[Object(Oe.jsx)(d.a,{variant:"h4",children:"Post Details"}),Object(Oe.jsx)("br",{})]}),Object(Oe.jsx)("div",{className:"post-details-post-container",children:Object(Oe.jsxs)(Rr.a,{className:n.detailsCardRoot,children:[Object(Oe.jsx)(Lr.a,{title:Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(d.a,{style:{color:function(e){switch(e){case"Warning":return"#F50057";case"Info":return"whitesmoke";case"Promo":return"#3f51b5";default:return"black"}}(t.type)},variant:"body1",className:n.postType,children:[function(e){switch(e){case"Warning":return Object(Oe.jsx)(Zr.a,{style:{color:"#F50057",marginRight:".1em"}});case"Info":return Object(Oe.jsx)(ra.a,{style:{color:"whitesmoke",marginRight:".1em"}});case"Promo":return Object(Oe.jsx)(ea.a,{style:{color:"#3f51b5",marginRight:".1em",transform:"translateY(-2px)"}});default:return null}}(t.type),t.type]}),Object(Oe.jsx)(d.a,{className:n.postTitle,variant:"body1",children:t.title})]}),subheader:Object(Oe.jsx)(d.a,{variant:"subtitle2",className:n.postTimestamp,children:r})}),Object(Oe.jsxs)(Mr.a,{children:[Object(Oe.jsxs)(d.a,{variant:"body2",className:n.postCities,children:["Cities affected: ",function(){var e="";return t.cities_affected.forEach((function(t){e+=t+", "})),e=(e=e.trim()).slice(0,e.length-1),e+="."}()]}),Object(Oe.jsxs)(d.a,{variant:"body2",className:n.postContent,component:"div",children:[Object(Oe.jsx)("hr",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),t.content]})]})]})}),Object(Oe.jsx)(j.a,{container:!0,spacing:2,justify:"center",children:Object(Oe.jsx)(j.a,{item:!0,xs:12,children:Object(Oe.jsx)(Fe.a,{onClick:function(){return a()},variant:"contained",fullWidth:!0,color:"default",className:n.button,children:"Close"})})})]})})})};var Ta=function(e){var t=e.post,r=e.postTimestamp,a=e.handleClose;return Object(Oe.jsx)(Aa,{post:t,postTimestamp:r,handleClose:a})},Fa=["Warning","Info","Promo"],Wa=Object(N.a)({button:{padding:".5em 0",fontSize:"1rem"}});var Ba=function(e){var t=e.formData,r=e.updatePost,a=e.cancelUpdatePost,n=e.handleBranchAdd,s=e.handleBranchRemove,c=e.progressBar,i=Wa();return Object(Oe.jsx)("div",{className:"edit-post-container",children:Object(Oe.jsx)("div",{className:"edit-post-dialog",children:Object(Oe.jsxs)("div",{className:"edit-post-dialog-container",children:[Object(Oe.jsxs)(j.a,{container:!0,spacing:2,alignItems:"flex-end",justify:"flex-start",children:[Object(Oe.jsxs)(j.a,{item:!0,xs:12,sm:12,style:{alignSelf:"center"},children:[Object(Oe.jsx)(d.a,{variant:"h4",children:"Edit Post"}),Object(Oe.jsx)("br",{})]}),Object(Oe.jsx)(j.a,{item:!0,xs:8,sm:3,children:Object(Oe.jsxs)(tt.a,{children:[Object(Oe.jsx)(rt.a,{htmlFor:"genders",children:"Post type"}),Object(Oe.jsx)(at.a,{margin:"dense",variant:"standard",id:"post_type",value:t.postType,onChange:function(e){return t.setPostType(e.target.value)},style:{color:"#f5f5f5",padding:"0.5em 0.8em"},children:Fa.map((function(e){return Object(Oe.jsx)(h.a,{value:e,children:e},e)}))})]})}),Object(Oe.jsx)(j.a,{item:!0,xs:8,sm:6,children:Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(Kt.a,{fullWidth:!0,allowDuplicates:!1,error:!!t.citiesPostAppliesErr.length,helperText:t.citiesPostAppliesErr,value:t.citiesPostApplies,placeholder:"Cities post applies to  -  \u2935  to add",onAdd:function(e){return n(e)},onDelete:function(e,t){return s(e,t)}})})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"dense",variant:"standard",required:!0,fullWidth:!0,type:"text",label:"Title",error:!!t.postTitleErr.length,helperText:t.postTitleErr,value:t.postTitle,onChange:function(e){return t.setPostTitle(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:!1,sm:6}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:12,children:Object(Oe.jsx)(Le.a,{variant:"outlined",placeholder:"Content",multiline:!0,rows:6,rowsMax:8,fullWidth:!0,error:!!t.postContentErr.length,helperText:t.postContentErr,value:t.postContent,onChange:function(e){return t.setPostContent(e.target.value)}})})]}),c?Object(Oe.jsx)(ht.a,{className:"edit-post-progress-bar",style:{width:60,height:60}}):Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{})]}),Object(Oe.jsx)("div",{className:"login-form-submit",children:Object(Oe.jsxs)(j.a,{container:!0,spacing:2,justify:"center",children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{onClick:function(){return a()},variant:"contained",fullWidth:!0,color:"default",className:i.button,children:"Cancel"})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{onClick:function(){return r()},variant:"contained",fullWidth:!0,color:"primary",className:i.button,children:"Edit"})})]})})]})})})},Da=function(e){var t=Object(a.useState)(e.type),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(e.cities_affected),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(a.useState)(e.title),d=Object(l.a)(j,2),m=d[0],b=d[1],p=Object(a.useState)(e.content),h=Object(l.a)(p,2),O=h[0],f=h[1],x=Object(a.useState)(""),v=Object(l.a)(x,2),g=v[0],y=v[1],N=Object(a.useState)(""),C=Object(l.a)(N,2),E=C[0],w=C[1],S=Object(a.useState)(""),P=Object(l.a)(S,2);return[{postType:n,setPostType:s,citiesPostApplies:o,setCitiesPostApplies:u,citiesPostAppliesErr:g,setCitiesPostAppliesErr:y,postTitle:m,setPostTitle:b,postTitleErr:E,setPostTitleErr:w,postContent:O,setPostContent:f,postContentErr:P[0],setPostContentErr:P[1]}]};var Ia=function(e){var t=e.post,r=e.handleClose,n=e.companyBranches,s=Da(t),c=Object(l.a)(s,1)[0],i=Object(a.useState)(!1),o=Object(l.a)(i,2),u=o[0],j=o[1],d=function(){c.setCitiesPostAppliesErr(""),c.setPostTitleErr(""),c.setPostContentErr("");var e="",t="",r="";return 0===c.citiesPostApplies.length&&(e="Must provide at least one city! (ex. ".concat(n[n.length-1],")")),""===c.postTitle.trim()&&(t="Enter the post title!"),""===c.postContent.trim()&&(r="Enter the post content!"),!(e.length||t.length||r)||(c.setCitiesPostAppliesErr(e),c.setPostTitleErr(t),c.setPostContentErr(r),!1)};return Object(Oe.jsx)(Ba,{formData:c,updatePost:function(){if(d()){var e={type:c.postType,citiesAffected:c.citiesPostApplies,title:c.postTitle,content:c.postContent,id:t.post_id};j(!0),function(e){var t;return S.collection(I).doc(e.id).update((t={},Object(At.a)(t,le,e.type),Object(At.a)(t,de,e.citiesAffected),Object(At.a)(t,ue,e.title),Object(At.a)(t,je,e.content),t)).catch((function(e){console.log(e)}))}(e).then((function(){j(!1),r()}))}},cancelUpdatePost:function(){c.setPostType(t.type),c.setCitiesPostApplies(t.cities_affected),c.setPostTitle(t.title),c.setPostContent(t.content),c.setPostTitleErr(""),c.setPostContentErr(""),c.setCitiesPostAppliesErr(""),r()},handleBranchAdd:function(e){var t=Object(Ht.a)(c.citiesPostApplies),r=e.slice(0,1).toUpperCase()+e.slice(1);n.includes(r)?c.citiesPostApplies.includes(r)||(t.push(r),c.setCitiesPostApplies(t)):c.setCitiesPostAppliesErr("City must be in company's branches! (ex. ".concat(n[n.length-1],")"))},handleBranchRemove:function(e,t){var r=Object(Ht.a)(c.citiesPostApplies);r.splice(t,1),c.setCitiesPostApplies(r)},progressBar:u})},Ua=Object(N.a)((function(e){return{root:{maxWidth:345,height:"100%",borderRadius:"0.2em"},actions:{justifyContent:"space-between",padding:"0.3em 0.1em"},cardContent:{minHeight:"4em",height:"10em",whiteSpace:"wrap",overflow:"hidden",textOverflow:"ellipsis"},deleteButton:{width:28,height:28,marginLeft:".2em"},editButton:{width:25,height:25,color:"#666"},detailsButton:{padding:"1em"},avatar:{backgroundColor:C.a[900],width:50,height:50}}}));var Ra=function(e){var t=e.post,r=e.companyBranches,n=Ua(),s=Object(a.useState)(!1),c=Object(l.a)(s,2),i=c[0],o=c[1],u=function(){return o(!1)},j=Object(a.useState)(!1),b=Object(l.a)(j,2),p=b[0],h=b[1],O=function(){return h(!1)},f=new Date(t.created_on.toDate()),x=bt()(f).format(Je),v=function(){var e;e=t.post_id,S.collection(I).doc(e).delete()},g=Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(Ta,{post:t,postTimestamp:x,handleClose:u})}),y=Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(Ia,{post:t,handleClose:O,companyBranches:r})});return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:"posts-list-post-container",children:Object(Oe.jsxs)(Rr.a,{className:n.root,children:[Object(Oe.jsx)(Lr.a,{title:Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(d.a,{variant:"body1",style:{color:function(e){switch(e){case"Warning":return"#F50057";case"Info":return"#2F303A";case"Promo":return"#3f51b5";default:return"black"}}(t.type),fontSize:"1.1rem",fontWeight:"700",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",marginBottom:".5em"},children:[function(e){switch(e){case"Warning":return Object(Oe.jsx)(Zr.a,{style:{color:"#F50057",marginRight:".1em"}});case"Info":return Object(Oe.jsx)(ra.a,{style:{color:"#2F303A",marginRight:".1em"}});case"Promo":return Object(Oe.jsx)(ea.a,{style:{color:"#3f51b5",marginRight:".1em",transform:"translateY(-2px)"}});default:return null}}(t.type),t.type]}),Object(Oe.jsx)("div",{style:{width:"10em"},children:Object(Oe.jsx)(d.a,{variant:"body1",color:"textPrimary",style:{fontSize:"1.25rem",fontWeight:"500",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title})})]}),subheader:Object(Oe.jsxs)(d.a,{variant:"subtitle2",style:{color:"#888",fontSize:"0.9rem",fontWeight:"normal"},children:[x,Object(Oe.jsx)("hr",{})]})}),Object(Oe.jsx)(Mr.a,{className:n.cardContent,children:Object(Oe.jsx)(d.a,{variant:"body2",color:"textSecondary",component:"p",children:t.content.slice(0,180)+(t.content.length>180?"...":"")})}),Object(Oe.jsx)("hr",{}),Object(Oe.jsxs)(zr.a,{className:n.actions,children:[Object(Oe.jsx)(Fe.a,{onClick:function(){return o(!0)},size:"small",color:"primary",className:n.detailsButton,children:"Details"}),Object(Oe.jsxs)("div",{style:{padding:".3em"},children:[Object(Oe.jsx)(m.a,{color:"primary",onClick:function(){return h(!0)},style:{padding:"0.2em"},children:Object(Oe.jsx)(Pa.a,{className:n.editButton})}),Object(Oe.jsx)(m.a,{color:"primary",onClick:function(){return v()},style:{padding:"0.2em"},children:Object(Oe.jsx)(wa.a,{color:"secondary",className:n.deleteButton})})]})]})]})}),Object(Oe.jsx)(qr.a,{disableScrollLock:!0,open:i,onClose:function(){return u()},children:g}),Object(Oe.jsx)(qr.a,{disableScrollLock:!0,open:p,onClose:function(){return O()},children:y})]})};var La=function(e){var t=e.companyPosts,r=e.currentCompanyData;return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{className:"company-posts-list-container",children:t.map((function(e){return Object(Oe.jsx)(Ra,{post:e,companyBranches:r.branches},e.post_id)}))}),Object(Oe.jsx)(Na,{currentCompanyData:r})]})};var Ma=function(e){var t=e.companyPosts,r=e.currentCompanyData;return Object(Oe.jsx)(La,{companyPosts:t,currentCompanyData:r})};var za=function(e){var t=e.companyPosts,r=e.currentCompanyData;return Object(Oe.jsxs)("div",{className:"company-homepage-container",children:[Object(Oe.jsxs)("div",{className:"company-homepage-title",children:[Object(Oe.jsx)(d.a,{variant:"h2",children:"My Posts"}),Object(Oe.jsx)(d.a,{variant:"h4",style:{fontWeight:"200"},children:"Browse your posts and create new ones!"})]}),t?t.length?Object(Oe.jsx)(Ma,{companyPosts:t,currentCompanyData:r}):Object(Oe.jsx)(Ca,{currentCompanyData:r}):Object(Oe.jsx)("div",{className:"company-homepage-progress-bar",children:Object(Oe.jsx)(ht.a,{style:{width:120,height:120}})})]})},qa=function(e){var t=Object(a.useState)(null),r=Object(l.a)(t,2),n=r[0],s=r[1];return Object(a.useEffect)((function(){var t=S.collection(W);if(e){var r=null;return(r=t.doc(e.uid).onSnapshot((function(e){var t=e.data();s(t)})))?function(){return r()}:void 0}}),[e]),n};var Ga=Object(u.f)((function(e){var t=e.history,r=Object(a.useContext)(Ee).currentUser;null===r&&t.push("/");var n=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],s=r[1];return Object(a.useEffect)((function(){var t=S.collection(I);if(e){var r=null;return(r=t.where(ce,"==",e.uid).onSnapshot((function(e){var t=[];e.docs.map((function(e){var r=e.data();return t.push(r)})),s(t)})))?function(){return r()}:void 0}}),[e]),n}(r),s=qa(r);return s?Object(Oe.jsx)(za,{companyPosts:n,currentCompanyData:s}):Object(Oe.jsx)("div",{style:{display:"grid",placeItems:"center",height:"80vh"},children:Object(Oe.jsx)(ht.a,{style:{width:120,height:120,justifySelf:"center"}})})})),Ya=["Electricity","Plumbing","ISP"];var Ha=Object(u.f)((function(e){e.companyType;var t=e.helperFormData,r=e.updateData,a=e.history,n=t.name,s=t.setName,c=t.type,i=t.setType;return Object(Oe.jsxs)("form",{className:"subscribe-page-search-form",onSubmit:function(e){return e.preventDefault()},method:"POST",children:[Object(Oe.jsx)(d.a,{variant:"h4",style:{alignSelf:"start"},children:"Search for companies"}),Object(Oe.jsxs)("div",{className:"subscribe-page-search-form-inputs",children:[Object(Oe.jsx)(Le.a,{variant:"standard",margin:"normal",fullWidth:!0,inputProps:{autoCapitalize:"on"},name:"company_name",label:"Company Name",type:"text",value:n,onChange:function(e){return s(e.target.value)}}),Object(Oe.jsx)(at.a,{style:{color:"#f5f5f5"},margin:"none",fullWidth:!0,variant:"standard",placeholder:"Company Type",value:c,onChange:function(e){return i(e.target.value)},children:Ya.map((function(e){return Object(Oe.jsx)(h.a,{value:e,children:e},e)}))})]}),Object(Oe.jsxs)("div",{className:"subscribe-page-search-form-buttons",children:[Object(Oe.jsx)(Fe.a,{onClick:function(){return r()},variant:"contained",color:"primary",fullWidth:!0,type:"submit",children:"Search"}),Object(Oe.jsx)(Fe.a,{onClick:function(){a.goBack()},variant:"contained",color:"default",fullWidth:!0,children:"Go back"})]})]})}));var _a=function(e){var t=e.serviceType,r=e.searchFormData,n=Object(a.useState)(""),s=Object(l.a)(n,2),c=s[0],i=s[1],o=Object(a.useState)(t),u=Object(l.a)(o,2),j=u[0],d=u[1],m={name:c,setName:i,type:j,setType:d};return Object(Oe.jsx)(Ha,{companyType:t,helperFormData:m,updateData:function(){r.setCompanyName(c),r.setCompanyType(j)}})},Ka=r(249),Qa=r.n(Ka),Va=Object(N.a)({detailsCardRoot:{background:"transparent",border:"none",margin:"2em 0",boxShadow:"none"},header:{marginBottom:0,marginTop:0,paddingBottom:0,paddingTop:0},avatar:{backgroundColor:C.a[900],width:90,height:90,margin:"0 auto"},avatarImg:{display:"block",objectFit:"contain"},companyName:{fontSize:"1.8rem",fontWeight:"500",color:"whitesmoke",padding:0,marginBottom:0,lineHeight:"2.2rem"},companyCeo:{fontSize:"1.2rem",fontWeight:"400",color:"whitesmoke",paddingBottom:0,marginBottom:0,lineHeight:"1.4rem"},companyTimestamp:{fontSize:"1rem",fontWeight:"normal",color:"whitesmoke",paddingBottom:0,marginBottom:0},companyService:{fontSize:"1.1rem",fontWeight:"300",color:"whitesmoke"},companyHeadquarters:{fontSize:"1.1rem",fontWeight:"300",color:"whitesmoke"},postCities:{fontSize:"1.1rem",fontWeight:"300",color:"whitesmoke"},postContent:{fontSize:"1.1rem",fontWeight:"300",color:"whitesmoke"},button:{padding:".5em 0",fontSize:"1.1rem"}});var Ja=function(e){var t=e.company,r=e.handleClose;console.log(t);var a=Va(),n=bt()(t.date_of_creation.toDate()).format(Ve),s=Object(Oe.jsx)(b.a,{"aria-label":"recipe",className:a.avatar,children:Object(Oe.jsx)(d.a,{variant:"h3",children:t.name[0]})}),c=Object(Oe.jsx)(b.a,{className:a.avatar,classes:{img:a.avatarImg},src:t.profile_url}),i="mailto: "+t.email,o="Not Provided"===t.website?t.website:Object(Oe.jsx)("a",{style:{color:"#547CA6"},href:"https://".concat(t.website),children:t.website});return Object(Oe.jsx)("div",{className:"details-company-container",children:Object(Oe.jsx)("div",{className:"details-company-dialog",children:Object(Oe.jsxs)("div",{className:"details-company-dialog-container",children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:12,style:{alignSelf:"center"},children:Object(Oe.jsx)(d.a,{variant:"h4",children:"Company Details"})}),Object(Oe.jsx)("div",{className:"post-details-post-container",children:Object(Oe.jsxs)(Rr.a,{className:a.detailsCardRoot,children:[Object(Oe.jsx)(Lr.a,{className:a.header,avatar:t.profile_url.length?c:s,title:Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(d.a,{variant:"caption",className:a.companyName,children:t.name}),Object(Oe.jsxs)(d.a,{variant:"body1",className:a.companyCeo,children:["CEO: ",t.ceo_first+" "+t.ceo_last]}),Object(Oe.jsxs)(d.a,{variant:"body1",className:a.companyTimestamp,children:["Founded: ",n]})]})}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("hr",{}),Object(Oe.jsxs)(Mr.a,{children:[Object(Oe.jsx)(d.a,{variant:"h5",style:{color:"whitesmoke",marginBottom:".5em"},children:"General information"}),Object(Oe.jsxs)(d.a,{className:a.companyService,variant:"body1",children:["Service type: ",t.service]}),Object(Oe.jsxs)(d.a,{variant:"body2",className:a.companyHeadquarters,children:["Headquarters: ",t.city_head]}),Object(Oe.jsxs)(d.a,{variant:"body2",className:a.postCities,children:["Branches: ",function(){var e="";return t.branches.forEach((function(t){e+=t+", "})),e=(e=e.trim()).slice(0,e.length-1)}()]}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("hr",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(d.a,{variant:"h5",style:{color:"whitesmoke",marginBottom:".5em"},component:"div",children:"Contact information"}),Object(Oe.jsxs)(d.a,{variant:"body2",className:a.postContent,component:"div",children:["Email: ",Object(Oe.jsx)("a",{style:{color:"#547CA6"},href:i,children:t.email})]}),Object(Oe.jsxs)(d.a,{variant:"body2",className:a.postContent,component:"div",children:["Website: ",o]}),Object(Oe.jsxs)(d.a,{variant:"body2",className:a.postContent,component:"div",children:["Phone number: ",t.phone_number]})]})]})}),Object(Oe.jsx)(j.a,{container:!0,spacing:2,justify:"center",children:Object(Oe.jsx)(j.a,{item:!0,xs:12,children:Object(Oe.jsx)(Fe.a,{onClick:function(){return r()},variant:"contained",fullWidth:!0,color:"default",className:a.button,children:"Close"})})})]})})})};var Xa=function(e){var t=e.company,r=e.handleClose;return Object(Oe.jsx)(Ja,{company:t,handleClose:r})};var Za=function(e){var t=e.companyData,r=e.userSubscribtions,n=e.subscribe,s=e.unsubscribe,c=e.profilePic,i=e.alreadySubscribed,o=Object(a.useState)(!1),u=Object(l.a)(o,2),j=u[0],b=u[1],p=function(){return b(!1)},h=Object(Oe.jsx)(Fe.a,{onClick:function(){return n()},variant:"contained",color:"primary",fullWidth:!0,children:"Subscribe"}),O=Object(Oe.jsx)(Fe.a,{onClick:function(){return s()},variant:"contained",color:"default",style:{color:"#ccc",background:"#555"},fullWidth:!0,children:"Unsubscribe"}),f=Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(Xa,{company:t,handleClose:p})});return r&&Object(Oe.jsxs)("div",{className:"subscribe-page-company",children:[Object(Oe.jsx)(d.a,{variant:"body1",style:{color:"whitesmoke"},children:t.name}),Object(Oe.jsx)("img",{src:c,alt:"something"}),Object(Oe.jsxs)("div",{className:"subscribe-page-company-buttons",children:[i?O:h,Object(Oe.jsx)(m.a,{onClick:function(){return b(!0)},children:Object(Oe.jsx)(Qa.a,{style:{width:32,height:32,color:"whitesmoke"}})})]}),Object(Oe.jsx)(qr.a,{disableScrollLock:!0,open:j,onClose:function(){return p()},children:f})]})},$a=r.p+"static/media/default-company-pic.789aa472.png";var en=function(e){var t=e.companyData,r=e.userSubscribtions,a=t.profile_url.length?t.profile_url:$a,n=r?r.subscribtions.some((function(e){return e.id===t.company_id})):null;return Object(Oe.jsx)(Za,{companyData:t,userSubscribtions:r,subscribe:function(){(function(e,t){var r=S.collection(D),a={type:t[X],id:t[Y]};return r.doc(e.id).update(Object(At.a)({},ne,w.a.firestore.FieldValue.arrayUnion(a)))})(r,t).then((function(){}))},unsubscribe:function(){(function(e,t){var r=S.collection(D),a={type:t[X],id:t[Y]};return r.doc(e.id).update(Object(At.a)({},ne,w.a.firestore.FieldValue.arrayRemove(a)))})(r,t).then((function(){}))},profilePic:a,alreadySubscribed:n})};var tn=function(e){var t=e.companiesList,r=e.userSubscribtions;return Object(Oe.jsx)("div",{className:"subscribe-page-companies-list-container",children:null===t?Object(Oe.jsx)(ht.a,{style:{width:100,height:100,alignSelf:"center",margin:"0 auto"}}):t.length?t.map((function(e){return Object(Oe.jsx)(en,{companyData:e,userSubscribtions:r},e.company_id)})):Object(Oe.jsx)(d.a,{className:"subscribe-page-companies-list-no-results",children:"No results found :("})})};var rn=function(e){var t=e.companiesList,r=e.userSubscribtions;return Object(Oe.jsx)(tn,{companiesList:t,userSubscribtions:r})};var an=function(e){var t=e.serviceType,r=e.companiesList,a=e.searchFormData,n=e.userSubscribtions;return Object(Oe.jsxs)("div",{className:"subscribe-page-container",children:[Object(Oe.jsx)(_a,{serviceType:t,searchFormData:a}),Object(Oe.jsx)(rn,{companiesList:r,userSubscribtions:n})]})};var nn=Object(u.f)((function(e){var t=Object(a.useContext)(Ee).currentUser,r=ma(t),n=e.match.params.type,s=Object(a.useState)(""),c=Object(l.a)(s,2),i=c[0],o=c[1],u=Object(a.useState)(n),j=Object(l.a)(u,2),d=j[0],m=j[1],b=function(e,t){var r=Object(a.useState)(null),n=Object(l.a)(r,2),s=n[0],c=n[1];return Object(a.useEffect)((function(){var r=S.collection(W),a=null;if(e.length?r.orderBy(H).startAt(e).endAt(e+"\uf8ff").where(X,"==",t).get().then((function(e){var t=[];e.docs.map((function(e){return t.push(e.data())})),c(t)})):a=r.where(X,"==",t).onSnapshot((function(e){var t=[];e.docs.map((function(e){return t.push(e.data())})),c(t)})),a)return function(){return a()}}),[e,t]),s}(i,d),p={companyType:d,setCompanyType:m,companyName:i,setCompanyName:o};return Object(Oe.jsx)(an,{serviceType:n,companiesList:b,searchFormData:p,userSubscribtions:r})})),sn=(r(206),["Male","Female","Other"]),cn=Object(N.a)({avatar:{width:160,height:160,backgroundColor:C.a[800]},avatarImg:{objectFit:"contain"}});var on=Object(u.f)((function(e){var t=cn(),r=e.formData,n=e.editProfile,s=e.progressBar,c=e.setProgressBar,i=e.uploadPicture,o=e.goBack,l=yt(r.file).url;Object(a.useEffect)((function(){r.setProfileUrl(""),l&&(r.setProfileUrl(l),r.setFile(null),c(!1))}),[l,r.setFile,r.setProfileUrl]);var u=r.profileUrl.length?r.profileUrl:null;return Object(Oe.jsxs)("div",{className:"edit-profile-container",children:[Object(Oe.jsx)(d.a,{variant:"h3",style:{textAlign:"left",fontWeight:300,fontSize:"3rem"},children:"Edit Profile"}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{className:"edit-profile-form",children:Object(Oe.jsxs)(j.a,{container:!0,spacing:2,alignItems:"flex-end",children:[Object(Oe.jsxs)(j.a,{item:!0,xs:12,sm:5,className:"edit-profile-avatar-container",children:[Object(Oe.jsx)(m.a,{"aria-haspopup":"true",children:Object(Oe.jsxs)("label",{htmlFor:"file-input",children:[Object(Oe.jsx)(b.a,{style:{cursor:"pointer"},className:t.avatar,classes:{img:t.avatarImg},src:u}),Object(Oe.jsx)("input",{onChange:function(e){return i(e)},accept:"image/*",type:"file",style:{display:"none"},id:"file-input"})]})}),r.profileUrlErr?Object(Oe.jsx)(d.a,{variant:"body2",color:"error",style:{textAlign:"center"},children:r.profileUrlErr}):null]}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:5,children:Object(Oe.jsx)(nt.a,{utils:et.a,children:Object(Oe.jsx)(st.a,{fullWidth:!0,variant:"dialog",format:"dd/MM/yyyy",placeholder:"DD/MM/YYYY",margin:"normal",label:"Date of Birth",maxDate:new Date,value:r.dateOfBirth,onChange:function(e){return r.setDateOfBirth(e)}})})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:2,style:{padding:"1em",textAlign:"right"},children:Object(Oe.jsxs)(tt.a,{children:[Object(Oe.jsx)(rt.a,{htmlFor:"genders",children:"Gender"}),Object(Oe.jsx)(at.a,{style:{color:"#f5f5f5"},margin:"dense",fullWidth:!0,variant:"standard",id:"genders",value:r.gender,onChange:function(e){return r.setGender(e.target.value)},children:sn.map((function(e){return Object(Oe.jsx)(h.a,{value:e,children:e},e)}))})]})}),s&&Object(Oe.jsx)(j.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"},children:Object(Oe.jsx)(ht.a,{})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(it.a,{style:{color:"whitesmoke"}})})},type:"text",label:"First Name",error:!!r.firstNameErr,helperText:r.firstNameErr,value:r.firstName,onChange:function(e){return r.setFirstName(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(it.a,{style:{color:"whitesmoke"}})})},type:"text",label:"Last Name",error:!!r.lastNameErr,helperText:r.lastNameErr,value:r.lastName,onChange:function(e){return r.setLastName(e.target.value)}})}),Object(Oe.jsxs)(j.a,{container:!0,spacing:2,justify:"flex-end",style:{margin:"1em 0"},children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{onClick:function(){return o()},style:{padding:".8em 0"},variant:"contained",fullWidth:!0,color:"default",children:"Back"})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{style:{padding:".8em 0"},variant:"contained",fullWidth:!0,color:"primary",onClick:function(e){return n(e)},children:"Edit profile"})})]})]})})]})})),ln=["image/png","image/jpg","image/jpeg"];var un=Object(u.f)((function(e){var t=Object(a.useContext)(Ee).currentUser,r=function(e){var t=Object(a.useState)(""),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(a.useState)(new Date),d=Object(l.a)(j,2),m=d[0],b=d[1],p=Object(a.useState)(""),h=Object(l.a)(p,2),O=h[0],f=h[1],x=Object(a.useState)(""),v=Object(l.a)(x,2),g=v[0],y=v[1],N=Object(a.useState)(null),C=Object(l.a)(N,2),E=C[0],w=C[1],S=Object(a.useState)(""),P=Object(l.a)(S,2),k=P[0],A=P[1],T=Object(a.useState)(""),F=Object(l.a)(T,2),W=F[0],B=F[1],D=Object(a.useState)(""),I=Object(l.a)(D,2),U=I[0],R=I[1];return Object(a.useEffect)((function(){e&&(s(e[L]),u(e[M]),b(e[z].toDate()),f(e[q]),y(e[G]))}),[e]),e?{firstName:n,setFirstName:s,firstNameErr:k,setFirstNameErr:A,lastName:o,setLastName:u,lastNameErr:W,setLastNameErr:B,dateOfBirth:m,setDateOfBirth:b,gender:O,setGender:f,profileUrl:g,setProfileUrl:y,profileUrlErr:U,setProfileUrlErr:R,file:E,setFile:w}:null}(function(e){var t=Object(a.useState)(null),r=Object(l.a)(t,2),n=r[0],s=r[1];return Object(a.useEffect)((function(){var t=S.collection(F);if(e){var r=null;return(r=t.doc(e.uid).onSnapshot((function(e){var t=e.data();s(t)})))?function(){return r()}:void 0}}),[e]),n}(t)),n=Object(a.useState)(!1),s=Object(l.a)(n,2),c=s[0],i=s[1];return r?Object(Oe.jsx)(on,{formData:r,editProfile:function(){(i(!0),function(e){if(e.profileUrlErr.length)return!1;e.setFirstNameErr(""),e.setLastNameErr("");var t="",r="";return!isNaN(e.dateOfBirth.getTime())&&(""===e.firstName.trim()&&(t="Enter your first name!"),""===e.lastName.trim()&&(r="Enter your last name!"),!t.length&&!r.length||(e.setFirstNameErr(t),e.setLastNameErr(r),!1))}(r))?function(e,t){var r;return S.collection(F).doc(t).update((r={},Object(At.a)(r,L,e.firstName),Object(At.a)(r,M,e.lastName),Object(At.a)(r,z,e.dateOfBirth),Object(At.a)(r,q,e.gender),Object(At.a)(r,G,e.profileUrl),r)).catch((function(e){console.log(e)}))}(r,t.uid).then((function(){t.updateProfile({displayName:r.firstName,photoURL:r.profileUrl}).then((function(){k.updateCurrentUser(t).then((function(){i(!1),e.history.push("/user-page")}))}))})):i(!1)},progressBar:c,uploadPicture:function(e){i(!0),r.profileUrl&&Nt(r.profileUrl);var t=e.target.files[0];t?ln.includes(t.type)?(r.setFile(t),r.setProfileUrlErr("")):r.setProfileUrlErr("Select a valid file (png, jpg or jpeg)"):r.setFile(null)},setProgressBar:i,goBack:function(){e.history.goBack()}}):Object(Oe.jsx)("div",{style:{display:"grid",placeItems:"center",height:"80vh"},children:Object(Oe.jsx)(ht.a,{style:{width:120,height:120,justifySelf:"center"}})})})),jn=["Electricity","Plumbing","ISP"],dn=Object(N.a)({avatar:{width:160,height:160,backgroundColor:C.a[800]},avatarImg:{objectFit:"contain"}});var mn=Object(u.f)((function(e){var t=dn(),r=e.formData,n=e.editProfile,s=e.progressBar,c=e.setProgressBar,i=e.uploadPicture,o=e.handleBranchAdd,l=e.handleBranchRemove,u=e.handlePhoneNumberChange,p=e.goBack,O=yt(r.file).url;Object(a.useEffect)((function(){r.setProfileUrl(""),O&&(r.setProfileUrl(O),r.setFile(null),c(!1))}),[O,r.setFile,r.setProfileUrl]);var f=r.profileUrl.length?r.profileUrl:null;return Object(Oe.jsxs)("div",{className:"edit-profile-container",children:[Object(Oe.jsx)(d.a,{variant:"h3",style:{textAlign:"left",fontWeight:300,fontSize:"3rem"},children:"Edit Profile"}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{className:"edit-profile-form",children:Object(Oe.jsxs)(j.a,{container:!0,spacing:2,alignItems:"flex-end",children:[Object(Oe.jsxs)(j.a,{item:!0,xs:12,sm:4,className:"edit-profile-avatar-container",children:[Object(Oe.jsx)(m.a,{"aria-haspopup":"true",children:Object(Oe.jsxs)("label",{htmlFor:"file-input",children:[Object(Oe.jsx)(b.a,{style:{cursor:"pointer"},className:t.avatar,classes:{img:t.avatarImg},src:f}),Object(Oe.jsx)("input",{onChange:function(e){return i(e)},accept:"image/*",type:"file",style:{display:"none"},id:"file-input"})]})}),r.profileUrlErr?Object(Oe.jsx)(d.a,{variant:"body2",color:"error",style:{textAlign:"center"},children:r.profileUrlErr}):null]}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:4,children:Object(Oe.jsx)(nt.a,{utils:et.a,children:Object(Oe.jsx)(st.a,{fullWidth:!0,variant:"dialog",format:"dd/MM/yyyy",placeholder:"DD/MM/YYYY",margin:"normal",label:"Date of incorporation",maxDate:new Date,value:r.dateOfCreation,onChange:function(e){return r.setDateOfCreation(e)}})})}),Object(Oe.jsx)(j.a,{className:"edit-profile-service-type",item:!0,xs:12,sm:4,style:{padding:"1em",textAlign:"right"},children:Object(Oe.jsxs)(tt.a,{children:[Object(Oe.jsx)(rt.a,{htmlFor:"serviceType",children:"Service type"}),Object(Oe.jsx)(at.a,{style:{color:"#f5f5f5",paddingTop:"ISP"===r.serviceType?".7em":0},margin:"dense",fullWidth:!0,variant:"standard",id:"serviceType",value:r.serviceType,onChange:function(e){return r.setServiceType(e.target.value)},children:jn.map((function(e){return Object(Oe.jsx)(h.a,{value:e,children:e},e)}))})]})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(Lt.a,{style:{color:"whitesmoke"}})})},type:"text",label:"Company name",error:!!r.companyNameErr,helperText:r.companyNameErr,value:r.companyName,onChange:function(e){return r.setCompanyName(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:!1,sm:6}),s&&Object(Oe.jsx)(j.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"},children:Object(Oe.jsx)(ht.a,{})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(zt.a,{style:{color:"whitesmoke"}})})},type:"text",label:"CEO First Name",error:!!r.ceoFirstErr,helperText:r.ceoFirstErr,value:r.ceoFirst,onChange:function(e){return r.setCeoFirst(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",required:!0,fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(zt.a,{style:{color:"whitesmoke"}})})},type:"text",label:"CEO Last Name",error:!!r.ceoLastErr,helperText:r.ceoLastErr,value:r.ceoLast,onChange:function(e){return r.setCeoLast(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,style:{margin:"1em 0"},children:Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(Kt.a,{className:"chip-input",fullWidth:!0,"aria-autocomplete":"none",allowDuplicates:!1,value:r.branches,placeholder:"Branch cities",label:"Branch cities",helperText:"Press ENTER to add city",onAdd:function(e){return o(e)},onDelete:function(e,t){return l(e,t)}})})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(Xt.a,{style:{color:"whitesmoke"}})})},label:"Telephone (optional)",type:"tel",error:!!r.phoneNumberErr.length,helperText:r.phoneNumberErr,value:r.phoneNumber,onChange:function(e){return u(e.target.value)}})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Le.a,{margin:"normal",variant:"standard",fullWidth:!0,InputProps:{startAdornment:Object(Oe.jsx)(qe.a,{position:"start",children:Object(Oe.jsx)(ir.a,{style:{color:"whitesmoke"}})})},type:"url",label:"Website (optional)",error:!!r.websiteErr,helperText:r.websiteErr,value:r.website,onChange:function(e){return r.setWebsite(e.target.value)}})}),Object(Oe.jsxs)(j.a,{container:!0,spacing:2,justify:"flex-end",style:{margin:"1em 0"},children:[Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{onClick:function(){return p()},style:{padding:".8em 0"},variant:"contained",fullWidth:!0,color:"default",children:"Back"})}),Object(Oe.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(Oe.jsx)(Fe.a,{style:{padding:".8em 0"},variant:"contained",fullWidth:!0,color:"primary",onClick:function(e){return n(e)},children:"Edit profile"})})]})]})})]})})),bn=["image/png","image/jpg","image/jpeg"];var pn=Object(u.f)((function(e){var t=Object(a.useContext)(Ee).currentUser,r=function(e){var t=Object(a.useState)(""),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(a.useState)(""),d=Object(l.a)(j,2),m=d[0],b=d[1],p=Object(a.useState)(""),h=Object(l.a)(p,2),O=h[0],f=h[1],x=Object(a.useState)(null),v=Object(l.a)(x,2),g=v[0],y=v[1],N=Object(a.useState)(""),C=Object(l.a)(N,2),E=C[0],w=C[1],S=Object(a.useState)([]),P=Object(l.a)(S,2),k=P[0],A=P[1],T=Object(a.useState)("+389"),F=Object(l.a)(T,2),W=F[0],B=F[1],D=Object(a.useState)(""),I=Object(l.a)(D,2),U=I[0],R=I[1],L=Object(a.useState)(""),M=Object(l.a)(L,2),z=M[0],q=M[1],G=Object(a.useState)(null),Y=Object(l.a)(G,2),_=Y[0],re=Y[1],ae=Object(a.useState)(""),ne=Object(l.a)(ae,2),se=ne[0],ce=ne[1],ie=Object(a.useState)(""),oe=Object(l.a)(ie,2),le=oe[0],ue=oe[1],je=Object(a.useState)(""),de=Object(l.a)(je,2),me=de[0],be=de[1],pe=Object(a.useState)(""),he=Object(l.a)(pe,2),Oe=he[0],fe=he[1],xe=Object(a.useState)(""),ve=Object(l.a)(xe,2),ge=ve[0],ye=ve[1],Ne=Object(a.useState)(""),Ce=Object(l.a)(Ne,2),Ee=Ce[0],we=Ce[1];return Object(a.useEffect)((function(){if(e){s(e[Q]),u(e[V]),b(e[H]),f(e[J]),y(e[K].toDate()),w(e[X]),A(e[Z]);var t=e[ee];"Not Provided"!==t&&B(t);var r=e[te];"Not Provided"!==r&&R(r),q(e[$])}}),[e]),e?{ceoFirst:n,setCeoFirst:s,ceoFirstErr:se,setCeoFirstErr:ce,ceoLast:o,setCeoLast:u,ceoLastErr:le,setCeoLastErr:ue,companyName:m,setCompanyName:b,companyNameErr:me,setCompanyNameErr:be,cityHead:O,setCityHead:f,dateOfCreation:g,setDateOfCreation:y,serviceType:E,setServiceType:w,branches:k,setBranches:A,phoneNumber:W,setPhoneNumber:B,phoneNumberErr:Oe,setPhoneNumberErr:fe,website:U,setWebsite:R,websiteErr:ge,setWebsiteErr:ye,profileUrl:z,setProfileUrl:q,profileUrlErr:Ee,setProfileUrlErr:we,file:_,setFile:re}:null}(qa(t)),n=Object(a.useState)(!1),s=Object(l.a)(n,2),c=s[0],i=s[1],o=function(e){var t=Object(Ht.a)(r.branches),a=e.slice(0,1).toUpperCase()+e.slice(1);r.branches.includes(a)||""===a.trim()||(t.push(a),r.setBranches(t))};return r?Object(Oe.jsx)(mn,{formData:r,editProfile:function(){(i(!0),function(e,t){var r=$t.PhoneNumberUtil.getInstance();if(e.profileUrlErr.length)return!1;e.setCeoFirstErr(""),e.setCeoLastErr(""),e.setCompanyNameErr("");var a="",n="",s="",c="",i="";if(isNaN(e.dateOfCreation.getTime()))return!1;""===e.ceoFirst.trim()&&(a="Enter CEO's first name!"),""===e.ceoLast.trim()&&(n="Enter CEO's last name!"),""===e.companyName.trim()&&(s="Enter company's name!");var o=e.cityHead.slice(0,1).toUpperCase()+e.cityHead.slice(1);if(e.setCityHead(o),e.branches.includes(o)||t(o),"+389"!==e.phoneNumber.trim()){var l=r.parse(e.phoneNumber,"MK");r.isValidNumberForRegion(l,"MK")||(i="Invalid number entered for MK region!")}return""!==e.website.trim()&&(Xe.test(e.website)||(c="Invalid website URL!")),!(a.length||n.length||s.length||c.length||i.length)||(e.setCeoFirstErr(a),e.setCeoLastErr(n),e.setCompanyNameErr(s),e.setWebsiteErr(c),e.setPhoneNumberErr(i),!1)}(r,o))?function(e,t){var r;return S.collection(W).doc(t).update((r={},Object(At.a)(r,Q,e.ceoFirst),Object(At.a)(r,V,e.ceoLast),Object(At.a)(r,H,e.companyName),Object(At.a)(r,K,e.dateOfCreation),Object(At.a)(r,$,e.profileUrl),Object(At.a)(r,Z,e.branches),Object(At.a)(r,X,e.serviceType),Object(At.a)(r,ee,"+389"!==e.phoneNumber.trim()?e.phoneNumber:"Not Provided"),Object(At.a)(r,te,e.website.trim().length?e.website:"Not Provided"),r)).catch((function(e){console.log(e)}))}(r,t.uid).then((function(){t.updateProfile({displayName:r.companyName,photoURL:r.profileUrl}).then((function(){k.updateCurrentUser(t).then((function(){i(!1),e.history.push("/company-page")}))}))})):i(!1)},progressBar:c,setProgressBar:i,uploadPicture:function(e){i(!0),r.profileUrl&&Nt(r.profileUrl);var t=e.target.files[0];t?bn.includes(t.type)?(r.setFile(t),r.setProfileUrlErr("")):r.setProfileUrlErr("Select a valid file (png, jpg or jpeg)"):r.setFile(null)},handleBranchAdd:o,handleBranchRemove:function(e,t){var a=Object(Ht.a)(r.branches);a.splice(t,1),r.setBranches(a)},handlePhoneNumberChange:function(e){"+389"===e.slice(0,4)&&r.setPhoneNumber(e)},goBack:function(){e.history.goBack()}}):Object(Oe.jsx)("div",{style:{display:"grid",placeItems:"center",height:"80vh"},children:Object(Oe.jsx)(ht.a,{style:{width:120,height:120,justifySelf:"center"}})})}));var hn=Object(u.f)((function(){var e=Object(a.useContext)(Ee).currentUser;return Object(Oe.jsxs)("div",{className:"main-wrapper",children:[Object(Oe.jsxs)(u.c,{children:[!e&&Object(Oe.jsx)(u.a,{path:"/",exact:!0,component:$e}),Object(Oe.jsx)(Pe,{})]}),Object(Oe.jsx)(u.a,{path:"/register/:type",exact:!0,component:fr}),Object(Oe.jsx)(u.a,{path:"/user-page",exact:!0,component:Br}),Object(Oe.jsx)(u.a,{path:"/user-page/posts/:type",exact:!0,component:ba}),Object(Oe.jsx)(u.a,{path:"/company-page",exact:!0,component:Ga}),Object(Oe.jsx)(u.a,{path:"/subscribe/:type",exact:!0,component:nn}),Object(Oe.jsx)(u.a,{path:"/edit/user/:id",exact:!0,component:un}),Object(Oe.jsx)(u.a,{path:"/edit/company/:id",exact:!0,component:pn})]})}));s.a.render(Object(Oe.jsx)(we,{children:Object(Oe.jsx)(ye.a,{children:Object(Oe.jsx)(hn,{})})}),document.getElementById("root"))},76:function(e,t,r){},86:function(e,t,r){}},[[334,1,2]]]);
//# sourceMappingURL=main.98e4d3f4.chunk.js.map