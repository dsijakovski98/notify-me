{"version":3,"sources":["firebase/config.js","helpers/currentUserManager.js","firebase/tables.js","helpers/queryManager.js","components/Navbar/UserDataAvatar.js","firebase/auth.js","components/Navbar/Navbar.js","images/default-profile-picture.png","customHooks/useCurrentWidth.js","components/HomepageComponents/Banner/Banner.js","components/HomepageComponents/JoinUs/JoinUs.js","components/HomepageComponents/LoginForm/LoginFormPresenter.js","helpers/validators.js","components/HomepageComponents/LoginForm/LoginFormContainer.js","components/HomepageComponents/Homepage/Homepage.js","components/RegisterPageComponents/UserRegisterForm/UserGeneralDetails/UserGeneralDetailsPresenter.js","components/RegisterPageComponents/UserRegisterForm/UserGeneralDetails/UserGeneralDetailsContainer.js","components/RegisterPageComponents/UserRegisterForm/UserGeneralDetails/useGeneralDetailsValues.js","components/RegisterPageComponents/UserRegisterForm/UserAccountDetails/UserAccountDetailsPresenter.js","components/RegisterPageComponents/UserRegisterForm/UserAccountDetails/UserAccountDetailsContainer.js","components/RegisterPageComponents/UserRegisterForm/UserAccountDetails/useAccountDetails.js","customHooks/useStorage.js","components/RegisterPageComponents/ProgressBar/ProgressBar.js","components/RegisterPageComponents/UserRegisterForm/UserProfilePicture/UserProfilePicturePresenter.js","components/RegisterPageComponents/UserRegisterForm/UserProfilePicture/UserProfilePictureContainer.js","components/RegisterPageComponents/UserRegisterForm/UserProfilePicture/useProfilePicture.js","helpers/databaseAdd.js","components/RegisterPageComponents/ConfirmDetails/ConfirmDetailsPresenter.js","components/RegisterPageComponents/ConfirmDetails/ConfirmDetailsContainer.js","components/RegisterPageComponents/UserRegisterForm/UserFormContainer.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyGeneralDetails/CompanyGeneralDetailsPresenter.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyGeneralDetails/CompanyGeneralDetailsContainer.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyGeneralDetails/useCompanyGeneralDetails.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyServiceDetails/CompanyServiceDetailsPresenter.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyServiceDetails/CompanyServiceDetailsContainer.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyServiceDetails/useCompanyServiceDetails.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyAccountDetails/CompanyAccountDetailsPresenter.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyAccountDetails/CompanyAccountDetailsContainer.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyAccountDetails/useCompanyAccountDetails.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyProfilePicture/CompanyProfilePicturePresenter.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyProfilePicture/CompanyProfilePictureContainer.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyProfilePicture/useCompanyProfilePicture.js","components/RegisterPageComponents/CompanyRegisterForm/CompanyFormContainer.js","components/RegisterPageComponents/RegisterPage/RegisterPage.js","components/UserHomepageComponents/PostLink/PostLink.js","components/UserHomepageComponents/UserHomepage/UserHomepagePresenter.js","components/UserHomepageComponents/UserHomepage/UserHomepageContainer.js","components/UserHomepageComponents/Posts/NoSubscribtions.js","components/UserHomepageComponents/Posts/Post/PostDetails/PostDetailsPresenter.js","components/UserHomepageComponents/Posts/Post/PostDetails/PostDetailsContainer.js","components/UserHomepageComponents/Posts/Post/PostPresenter.js","components/UserHomepageComponents/Posts/Post/PostContainer.js","helpers/databaseRemove.js","components/UserHomepageComponents/Posts/PostsList/NoPosts.js","components/UserHomepageComponents/Posts/PostsList/PostsListPresenter.js","components/UserHomepageComponents/Posts/PostsList/PostsListContainer.js","customHooks/useUserPostsList.js","customHooks/useUserPostsData.js","components/UserHomepageComponents/Posts/PostsListPage/PostsListPagePresenter.js","customHooks/useUserSubscribtionsData.js","components/UserHomepageComponents/Posts/PostsListPage/PostsListPageContainer.js","components/CompanyHomepageComponents/CompanyAddPost/AddPostForm/AddPostFormPresenter.js","components/CompanyHomepageComponents/CompanyAddPost/AddPostForm/AddPostFormContainer.js","components/CompanyHomepageComponents/CompanyAddPost/usePostFormData.js","components/CompanyHomepageComponents/CompanyAddPost/AddPost.js","components/CompanyHomepageComponents/NoPostsPage.js","components/CompanyHomepageComponents/CompanyPostsList/CompanyPostDetailsModal/CompanyPostDetailsModalPresenter.js","components/CompanyHomepageComponents/CompanyPostsList/CompanyPostDetailsModal/CompanyPostDetailsModalContainer.js","components/CompanyHomepageComponents/CompanyPostsList/CompanyPostEditModal/CompanyPostEditPresenter.js","components/CompanyHomepageComponents/CompanyPostsList/CompanyPostEditModal/useUpdatePostFormData.js","components/CompanyHomepageComponents/CompanyPostsList/CompanyPostEditModal/CompanyPostEditContainer.js","helpers/databaseUpdate.js","components/CompanyHomepageComponents/CompanyPostsList/CompanyPost.js","components/CompanyHomepageComponents/CompanyPostsList/CompanyPostsListPresenter.js","components/CompanyHomepageComponents/CompanyPostsList/CompanyPostsListContainer.js","components/CompanyHomepageComponents/CompanyHomepage/CompanyHomepagePresenter.js","customHooks/useCompanyData.js","components/CompanyHomepageComponents/CompanyHomepage/CompanyHomepageContainer.js","customHooks/useCompanyPostsList.js","components/UserHomepageComponents/SubscribePage/CompanySearchForm/CompanySearchFormPresenter.js","components/UserHomepageComponents/SubscribePage/CompanySearchForm/CompanySearchFormContainer.js","components/UserHomepageComponents/SubscribePage/CompanySubscribe/CompanyDetailsModal/CompanyDetailsModalPresenter.js","components/UserHomepageComponents/SubscribePage/CompanySubscribe/CompanyDetailsModal/CompanyDetailsModalContainer.js","components/UserHomepageComponents/SubscribePage/CompanySubscribe/CompanySubscribePresenter.js","images/default-company-pic.png","components/UserHomepageComponents/SubscribePage/CompanySubscribe/CompanySubscribeContainer.js","components/UserHomepageComponents/SubscribePage/CompaniesList/CompaniesListPresenter.js","components/UserHomepageComponents/SubscribePage/CompaniesList/CompaniesListContainer.js","components/UserHomepageComponents/SubscribePage/SubscribePagePresenter.js","components/UserHomepageComponents/SubscribePage/SubscribePageContainer.js","customHooks/useCompaniesList.js","components/EditProfilePage/UserEditProfile/UserEditProfilePresenter.js","components/EditProfilePage/UserEditProfile/UserEditProfileContainer.js","components/EditProfilePage/UserEditProfile/useUserFormData.js","customHooks/useUserData.js","components/EditProfilePage/UserEditProfile/validateUserUpdate.js","components/EditProfilePage/CompanyEditProfile/CompanyEditProfilePresenter.js","components/EditProfilePage/CompanyEditProfile/CompanyEditProfileContainer.js","components/EditProfilePage/CompanyEditProfile/useCompanyFormData.js","components/EditProfilePage/CompanyEditProfile/validateCompanyUpdate.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","storage","auth","login","Timestamp","email","password","a","loginData","promise","signInWithEmailAndPassword","then","result","error","catch","err","register","user","createUserWithEmailAndPassword","TABLE_NAMES","USERS_TABLE_COLUMNS","COMPANY_TABLE_COLUMNS","USER_POSTS_TABLE_COLUMNS","USER_SUBSCRIBE_TABLE_COLUMNS","POSTS_TABLE_COLUMNS","IsUserLogin","isUser","query","collection","where","limit","get","snapshot","docs","length","checkUniqueUserEmail","uniqueUserEmail","checkUniqueCompanyEmail","uniqueCompanyEmail","useStyle","makeStyles","avatar","width","height","margin","backgroundColor","blue","avatarImg","objectFit","displayName","paddingTop","menuButton","color","menuItem","padding","menuItemIcon","marginRight","withRouter","props","profilePicture","userData","uid","history","homepage","location","pathname","includes","classes","options","useState","anchorElement","setAnchorElement","handleClose","checkRedirect","redirectPage","push","handleLogout","signOut","goToEditProfile","setMenuIcon","option","homepageIcon","className","editProfileIcon","logoutIcon","Grid","container","alignItems","justify","Typography","variant","IconButton","aria-label","aria-controls","aria-haspopup","onClick","e","currentTarget","handleClick","Avatar","img","src","Menu","id","anchorEl","getContentAnchorEl","keepMounted","open","onClose","anchorOrigin","vertical","horizontal","transformOrigin","map","MenuItem","handleOptionsClick","AuthContext","createContext","AuthProvider","children","currentUser","setCurrentUser","useEffect","onAuthStateChanged","Provider","value","useStyles","root","toolbarTitleGrid","flexGrow","toolbarTitle","navBarIcon","marginBottom","logoutButton","paddingBottom","logout","size","Navbar","useContext","photoURL","AppBar","position","Toolbar","to","edge","item","direction","getWidth","window","innerWidth","document","documentElement","clientWidth","body","useCurrentWidth","setWidth","timeoutId","resizeListener","clearTimeout","setTimeout","addEventListener","removeEventListener","Banner","currentWidth","styles","iconSize","style","mediumIcon","JoinUs","Button","startIcon","LoginFormPresenter","onSubmit","preventDefault","method","component","TextField","required","fullWidth","InputProps","startAdornment","InputAdornment","name","label","type","helperText","emailError","onChange","setEmail","target","passwordError","setPassword","signIn","emailPattern","RegExp","dateFormat","dateTimeFormat","websitePattern","emailInput","setEmailInput","passwordInput","setPasswordInput","emailErr","setEmailErr","passwordErr","setPasswordErr","validateLogin","pwdError","test","code","message","UserGeneralDetailsPresenter","values","continueRegistration","genders","spacing","xs","sm","autoFocus","firstNameErr","firstName","setFirstName","lastNameErr","lastName","setLastName","utils","DateFnsUtils","format","placeholder","maxDate","Date","dateOfBirth","date","setDateOfBirth","cityErr","city","setCity","FormControl","InputLabel","htmlFor","Select","gender","setGender","UserGeneralDetailsContainer","nextStep","validateInputs","setFirstNameErr","setLastNameErr","setCityErr","fNameError","lNameError","cityError","isNaN","getTime","trim","useGeneralDetails","moment","UserAccountDetailsPresenter","goBackRegistration","progressBar","CircularProgress","userEmail","setUserEmail","userPassword","setUserPassword","confirmPasswordErr","passwordConfirm","setPasswordConfirm","UserAccountDetailsContainer","prevStep","setProgressBar","emailHasUpperCase","hasUpperCase","i","letter","setConfirmPasswordErr","cPasswordError","useAccountDetails","useStorageUpload","file","progress","setProgress","setErr","url","setUrl","storageRef","ref","put","on","percentage","bytesTransferred","totalBytes","getDownloadURL","storageRemove","refFromURL","delete","ProgressBar","setFile","setImageSource","console","log","div","initial","animate","UserProfilePicturePresenter","uploadFile","fontWeight","imageSource","alt","fileErr","validImageTypes","UserProfilePictureContainer","fileError","setFileErr","selectedFile","files","useProfilePicture","addUser","usersRef","userPostsRef","userSubscribeRef","doc","set","profileUrl","display","justifyContent","ConfirmDetailsPresenter","keys","detailValues","registerAccount","List","key","index","ListItem","parameters","accountType","Object","accountData","getAccountData","updateProfile","insertAccountToDatabase","company","companyName","dateOfCreation","ceoFirstName","ceoLastName","cityHeadquarters","serviceType","branches","phoneNumber","website","addCompany","extractUserData","extractCompanyData","companyEmail","companyPassword","companyStartDate","companyFounderFirstName","companyFounderLastName","headCity","companyWebsite","UserFormContainer","step","setStep","userGeneralDetailsValues","userGeneralDetailsParams","userAccountDetailsValues","userAccountDetailsParams","userProfilePictureValues","allDetails","allValues","alert","setCurrentComponent","CompanyGeneralDetailsPresenter","companyNameErr","setCompanyName","setCompanyStartDate","companyFounderFirstNameErr","setCompanyFounderFirstName","companyFounderLastNameErr","setCompanyFounderLastName","CompanyGeneralDetailsContainer","setCompanyNameErr","setCompanyFounderFirstNameErr","setCompanyFounderLastNameErr","compNameError","compFounderFirstNameError","compFounderLastNameError","useCompanyGeneralDetails","CompanyServiceDetailsPresenter","typesOfServices","handleBranchAdd","handleBranchRemove","handlePhoneNumberChange","headCityErr","setHeadCity","marginTop","setServiceType","service","aria-autocomplete","allowDuplicates","onAdd","onDelete","phoneNumberErr","phoneUtil","PhoneNumberUtil","getInstance","CompanyServiceDetailsContainer","newBranchesList","capitalizedCity","slice","toUpperCase","setBranches","setHeadCityErr","setPhoneNumberErr","numberError","headCityCapitalized","number","parse","isValidNumberForRegion","splice","setPhoneNumber","useCompanyServiceDetails","CompanyAccountDetailsPresenter","companyEmailErr","setCompanyEmail","companyPasswordErr","setCompanyPassword","companyConfirmPasswordErr","companyConfirmPassword","setCompanyConfirmPassword","companyWebsiteErr","setCompanyWebsite","CompanyAccountDetailsContainer","setCompanyEmailErr","setCompanyPasswordErr","setCompanyConfirmPasswordErr","setCompanyWebsiteErr","compEmailError","compPwdError","compConfirmPwdError","compWebsiteError","useCompanyAccountDetails","CompanyProfilePicturePresenter","CompanyProfilePictureContainer","useCompanyProfilePicture","CompanyFormContainer","companyGeneralDetailsValues","companyGeneralDetailsParams","companyServiceDetailsValues","companyServiceDetailsParams","companyAccountDetailsValues","companyAccountDetailsParams","companyProfilePictureValues","centerFormContainer","placeItems","form","match","params","Box","tooltipTitle","PostLink","displayIcon","Tooltip","tooltipSize","title","TransitionComponent","Zoom","filter","cursor","UserHomepagePresenter","Fab","NoSubscribtions","detailsCardRoot","background","border","boxShadow","header","postCreator","fontSize","postType","postTitle","postTimestamp","postCities","postContent","button","PostDetailsPresenter","post","postCreatorProfileUrl","defaultAvatar","profilePicAvatar","alignSelf","Card","CardHeader","subheader","CardContent","postTypeColor","transform","postTypeIcon","list","forEach","citiesPostAppliesList","content","PostDetailsContainer","theme","maxWidth","borderRadius","actions","cardContent","whiteSpace","overflow","textOverflow","readButton","starButton","detailsButton","PostPresenter","setOpen","toggleReadPost","toggleStarPost","modalBody","read","lineHeight","CardActions","starred","Modal","disableScrollLock","PostContainer","postDate","toDate","userId","postId","update","FieldValue","arrayRemove","unreadPost","currentUserId","arrayUnion","unstarPost","NoPosts","textAlign","PostsListPresenter","postsList","postsGrid","PostsListContainer","posts","postsData","userSubscribtions","subscribtions","userSubscribtionsData","setPostsList","postsRef","unsubscribe","orderBy","onSnapshot","data","useUserPostsList","sub","userPostsData","setUserPostsData","readPosts","starredPosts","currentUserPostsData","useUserPostData","updatedPostsList","readStatus","starredStatus","PostsListPagePresenter","useUserSubscribtionsData","userSubscribtionData","setUserSubscribtionData","userSubscribtionsRef","sort","postTypes","AddPostFormPresenter","formData","createPost","cancelPost","setPostType","citiesPostAppliesErr","citiesPostApplies","postTitleErr","setPostTitle","multiline","postContentErr","setPostContent","rows","rowsMax","AddPostFormContainer","currentCompanyData","newList","setCitiesPostApplies","setCitiesPostAppliesErr","usePostFormData","setPostTitleErr","setPostContentErr","AddPost","validateCreatePost","citiesAppliesErr","titleErr","contentErr","creatorId","creatorName","creatorProfileUrl","addPost","uuidv4","NoPostsPage","align","CompanyPostDetailsModalPresenter","CompanyPostDetailsModalContainer","CompanyPostEditPresenter","updatePost","cancelUpdatePost","useUpdatePostFormData","CompanyPostEditContainer","companyBranches","validateUpdatePost","citiesAffected","minHeight","deleteButton","marginLeft","editButton","CompanyPost","openDetails","setOpenDetails","handleCloseDetails","openEdit","setOpenEdit","handleCloseEdit","deleteCompanyPost","modalBodyDetails","modalBodyEdit","CompanyPostsListPresenter","companyPosts","CompanyPostsListContainer","CompanyHomepagePresenter","useCompanyData","companyData","setCompanyData","companiesRef","setCompanyPosts","useCompanyPostsList","justifySelf","companyType","helperFormData","updateData","setName","setType","inputProps","autoCapitalize","goBack","CompanySearchFormContainer","searchFormData","setCompanyType","companyCeo","companyTimestamp","companyService","companyHeadquarters","CompanyDetailsModalPresenter","mail","link","href","branchesList","CompanyDetailsModalContainer","CompanySubscribePresenter","subscribe","profilePic","alreadySubscribed","subscribeButton","unsubscribeButton","CompanySubscribeContainer","some","newSubscribtion","subscribeToCompany","targetSubscribtion","unsubscribeFromCompany","CompaniesListPresenter","companiesList","CompaniesListContainer","SubscribePagePresenter","setCompaniesList","startAt","endAt","useCompaniesList","editProfile","uploadPicture","setProfileUrl","accept","profileUrlErr","setProfileUrlErr","useUserFormData","setUserData","useUserData","firstErr","lastErr","validateUserUpdate","updateUser","updateCurrentUser","serviceTypes","setDateOfCreation","ceoFirstErr","ceoFirst","setCeoFirst","ceoLastErr","ceoLast","setCeoLast","websiteErr","setWebsite","cityHead","setCityHead","setCeoFirstErr","setCeoLastErr","setWebsiteErr","useCompanyFormData","cFirstErr","cLastErr","compWebsiteErr","compNumberErr","validateCompanyUpdate","updateCompany","path","exact","Homepage","RegisterPage","UserHomepageContainer","PostsListPageContainer","CompanyHomepageContainer","SubscribePageContainer","UserEditProfileContainer","CompanyEditProfileContainer","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.cb5a662b.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\n\r\n\r\nconst firebaseConfig = {\r\napiKey: process.env.REACT_APP_FB_API_KEY,\r\nauthDomain: process.env.REACT_APP_FB_AUTH_DOMAIN,\r\nprojectId: process.env.REACT_APP_FB_PROJECT_ID,\r\nstorageBucket: process.env.REACT_APP_FB_STORAGE_BUCKET,\r\nmessagingSenderId: process.env.REACT_APP_FB_MESSAGING_SENDER_ID,\r\nappId: process.env.REACT_APP_FB_APP_ID\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst firestore = firebase.firestore();\r\nconst storage = firebase.storage();\r\nconst auth = firebase.auth();\r\nconst Timestamp = firebase.firestore.Timestamp;\r\n\r\nexport { firestore, storage, auth, firebase, Timestamp };","import { auth } from \"../firebase/config\";\r\n\r\nconst logoutUser = () => {\r\n    return auth.signOut();\r\n}\r\n\r\nconst login = async (email, password) => {\r\n    let loginData = null;\r\n    const promise = auth.signInWithEmailAndPassword(email, password);\r\n\r\n    loginData = await promise.then((result) => {\r\n        return {...result, error: false};\r\n    })\r\n    .catch(err => {\r\n        return {...err, error: true};\r\n    })\r\n\r\n    return loginData;\r\n}\r\n\r\nconst register = async (email, password) => {\r\n    let user = null;\r\n    const promise = auth.createUserWithEmailAndPassword(email, password);\r\n\r\n    user = await promise.then((result) => {\r\n        return result.user;\r\n    })\r\n\r\n    return user;\r\n}\r\n\r\n\r\n\r\nexport { login, logoutUser, register }","const TABLE_NAMES = {\r\n    USERS_TABLE: \"users\",\r\n    COMPANIES_TABLE: \"companies\",\r\n    USER_POSTS_TABLE: \"user_posts\",\r\n    USER_SUBSCRIBE_TABLE: \"user_subscribe\",\r\n    POSTS_TABLE: \"posts\"\r\n};\r\n\r\nconst USERS_TABLE_COLUMNS = {\r\n    UID: \"uid\",\r\n    EMAIL: \"email\",\r\n    FIRST_NAME: \"first_name\",\r\n    LAST_NAME: \"last_name\",\r\n    DATE_OF_BIRTH: \"date_of_birth\",\r\n    GENDER: \"gender\",\r\n    PROFILE_URL: \"profile_url\"\r\n};\r\n\r\nconst COMPANY_TABLE_COLUMNS = {\r\n    COMPANY_ID: \"company_id\",\r\n    COMPANY_NAME: \"name\",\r\n    EMAIL: \"email\",\r\n    DATE_OF_CREATION: \"date_of_creation\",\r\n    CEO_FIRST_NAME: \"ceo_first\",\r\n    CEO_LAST_NAME: \"ceo_last\",\r\n    HEADQUARTERS_CITY: \"city_head\",\r\n    SERVICE_TYPE: \"service\",\r\n    BRANCHES: \"branches\",\r\n    PROFILE_URL: \"profile_url\",\r\n    PHONE_NUMBER: \"phone_number\",\r\n    WEBSITE: \"website\"\r\n};\r\n\r\nconst USER_POSTS_TABLE_COLUMNS = {\r\n    READ_POSTS: \"read_posts\",\r\n    STARRED_POSTS: \"starred_posts\"\r\n};\r\n\r\nconst USER_SUBSCRIBE_TABLE_COLUMNS = {\r\n    SUBSCRIBTIONS: \"subscribtions\"\r\n};\r\n\r\nconst POSTS_TABLE_COLUMNS = {\r\n    POST_ID: \"post_id\",\r\n    CREATOR_ID: \"creator_id\",\r\n    CREATOR_NAME: \"creator_name\",\r\n    CREATOR_PROFILE_URL: \"creator_profile_url\",\r\n    POST_TYPE: \"type\",\r\n    POST_TITLE: \"title\",\r\n    POST_CONTENT: \"content\",\r\n    CITIES_POST_APPLIES_TO: \"cities_affected\",\r\n    TIMESTAMP: \"created_on\"\r\n};\r\n\r\n\r\nexport { \r\n    TABLE_NAMES,\r\n    USERS_TABLE_COLUMNS,\r\n    COMPANY_TABLE_COLUMNS,\r\n    USER_POSTS_TABLE_COLUMNS,\r\n    USER_SUBSCRIBE_TABLE_COLUMNS,\r\n    POSTS_TABLE_COLUMNS\r\n};","import { firestore } from \"../firebase/config\";\r\nimport { TABLE_NAMES, USERS_TABLE_COLUMNS, COMPANY_TABLE_COLUMNS } from \"../firebase/tables\";\r\n\r\nconst IsUserLogin = async (email) => {\r\n    let isUser = false;\r\n\r\n    const query = firestore.collection(TABLE_NAMES.USERS_TABLE)\r\n    .where(USERS_TABLE_COLUMNS.EMAIL, \"==\", email).limit(1)\r\n    .get();\r\n\r\n    isUser = await query.then((snapshot) => {\r\n        return (snapshot.docs.length > 0);\r\n    })\r\n\r\n    return isUser;\r\n}\r\n\r\nconst checkUniqueUserEmail = async (email) => {\r\n    let uniqueUserEmail = false;\r\n\r\n    const query = firestore.collection(TABLE_NAMES.USERS_TABLE)\r\n    .where(USERS_TABLE_COLUMNS.EMAIL, \"==\", email)\r\n    .get();\r\n\r\n    uniqueUserEmail = await query.then((snapshot) => {\r\n        return (snapshot.docs.length === 0);\r\n    })\r\n\r\n    return uniqueUserEmail;\r\n}\r\n\r\nconst checkUniqueCompanyEmail = async (email) => {\r\n    let uniqueCompanyEmail = false;\r\n\r\n    const query = firestore.collection(TABLE_NAMES.COMPANIES_TABLE)\r\n    .where(COMPANY_TABLE_COLUMNS.EMAIL, \"==\", email)\r\n    .get();\r\n\r\n    uniqueCompanyEmail = await query.then((snapshot) => {\r\n        return (snapshot.docs.length === 0);\r\n    })\r\n\r\n    return uniqueCompanyEmail;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport { IsUserLogin, checkUniqueUserEmail, checkUniqueCompanyEmail };","import React, { useState } from 'react'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Grid, Typography, Avatar, IconButton, Menu, MenuItem } from \"@material-ui/core\"\r\nimport PersonRoundedIcon from '@material-ui/icons/PersonRounded';\r\nimport EditRoundedIcon from '@material-ui/icons/EditRounded';\r\nimport PowerSettingsNewRoundedIcon from '@material-ui/icons/PowerSettingsNewRounded';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { blue } from '@material-ui/core/colors';\r\nimport { logoutUser } from \"../../helpers/currentUserManager\";\r\nimport { IsUserLogin } from \"../../helpers/queryManager\";\r\n\r\nconst useStyle = makeStyles({\r\n    avatar: {\r\n        width: 48,\r\n        height: 48,\r\n        margin: '0 auto',\r\n        backgroundColor: blue[800]\r\n      },\r\n      avatarImg: {\r\n        objectFit: 'contain'\r\n      },\r\n      displayName: {\r\n          paddingTop: '0.4em'\r\n      },\r\n      menuButton: {\r\n          color: 'whitesmoke'\r\n      },\r\n      menuItem: {\r\n        '&:hover': {\r\n            backgroundColor: '#aaa'\r\n        },\r\n        padding: '.7em'\r\n      },\r\n      menuItemIcon: {\r\n          marginRight: '0.3em',\r\n          color: '#2F303A',\r\n      }\r\n});\r\n\r\n\r\nfunction UserDataAvatar(props) {\r\n    const displayName = props.displayName;\r\n    const profilePicture = props.profilePicture;\r\n    const userData = props.userData;\r\n    const uid = userData.uid;\r\n\r\n    const history = props.history;\r\n    const pathname = history.location.pathname;\r\n    const homepage = pathname.includes(\"company\") ? \"My Posts\" : \"Dashboard\";\r\n    \r\n    const classes = useStyle();\r\n\r\n    const options = [\r\n        homepage,\r\n        \"Edit Profile\",\r\n        \"Log Out\"\r\n    ];\r\n\r\n   \r\n    const [anchorElement, setAnchorElement] = useState(null);\r\n\r\n    const handleClick = (e) => {\r\n        setAnchorElement(e.currentTarget);\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setAnchorElement(null);\r\n    }\r\n\r\n    const checkRedirect = async () => {\r\n        handleClose();\r\n        // Check account type for redirection\r\n        const isUser = await IsUserLogin(userData.email);\r\n        const redirectPage = isUser ? \"user-page\" : \"company-page\";\r\n\r\n        history.push(`/${redirectPage}`);\r\n    }\r\n\r\n    const handleLogout = () => {\r\n        handleClose();\r\n        const promise = logoutUser();\r\n        promise.then(() => {\r\n            history.push(\"/\");\r\n        })\r\n    }\r\n\r\n    const goToEditProfile = async () => {\r\n        handleClose();\r\n        // Check account type for redirection\r\n        const isUser = await IsUserLogin(userData.email);\r\n        const redirectPage = isUser ? \"user\" : \"company\";\r\n\r\n        history.push(`/edit/${redirectPage}/${uid}`);\r\n    }\r\n\r\n    const handleOptionsClick = (option) => {\r\n        switch (option) {\r\n            case options[0]:\r\n                checkRedirect();\r\n                break;\r\n            case options[1]:\r\n                // TODO: Open edit profile modal\r\n                goToEditProfile();\r\n                break;\r\n            case options[2]:\r\n                handleLogout();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const setMenuIcon = (option) => {\r\n        const homepageIcon = <PersonRoundedIcon className={classes.menuItemIcon} />\r\n        const editProfileIcon = <EditRoundedIcon className={classes.menuItemIcon} />\r\n        const logoutIcon = <PowerSettingsNewRoundedIcon className={classes.menuItemIcon} />\r\n\r\n        switch (option) {\r\n            case options[0]:\r\n                return homepageIcon\r\n            case options[1]:\r\n                return editProfileIcon\r\n            case options[2]:\r\n                return logoutIcon\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    if(!userData) return null;\r\n\r\n    return (\r\n        <>\r\n            <Grid container alignItems=\"center\" justify=\"flex-end\">\r\n            <Typography className={classes.displayName} variant=\"subtitle1\">{displayName}</Typography>\r\n            <div>\r\n                <IconButton\r\n                 aria-label=\"more\"\r\n                 aria-controls=\"long-menu\"\r\n                 aria-haspopup=\"true\"\r\n                 onClick={(e) => handleClick(e)}>\r\n                     {/* <MoreVertIcon className={classes.menuButton} />s */}\r\n                     <Avatar\r\n                        className={classes.avatar}\r\n                        classes={{img: classes.avatarImg}}\r\n                        src={profilePicture}\r\n                    />\r\n                </IconButton >\r\n                <Menu\r\n                    id=\"long-menu\"\r\n                    anchorEl={anchorElement}\r\n                    getContentAnchorEl={null}\r\n                    keepMounted\r\n                    open={anchorElement ? true : false}\r\n                    onClose={(e) => handleClose(e)}\r\n                    color=\"disabled\"\r\n                    anchorOrigin={{\r\n                        vertical: 'bottom',\r\n                        horizontal: 'center',\r\n                      }}\r\n                      transformOrigin={{\r\n                        vertical: 'top',\r\n                        horizontal: 'center',\r\n                      }}\r\n                >\r\n                    {\r\n                        options.map(option => {\r\n                            return (\r\n                                <MenuItem className={classes.menuItem}\r\n                                key={option} onClick={() => handleOptionsClick(option)}>\r\n                                    {setMenuIcon(option)}\r\n                                    {option}\r\n                                </MenuItem>\r\n                            )\r\n                        })\r\n                    }\r\n                </Menu>\r\n            </div>\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(UserDataAvatar)\r\n","import React, {useState, useEffect, createContext} from 'react';\r\nimport { auth } from \"./config\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\n\r\nexport const AuthProvider = ({children}) => {\r\n\r\n    // Data here\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        auth.onAuthStateChanged((user) => {\r\n            setCurrentUser(user);\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <AuthContext.Provider value={{currentUser,}}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\n","import React, { useContext } from 'react';\r\nimport UserDataAvatar from \"./UserDataAvatar\";\r\nimport { AppBar, Toolbar, Typography, Grid } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\r\nimport { AuthContext } from \"../../firebase/auth\";\r\nimport defaultPic from \"../../images/default-profile-picture.png\";\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        padding: 5,\r\n        backgroundColor: '#2f303a'\r\n    },\r\n    toolbarTitleGrid: {\r\n      flexGrow: 1,\r\n    },\r\n    toolbarTitle: {\r\n      color: \"whitesmoke\",\r\n      margin: 0\r\n    },\r\n    navBarIcon: {\r\n      width: 50,\r\n      height: 50,\r\n      marginBottom: 5,\r\n      marginRight: 5\r\n    },\r\n    logoutButton: {\r\n      paddingBottom: 4\r\n    },\r\n    logout: {\r\n      width: 35,\r\n      height: 35,\r\n      size: \"medium\",\r\n      \"&:hover\": {\r\n        color: \"purple\"\r\n      }\r\n    }\r\n  });\r\n\r\n\r\nfunction Navbar() {\r\n    const { currentUser } = useContext(AuthContext);\r\n    let profilePicture = defaultPic;\r\n    let displayName = \"Unknown\";\r\n    const classes = useStyles();\r\n\r\n    if(currentUser) {\r\n      profilePicture = currentUser.photoURL;\r\n      displayName = currentUser.displayName;\r\n    }\r\n\r\n\r\n    return (\r\n        <AppBar className={classes.root} position=\"sticky\">\r\n        <Toolbar>\r\n          <Link to={\"/\"}>\r\n              <NotificationsActiveIcon color=\"primary\" edge=\"start\" className={classes.navBarIcon}/>\r\n          </Link>\r\n\r\n          <Grid container item direction=\"column\"\r\n            className={classes.toolbarTitleGrid}>\r\n            \r\n            <Grid item>\r\n              <Typography variant=\"h4\" className={classes.toolbarTitle}>\r\n                Notify-Me\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid item>\r\n                <Typography className={classes.toolbarTitle} variant=\"body2\">\r\n                  Notification app\r\n                </Typography>\r\n            </Grid>\r\n\r\n\r\n          </Grid>\r\n          {\r\n            currentUser &&\r\n            <UserDataAvatar\r\n              userData={currentUser}\r\n              displayName={displayName}\r\n              profilePicture={profilePicture}\r\n            />\r\n          }\r\n\r\n        </Toolbar>\r\n      </AppBar>\r\n    )\r\n}\r\n\r\nexport default Navbar;\r\n","export default \"data:image/png;base64,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\"","import { useState, useEffect } from 'react';\r\n\r\nconst getWidth = () => window.innerWidth \r\n  || document.documentElement.clientWidth \r\n  || document.body.clientWidth;\r\n\r\nfunction useCurrentWidth() {\r\n  // save current window width in the state object\r\n  let [width, setWidth] = useState(getWidth());\r\n\r\n  // in this case useEffect will execute only once because\r\n  // it does not have any dependencies.\r\n  useEffect(() => {\r\n    // timeoutId for debounce mechanism\r\n    let timeoutId = null;\r\n    const resizeListener = () => {\r\n      // prevent execution of previous setTimeout\r\n      clearTimeout(timeoutId);\r\n      // change width from the state object after 150 milliseconds\r\n      timeoutId = setTimeout(() => setWidth(getWidth()), 150);\r\n    };\r\n    // set resize listener\r\n    window.addEventListener('resize', resizeListener);\r\n\r\n    // clean up function\r\n    return () => {\r\n      // remove resize listener\r\n      window.removeEventListener('resize', resizeListener);\r\n    }\r\n  }, [])\r\n\r\n  return width;\r\n}\r\n\r\nexport default useCurrentWidth;","import \"./style/style.css\";\r\nimport React from \"react\";\r\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\r\nimport useCurrentWidth from \"../../../customHooks/useCurrentWidth\";\r\n\r\n\r\nfunction Banner() {\r\n\r\n    const currentWidth = useCurrentWidth();\r\n    const styles = {\r\n        iconSize: {\r\n          width: currentWidth / 9,\r\n          height: currentWidth / 9,\r\n        },\r\n      };\r\n\r\n    return (\r\n        <div className=\"banner-wrapper\">\r\n                <div className=\"banner-logo-wrapper\">\r\n                    <NotificationsActiveIcon \r\n                    style={\r\n                        styles.iconSize\r\n                    }\r\n                    color=\"primary\" />\r\n                </div>\r\n                <div className=\"banner-app-name\">\r\n                    <h1 className=\"banner-title\">Notify-Me</h1>\r\n                    <h4 className=\"banner-subtitle\">Notification App</h4>\r\n                </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Banner\r\n","import \"./style/style.css\";\r\nimport React from 'react';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport BusinessIcon from '@material-ui/icons/Business';\r\nimport { Link } from \"react-router-dom\";\r\n// import Zoom from \"@material-ui/core/Zoom\";\r\n// import { motion } from \"framer-motion\";\r\n\r\nconst styles = {\r\n    mediumIcon: {\r\n        width: 40,\r\n        height: 40,\r\n    },\r\n  };\r\n\r\nfunction JoinUs() {\r\n\r\n    return (\r\n        <div className=\"join-us-wrapper\">\r\n                <Link to={'/register/user'}>\r\n                    <Button variant=\"contained\" color=\"primary\"\r\n                    startIcon={<PersonIcon style={styles.mediumIcon} />} >\r\n                        Join as User\r\n                    </Button>\r\n                </Link>\r\n                <Link to={'/register/company'}>\r\n                    <Button variant=\"contained\" color=\"primary\"\r\n                    startIcon={<BusinessIcon style={styles.mediumIcon} />} >\r\n                        Join as Company\r\n                    </Button>\r\n                </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default JoinUs;\r\n","import \"./style/style.css\";\r\nimport React from 'react';\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\r\nimport VpnKeyRoundedIcon from '@material-ui/icons/VpnKeyRounded';\r\n\r\n\r\nfunction LoginFormPresenter(props) {\r\n\r\n    return (\r\n        <form className=\"login-form-wrapper\" onSubmit={e => e.preventDefault()} method=\"POST\">\r\n                <div className=\"login-form-inputs\">\r\n                    <Avatar style={{\r\n                        backgroundColor: '#3f51b5'\r\n                    }} >\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\" >Sign in</Typography>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                              <InputAdornment position=\"start\">\r\n                                <MailOutlineIcon style={{color: 'whitesmoke'}} />\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        name=\"email\"\r\n                        label=\"Email\"\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        helperText={props.emailError}\r\n                        error={props.emailError.length ? true : false}\r\n                        value={props.email}\r\n                        onChange={e => props.setEmail(e.target.value)}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                              <InputAdornment position=\"start\">\r\n                                <VpnKeyRoundedIcon style={{color: 'whitesmoke'}} />\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        name=\"password\"\r\n                        label=\"Password\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        helperText={props.passwordError}\r\n                        error={props.passwordError.length ? true : false}\r\n                        value={props.password}\r\n                        onChange={e => props.setPassword(e.target.value)}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"login-form-submit\">\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        fullWidth\r\n                        type=\"submit\"\r\n                        color=\"primary\"\r\n                        onClick={e => props.signIn(e)} >\r\n                        Sign in\r\n                    </Button>\r\n                </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default LoginFormPresenter\r\n","// Dont change the Regex expressions\r\nconst emailPattern =\r\n    new RegExp\r\n    (/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\r\n\r\nconst dateFormat = \"MMMM Do, YYYY\";\r\nconst dateTimeFormat = \"MMMM Do, YYYY · hh:mm\";\r\n\r\nconst websitePattern =\r\n    new RegExp(/^((https?|ftp|smtp):\\/\\/)?(www.)?([a-zA-Z0-9]{2,})+\\.[a-zA-Z0-9]+(\\.[a-zA-Z0-9]*)?(\\/[a-zA-Z0-9#]+\\/?)*$/);\r\n\r\nexport { emailPattern, dateFormat, dateTimeFormat, websitePattern };\r\n","import \"./style/style.css\";\r\nimport LoginFormPresenter from \"./LoginFormPresenter\";\r\nimport React, { useState } from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {emailPattern} from \"../../../helpers/validators\";\r\nimport { login } from \"../../../helpers/currentUserManager\";\r\nimport { IsUserLogin } from \"../../../helpers/queryManager\";\r\n\r\nfunction LoginFormContainer(props) {\r\n\r\n    const [emailInput, setEmailInput] = useState(\"\");\r\n    const [passwordInput, setPasswordInput] = useState(\"\");\r\n    \r\n    const [emailErr, setEmailErr] = useState(\"\");\r\n    const [passwordErr, setPasswordErr] = useState(\"\");\r\n\r\n    const signIn = async (e) => {\r\n        e.preventDefault();\r\n        if(await validateLogin()) {\r\n            const isUser = await IsUserLogin(emailInput);\r\n            let redirectPage = \"\";\r\n\r\n            if(isUser) {\r\n                redirectPage = \"user-page\";\r\n            }\r\n            else {\r\n                redirectPage = \"company-page\";\r\n            }\r\n\r\n            props.history.push(`/${redirectPage}`);\r\n        }\r\n    }\r\n\r\n    const validateLogin = async () => {\r\n        // Clear previous errors\r\n        setEmailErr(\"\");\r\n        setPasswordErr(\"\");\r\n\r\n        let emailError = \"\";\r\n        let pwdError = \"\";\r\n\r\n        // Empty fields\r\n        if(emailInput === \"\") emailError = \"Enter your email!\";\r\n        if(passwordInput === \"\") pwdError = \"Enter your password!\";\r\n\r\n        // Pattern match\r\n        if(!emailPattern.test(emailInput) && emailInput.length)\r\n            emailError = \"Email invalid format!\";\r\n\r\n            \r\n        // Check user existence\r\n        const loginData = await login(emailInput, passwordInput);\r\n        if(loginData.error) {\r\n            switch (loginData.code) {\r\n                case 'auth/wrong-password':\r\n                    pwdError = loginData.message;\r\n                    break;\r\n                default:\r\n                    emailError = loginData.message;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        if(emailError.length || pwdError.length) {\r\n            setEmailErr(emailError);\r\n            setPasswordErr(pwdError);\r\n            return false;\r\n        }\r\n        \r\n        return true;\r\n    }\r\n\r\n    return (\r\n        <LoginFormPresenter \r\n            email={emailInput} setEmail={setEmailInput}\r\n            emailError={emailErr}\r\n\r\n            passwordInput={passwordInput} setPassword={setPasswordInput}\r\n            passwordError={passwordErr}\r\n\r\n            signIn={signIn}\r\n        />\r\n    )\r\n}\r\n\r\nexport default withRouter(LoginFormContainer);\r\n","import \"./style/style.css\";\r\nimport React, { useContext } from \"react\";\r\nimport Banner from \"../Banner/Banner\";\r\nimport JoinUs from \"../JoinUs/JoinUs\";\r\nimport LoginFormContainer from \"../LoginForm/LoginFormContainer\";\r\nimport { AuthContext } from \"../../../firebase/auth\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { IsUserLogin } from \"../../../helpers/queryManager\";\r\n\r\n\r\nfunction Homepage({history}) {\r\n    const { currentUser } = useContext(AuthContext);\r\n\r\n    const checkRedirect = async () => {\r\n        // TODO: check account type to redirect\r\n        let redirectPage = \"\";\r\n        const isUser = await IsUserLogin(currentUser.email);\r\n        // console.log(\"isUser: \" + isUser);\r\n        // console.log(currentUser);\r\n        if(isUser) {\r\n            redirectPage = \"user-page\";\r\n        }\r\n        else {\r\n            redirectPage = \"company-page\";\r\n        }\r\n\r\n        history.push(`/${redirectPage}`);\r\n    }\r\n\r\n    if(currentUser) {\r\n        checkRedirect();\r\n    }\r\n\r\n    return (\r\n        !currentUser && <div className=\"homepage-wrapper\">\r\n            <div className=\"homepage-container-grid\" >\r\n                <div className=\"homepage-banner-col\" >\r\n                    <Banner />\r\n                    <JoinUs />\r\n                </div>\r\n                <div className=\"homepage-login-col\" > \r\n                    <LoginFormContainer />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Homepage);\r\n","import React from 'react'\r\nimport \"../../style/style.css\";\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { Link } from \"react-router-dom\";\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { Typography, TextField, Button, Avatar, Grid, Select, MenuItem, InputLabel, FormControl }\r\n from '@material-ui/core';\r\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport FaceRoundedIcon from '@material-ui/icons/FaceRounded';\r\nimport LocationOnRoundedIcon from '@material-ui/icons/LocationOnRounded';\r\n\r\n\r\nfunction UserGeneralDetailsPresenter({ values, continueRegistration, genders }) {\r\n\r\n    return (\r\n        <div className=\"form-container-flex\">\r\n            <div className=\"form-explanation-container\">\r\n                <Typography variant=\"h2\">\r\n                    Enter user details\r\n                </Typography>\r\n            </div>\r\n            <div className=\"form-inputs-container\">\r\n                <div className=\"login-form-inputs\">\r\n                    <Avatar style={{backgroundColor: '#3f51b5'}}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    \r\n                    <Typography component=\"h1\" variant=\"h5\" >Sign up</Typography>\r\n                    <br/>\r\n                    <Grid container spacing={2} alignItems=\"center\" justify=\"flex-end\">\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                margin=\"dense\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                autoFocus\r\n                                fullWidth\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <FaceRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                type=\"text\"\r\n                                label=\"First Name\"\r\n                                error={values.firstNameErr ? true : false}\r\n                                helperText={values.firstNameErr}\r\n                                value={values.firstName}\r\n                                onChange={(e) => values.setFirstName(e.target.value)}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                margin=\"dense\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <FaceRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                type=\"text\"\r\n                                label=\"Last Name\"\r\n                                error={values.lastNameErr ? true : false}\r\n                                helperText={values.lastNameErr}\r\n                                value={values.lastName}\r\n                                onChange={(e) => values.setLastName(e.target.value)}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                <KeyboardDatePicker\r\n                                    fullWidth\r\n                                    variant=\"dialog\"\r\n                                    format=\"dd/MM/yyyy\"\r\n                                    placeholder=\"DD/MM/YYYY\"\r\n                                    margin=\"normal\"\r\n                                    label=\"Date of Birth\"\r\n                                    maxDate={new Date()}\r\n                                    value={values.dateOfBirth}\r\n                                    onChange={date => values.setDateOfBirth(date)}\r\n                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                margin=\"dense\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <LocationOnRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                type=\"text\"\r\n                                label=\"City\"\r\n                                error={values.cityErr ? true : false}\r\n                                helperText={values.cityErr}\r\n                                value={values.city}\r\n                                onChange={(e) => values.setCity(e.target.value)}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={8} sm={6}>\r\n                        <FormControl>\r\n                            <InputLabel htmlFor=\"genders\">Gender</InputLabel>\r\n                            <Select style={{color: '#f5f5f5'}}\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                                variant=\"standard\"\r\n                                id=\"genders\"\r\n                                value={values.gender}\r\n                                onChange={(e) => values.setGender(e.target.value)}\r\n                            >\r\n                                {genders.map(gender => {\r\n                                    return (\r\n                                        <MenuItem key={gender} value={gender}>\r\n                                            {gender}\r\n                                        </MenuItem>\r\n                                    )\r\n                                })}\r\n                            </Select>\r\n                        </FormControl>\r\n                        </Grid>            \r\n\r\n                    </Grid>\r\n                    <br/>\r\n                    <br/>\r\n                    <br/>\r\n                    <div className=\"login-form-submit\">\r\n                    <Grid container spacing={2} justify=\"center\">\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Link to={\"/\"}>\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        fullWidth\r\n                                        color=\"default\">\r\n                                        Back\r\n                                    </Button>\r\n                                </Link>\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    color=\"primary\"\r\n                                    onClick={e => continueRegistration(e)}>\r\n                                    Continue\r\n                                </Button>\r\n                            </Grid>\r\n                            \r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserGeneralDetailsPresenter;\r\n","import React from 'react';\r\nimport UserGeneralDetailsPresenter from \"./UserGeneralDetailsPresenter\";\r\n\r\n\r\nconst genders = [\"Male\", \"Female\", \"Other\"];\r\n\r\nfunction UserGeneralDetailsContainer({values, nextStep}) {\r\n\r\n\r\n    const continueRegistration = (e) => {\r\n        e.preventDefault();\r\n        if(validateInputs()) {\r\n            nextStep();\r\n        }\r\n    }\r\n\r\n    const validateInputs = () => {\r\n        // Clear previous errors\r\n        values.setFirstNameErr(\"\");\r\n        values.setLastNameErr(\"\");\r\n        values.setCityErr(\"\");\r\n\r\n        let fNameError = \"\";\r\n        let lNameError = \"\";\r\n        let cityError = \"\";\r\n\r\n        // Check if date is invalid\r\n        if(isNaN(values.dateOfBirth.getTime()))  return false;\r\n\r\n        // Empty fields\r\n        if(values.firstName.trim() === \"\") fNameError = \"Enter first name!\";\r\n        if(values.lastName.trim() === \"\") lNameError = \"Enter last name!\";\r\n        if(values.city.trim() === \"\") cityError = \"Enter city name!\";\r\n        \r\n\r\n        if(fNameError.length || lNameError.length || cityError.length) {\r\n            values.setFirstNameErr(fNameError);\r\n            values.setLastNameErr(lNameError);\r\n            values.setCityErr(cityError);\r\n            return false;\r\n        }\r\n        \r\n        // If the code reaches this point, there are no errors\r\n        return true;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <UserGeneralDetailsPresenter\r\n                genders={genders} \r\n                values={values}\r\n                continueRegistration={continueRegistration}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserGeneralDetailsContainer;\r\n","import { useState } from 'react';\r\nimport moment from 'moment'\r\nimport { dateFormat } from \"../../../../helpers/validators\"\r\n\r\n\r\n// User General Details\r\nconst useGeneralDetails = () => {\r\n    const [firstName, setFirstName] = useState(\"\");\r\n    const [lastName, setLastName] = useState(\"\");\r\n    const [dateOfBirth, setDateOfBirth] = useState(new Date());\r\n    const [gender, setGender] = useState(\"Other\");\r\n    const [city, setCity] = useState(\"\");\r\n\r\n    const [firstNameErr, setFirstNameErr] = useState(\"\");\r\n    const [lastNameErr, setLastNameErr] = useState(\"\");\r\n    const [cityErr, setCityErr] = useState(\"\");\r\n\r\n    const generalDetailsValues = {\r\n        firstName,\r\n        setFirstName,\r\n        firstNameErr,\r\n        setFirstNameErr,\r\n\r\n        lastName,\r\n        setLastName,\r\n        lastNameErr,\r\n        setLastNameErr,\r\n\r\n        dateOfBirth,\r\n        setDateOfBirth,\r\n\r\n        gender,\r\n        setGender,\r\n\r\n        city,\r\n        setCity,\r\n        cityErr,\r\n        setCityErr\r\n    }\r\n\r\n\r\n    const generalDetailsParams = {\r\n        \"First Name\": firstName,\r\n        \"Last Name\": lastName,\r\n        \"Date of Birth\":\r\n            dateOfBirth ? \r\n            moment(dateOfBirth).format(dateFormat)\r\n            : \"\",\r\n        \"Gender\": gender,\r\n        \"City\": city,\r\n    }\r\n\r\n    return [generalDetailsValues, generalDetailsParams];\r\n}\r\n\r\nexport default useGeneralDetails;\r\n","import React from 'react'\r\nimport \"../../style/style.css\";\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { Typography, TextField, Button, Avatar, Grid, CircularProgress } from '@material-ui/core';\r\nimport AlternateEmailRoundedIcon from '@material-ui/icons/AlternateEmailRounded';\r\nimport VpnKeyRoundedIcon from '@material-ui/icons/VpnKeyRounded';\r\n\r\n\r\nfunction UserAccountDetailsPresenter({values, continueRegistration, goBackRegistration, progressBar}) {\r\n    return (\r\n        <div className=\"form-container-flex\">\r\n            <div className=\"form-explanation-container\">\r\n                <Typography variant=\"h2\">\r\n                    Enter account details\r\n                </Typography>\r\n            </div>\r\n            \r\n            {\r\n                progressBar && \r\n                <div>\r\n                    <CircularProgress  style={{width: 60, height: 60, marginRight: '2em'}}/>\r\n                </div>\r\n            }\r\n            \r\n            <div className=\"form-inputs-container\">\r\n                <div className=\"login-form-inputs\">\r\n                    <Avatar style={{backgroundColor: '#3f51b5'}}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    \r\n                    <Typography component=\"h1\" variant=\"h5\" >Sign up</Typography>\r\n                    <br/>\r\n                    <br/>\r\n                    <Grid container spacing={2}>\r\n                \r\n                        {/* Email input */}\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                autoFocus\r\n                                fullWidth\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <AlternateEmailRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                label=\"Email\"\r\n                                type=\"email\"\r\n                                error={values.emailErr ? true : false}\r\n                                helperText={values.emailErr}\r\n                                value={values.userEmail}\r\n                                onChange={(e) => values.setUserEmail(e.target.value)}\r\n                            />\r\n                        </Grid>   \r\n\r\n                        {/* Password input */}\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <VpnKeyRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                type=\"password\"\r\n                                label=\"Password\"\r\n                                error={values.passwordErr ? true : false}\r\n                                helperText={values.passwordErr}\r\n                                value={values.userPassword}\r\n                                onChange={(e) => values.setUserPassword(e.target.value)}\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* Confirm password input */}\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <VpnKeyRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                type=\"password\"\r\n                                label=\"Confirm password\"\r\n                                error={values.confirmPasswordErr ? true : false}\r\n                                helperText={values.confirmPasswordErr}\r\n                                value={values.passwordConfirm}\r\n                                onChange={(e) => values.setPasswordConfirm(e.target.value)}\r\n                            />\r\n                        </Grid>            \r\n\r\n                    </Grid>\r\n                    <br/>\r\n                    <br/>\r\n                    <br/>\r\n                    <br/>\r\n                    <div className=\"login-form-submit\">\r\n                    <Grid container spacing={2}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    onClick={e => goBackRegistration(e)}\r\n                                >\r\n                                    Back\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    color=\"primary\"\r\n                                    onClick={e => continueRegistration(e)}\r\n                                >\r\n                                    Continue\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserAccountDetailsPresenter\r\n","import React, { useState } from 'react';\r\nimport UserAccountDetailsPresenter from \"./UserAccountDetailsPresenter\";\r\nimport { emailPattern } from \"../../../../helpers/validators\";\r\nimport { checkUniqueUserEmail } from \"../../../../helpers/queryManager\";\r\n\r\nfunction UserAccountDetailsContainer({values, nextStep, prevStep}) {\r\n\r\n    const [progressBar, setProgressBar] = useState(false);\r\n\r\n    const continueRegistration = async (e) => {\r\n        e.preventDefault();\r\n        if(await validateInputs()) {\r\n            // Set progress bar invisible here\r\n            nextStep();\r\n        }\r\n    }\r\n\r\n    const goBackRegistration = (e) => {\r\n        e.preventDefault();\r\n        prevStep();\r\n    }\r\n\r\n    const emailHasUpperCase = (email) => {\r\n        let hasUpperCase = false;\r\n\r\n        for(let i = 0; i < email.length; i++) {\r\n            const letter = email[i];\r\n\r\n            if(/^[A-Z]*$/.test(letter)) {\r\n                hasUpperCase = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return hasUpperCase;\r\n    }\r\n\r\n    const validateInputs = async () => {\r\n        // TODO: SET PROGRESS BAR VISIBLE HERE\r\n        setProgressBar(true);\r\n\r\n        // Clear previous errors\r\n        values.setEmailErr(\"\");\r\n        values.setPasswordErr(\"\");\r\n        values.setConfirmPasswordErr(\"\");\r\n\r\n        let emailError = \"\";\r\n        let passwordError = \"\";\r\n        let cPasswordError = \"\";\r\n\r\n        // Passwords mismatch\r\n        if(values.userPassword !== values.passwordConfirm)\r\n            cPasswordError = \"Passwords don't match!\";\r\n        \r\n        // Empty fields\r\n        if(values.userEmail.trim() === \"\") emailError = \"Enter an email!\";\r\n        if(values.userPassword.trim() === \"\") passwordError = \"Enter a password!\";\r\n        if(values.passwordConfirm.trim() === \"\") cPasswordError = \"Confirm your password!\";\r\n        \r\n        // Valid email format\r\n        if(!emailPattern.test(values.userEmail)) emailError = \"Email invalid format!\";\r\n\r\n        // No uppercase letters in email\r\n        if(emailHasUpperCase(values.userEmail)) emailError = \"No uppercase letters in email!\";\r\n\r\n        // Password length\r\n        if(values.userPassword.length < 6)\r\n            passwordError = \"Password must be at least 6 characters!\";\r\n\r\n        if(emailError.length || passwordError.length || cPasswordError.length) {\r\n            values.setEmailErr(emailError);\r\n            values.setPasswordErr(passwordError);\r\n            values.setConfirmPasswordErr(cPasswordError);\r\n            setProgressBar(false);\r\n            return false;\r\n        }\r\n\r\n        const uniqueEmail = await checkUniqueUserEmail(values.userEmail);\r\n        if(!uniqueEmail) {\r\n            values.setEmailErr(\"Email is already in use!\");\r\n            setProgressBar(false);\r\n            return false;\r\n        }\r\n        \r\n        // If the code reaches this point, there are no errors\r\n        setProgressBar(false);\r\n        return true;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <UserAccountDetailsPresenter \r\n                values={values}\r\n                continueRegistration={continueRegistration}\r\n                goBackRegistration={goBackRegistration}\r\n                progressBar={progressBar}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserAccountDetailsContainer;\r\n","import { useState } from 'react';\r\n\r\nconst useAccountDetails = () => {\r\n    // User Account Details\r\n    const [userEmail, setUserEmail] = useState(\"\");\r\n    const [userPassword, setUserPassword] = useState(\"\");\r\n    const [passwordConfirm, setPasswordConfirm] = useState(\"\");\r\n\r\n    const [emailErr, setEmailErr] = useState(\"\");\r\n    const [passwordErr, setPasswordErr] = useState(\"\");\r\n    const [confirmPasswordErr, setConfirmPasswordErr] = useState(\"\");\r\n\r\n    const accountDetailsValues = {\r\n        userEmail,\r\n        setUserEmail,\r\n        setEmailErr,\r\n\r\n        userPassword,\r\n        setUserPassword,\r\n        setPasswordErr,\r\n\r\n        passwordConfirm,\r\n        setPasswordConfirm,\r\n        setConfirmPasswordErr,\r\n\r\n        emailErr,\r\n        passwordErr,\r\n        confirmPasswordErr\r\n    }\r\n\r\n    const accountDetailsParams = {\r\n        \"Email\": userEmail\r\n    }\r\n\r\n    return [accountDetailsValues, accountDetailsParams];\r\n}\r\n\r\nexport default useAccountDetails;","import { useState, useEffect } from \"react\";\r\nimport { storage } from \"../firebase/config\";\r\n\r\nconst useStorageUpload = (file) => {\r\n    const [progress, setProgress] = useState(0);\r\n    const [err, setErr] = useState(\"\");\r\n    const [url, setUrl] = useState(null);\r\n\r\n    useEffect(() => {\r\n\r\n        if(!file) return;\r\n        \r\n        // TODO: Set structured filename\r\n        // TODO: Return that filename, add it to database for profileUpdate\r\n        const storageRef = storage.ref(file.name);\r\n        // const collectionRef = storage.ref(\"images\");\r\n\r\n        storageRef.put(file)\r\n        .on(\"state_changed\", (snapshot) => {\r\n            const percentage = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            setProgress(percentage);\r\n        },\r\n        (err) => {\r\n            setErr(err);\r\n        },\r\n        async () => {\r\n            const url = await storageRef.getDownloadURL();\r\n            setUrl(url);\r\n        }\r\n        );\r\n    }, [file]);\r\n\r\n    return {progress, err, url}\r\n\r\n}\r\n\r\nconst storageRemove = (url) => {\r\n    const pictureRef = storage.refFromURL(url);\r\n    pictureRef.delete()\r\n    .then(() => {\r\n        // console.log(\"Picture deleted successfully!\");\r\n    })\r\n}\r\n\r\nexport { useStorageUpload, storageRemove };","import React, { useEffect } from 'react'\r\nimport \"../style/upload_style/style.css\";\r\nimport { useStorageUpload } from '../../../customHooks/useStorage';\r\nimport { motion } from \"framer-motion\";\r\n\r\nfunction ProgressBar({file, setFile, setImageSource}) {\r\n    const {progress, url, err} = useStorageUpload(file);\r\n\r\n    useEffect(() => {\r\n        setImageSource(\"\");\r\n        if(url) {\r\n            setImageSource(url);\r\n            setFile(null);\r\n        }\r\n        if(err) {\r\n            console.log(err);\r\n        }\r\n    }, [url, err, setFile, setImageSource])\r\n\r\n\r\n    return (\r\n        \r\n            <div className=\"progress-wrapper\">\r\n            <motion.div className=\"progress-bar\"\r\n            initial={{ width: 0 }}\r\n            animate={{ width: progress + '%' }}\r\n            >\r\n            </motion.div>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default ProgressBar;\r\n","import \"../../style/upload_style/style.css\";\r\nimport \"../../style/style.css\";\r\nimport React from 'react'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport { Typography, Button, Avatar, Grid } from '@material-ui/core';\r\nimport ProgressBar from \"../../ProgressBar/ProgressBar\";\r\n\r\n\r\nfunction UserProfilePicturePresenter\r\n({values, continueRegistration, goBackRegistration, uploadFile}) {\r\n\r\n    return (\r\n        <div className=\"form-container-flex\">\r\n            <div className=\"form-explanation-container\" >\r\n                <Typography variant=\"h2\">\r\n                    Upload a profile picture\r\n                </Typography>\r\n            </div>\r\n            <div className=\"form-inputs-container\">\r\n                <div className=\"login-form-inputs\">\r\n                    <Avatar style={{backgroundColor: '#3f51b5'}}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    \r\n                    <Typography component=\"h1\" variant=\"h5\" >Sign up</Typography>\r\n                    <br/>\r\n                    <div id=\"upload-pic-text\">\r\n                        <Typography variant=\"h6\" style={{fontWeight: 300}}>Select your profile picture (optional)</Typography>\r\n                    </div>\r\n\r\n                    <div className=\"upload-container-img\">\r\n                        <div className=\"profile-pic-container\">\r\n\r\n                            {\r\n                                values.imageSource \r\n                                && \r\n                                <img alt=\"profile\" src={values.imageSource}>\r\n                                </img>\r\n                            }\r\n\r\n                            <ProgressBar\r\n                                file={values.file}\r\n                                setFile={values.setFile}\r\n                                setImageSource={values.setImageSource}\r\n                            />\r\n\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"upload-container\">\r\n                        <label id=\"upload_label\">\r\n                            <input type=\"file\" onChange={uploadFile}/>\r\n                            <span>+</span>\r\n                        </label>\r\n                    </div>\r\n\r\n                        {\r\n                            values.fileErr \r\n                            ?   <Typography variant=\"body1\" color=\"error\">\r\n                                    {values.fileErr}\r\n                                </Typography>\r\n                            :   null\r\n                        }\r\n\r\n                    <div className=\"login-form-submit\">\r\n                    <Grid container spacing={2}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    onClick={e => goBackRegistration(e)}\r\n                                >\r\n                                    Back\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    color=\"primary\"\r\n                                    onClick={e => continueRegistration(e)}\r\n                                >\r\n                                    {values.imageSource ? \"Continue\" : \"Skip\"}\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserProfilePicturePresenter\r\n","import React from 'react';\r\nimport UserProfilePicturePresenter from \"./UserProfilePicturePresenter\";\r\nimport { storageRemove } from \"../../../../customHooks/useStorage\";\r\n\r\nconst validImageTypes = [\"image/png\", \"image/jpg\", \"image/jpeg\"];\r\n\r\nfunction UserProfilePictureContainer({values, nextStep, prevStep}) {\r\n\r\n  let fileError = false;\r\n\r\n  const uploadFile = (e) => {\r\n      values.setFileErr(\"\");\r\n      fileError = false;\r\n\r\n      if(values.imageSource) {\r\n        storageRemove(values.imageSource);\r\n      }\r\n\r\n      const selectedFile = e.target.files[0];\r\n\r\n      if (selectedFile) {\r\n          if (validImageTypes.includes(selectedFile.type)) {\r\n              values.setFile(selectedFile);\r\n              values.setFileErr(\"\");\r\n              fileError = false;\r\n        }\r\n        else {\r\n              values.setFileErr(\"Select a valid file (png, jpg or jpeg)\");\r\n              fileError = true;\r\n          }\r\n      }\r\n\r\n      else {\r\n        values.setFile(null);\r\n        fileError = true;\r\n      }\r\n    };\r\n\r\n  const continueRegistration = (e) => {\r\n      e.preventDefault();\r\n      if(!fileError) {\r\n          nextStep();\r\n      }\r\n  }\r\n\r\n    const goBackRegistration = (e) => {\r\n      prevStep();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <UserProfilePicturePresenter\r\n                values={values}\r\n                uploadFile={uploadFile}\r\n                continueRegistration={continueRegistration}\r\n                goBackRegistration={goBackRegistration}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserProfilePictureContainer\r\n","import { useState } from \"react\";\r\n\r\nconst useProfilePicture = () => {\r\n    // User Profile Picture Details\r\n    const [file, setFile] = useState(null);\r\n    const [fileErr, setFileErr] = useState(\"\");\r\n    const [imageSource, setImageSource] = useState(\"\");\r\n\r\n    const profilePictureDetails = {\r\n        file,\r\n        setFile,\r\n        imageSource,\r\n\r\n        fileErr,\r\n        setFileErr,\r\n        setImageSource\r\n    }\r\n\r\n    return [profilePictureDetails];\r\n}\r\n\r\nexport default useProfilePicture;","import { firestore, firebase } from \"../firebase/config\";\r\nimport { TABLE_NAMES } from \"../firebase/tables\";\r\nimport { USERS_TABLE_COLUMNS } from \"../firebase/tables\";\r\nimport { COMPANY_TABLE_COLUMNS } from \"../firebase/tables\";\r\nimport { USER_POSTS_TABLE_COLUMNS, USER_SUBSCRIBE_TABLE_COLUMNS } from \"../firebase/tables\";\r\nimport { POSTS_TABLE_COLUMNS } from \"../firebase/tables\";\r\n\r\n\r\nconst addUser = async (user) => {\r\n    const usersRef = firestore.collection(TABLE_NAMES.USERS_TABLE);\r\n    const userPostsRef = firestore.collection(TABLE_NAMES.USER_POSTS_TABLE);\r\n    const userSubscribeRef = firestore.collection(TABLE_NAMES.USER_SUBSCRIBE_TABLE);\r\n\r\n    // Add user to \"users\" collection\r\n    await usersRef.doc(user.id)\r\n    .set({\r\n        [USERS_TABLE_COLUMNS.UID]: user.id,\r\n        [USERS_TABLE_COLUMNS.EMAIL]: user.email,\r\n        [USERS_TABLE_COLUMNS.FIRST_NAME]: user.firstName,\r\n        [USERS_TABLE_COLUMNS.LAST_NAME]: user.lastName,\r\n        [USERS_TABLE_COLUMNS.GENDER]: user.gender,\r\n        [USERS_TABLE_COLUMNS.DATE_OF_BIRTH]: user.dateOfBirth,\r\n        [USERS_TABLE_COLUMNS.PROFILE_URL]: user.profileUrl\r\n    });\r\n\r\n    // Add user info to \"user_posts\" collection\r\n    await userPostsRef.doc(user.id)\r\n    .set({\r\n        [USER_POSTS_TABLE_COLUMNS.READ_POSTS]: [],\r\n        [USER_POSTS_TABLE_COLUMNS.STARRED_POSTS]: []\r\n    });\r\n\r\n    // Add user info to \"user_subscribe\" collection\r\n    return userSubscribeRef.doc(user.id)\r\n    .set({\r\n        [USER_SUBSCRIBE_TABLE_COLUMNS.SUBSCRIBTIONS]: []\r\n    });\r\n}\r\n\r\nconst addCompany = (company) => {\r\n    const companiesRef = firestore.collection(TABLE_NAMES.COMPANIES_TABLE);\r\n\r\n    return companiesRef.doc(company.id)\r\n    .set({\r\n        [COMPANY_TABLE_COLUMNS.COMPANY_ID]: company.id,\r\n        [COMPANY_TABLE_COLUMNS.EMAIL]: company.email,\r\n        [COMPANY_TABLE_COLUMNS.COMPANY_NAME]: company.companyName,\r\n        [COMPANY_TABLE_COLUMNS.DATE_OF_CREATION]: company.dateOfCreation,\r\n        [COMPANY_TABLE_COLUMNS.CEO_FIRST_NAME]: company.ceoFirstName,\r\n        [COMPANY_TABLE_COLUMNS.CEO_LAST_NAME]: company.ceoLastName,\r\n        [COMPANY_TABLE_COLUMNS.HEADQUARTERS_CITY]: company.cityHeadquarters,\r\n        [COMPANY_TABLE_COLUMNS.SERVICE_TYPE]: company.serviceType,\r\n        [COMPANY_TABLE_COLUMNS.BRANCHES]: company.branches,\r\n        [COMPANY_TABLE_COLUMNS.PROFILE_URL]: company.profileUrl,\r\n        [COMPANY_TABLE_COLUMNS.PHONE_NUMBER]: company.phoneNumber,\r\n        [COMPANY_TABLE_COLUMNS.WEBSITE]: company.website\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n    })\r\n\r\n}\r\n\r\nconst subscribeToCompany = (user, company) => {\r\n    const userSubscribtionsRef = firestore.collection(TABLE_NAMES.USER_SUBSCRIBE_TABLE);\r\n\r\n    const newSubscribtion = {\r\n        type: company[COMPANY_TABLE_COLUMNS.SERVICE_TYPE],\r\n        id: company[COMPANY_TABLE_COLUMNS.COMPANY_ID]\r\n    };\r\n\r\n    return userSubscribtionsRef.doc(user.id).update({\r\n        [USER_SUBSCRIBE_TABLE_COLUMNS.SUBSCRIBTIONS]: \r\n            firebase.firestore.FieldValue.arrayUnion(newSubscribtion)\r\n    });\r\n}\r\n\r\nconst addPost = (post) => {\r\n    const postsRef = firestore.collection(TABLE_NAMES.POSTS_TABLE);\r\n    const postTimestamp = new Date();\r\n\r\n    return postsRef.doc(post.id)\r\n    .set({\r\n        [POSTS_TABLE_COLUMNS.POST_ID]: post.id,\r\n        [POSTS_TABLE_COLUMNS.CREATOR_ID]: post.creatorId,\r\n        [POSTS_TABLE_COLUMNS.CREATOR_NAME]: post.creatorName,\r\n        [POSTS_TABLE_COLUMNS.CREATOR_PROFILE_URL]: post.creatorProfileUrl,\r\n        [POSTS_TABLE_COLUMNS.POST_TYPE]: post.type,\r\n        [POSTS_TABLE_COLUMNS.POST_TITLE]: post.title,\r\n        [POSTS_TABLE_COLUMNS.POST_CONTENT]: post.content,\r\n        [POSTS_TABLE_COLUMNS.CITIES_POST_APPLIES_TO]: post.citiesPostApplies,\r\n        [POSTS_TABLE_COLUMNS.TIMESTAMP]: postTimestamp\r\n    });\r\n}\r\n\r\nconst readPost = (userId, postId) => {\r\n    const userPostsRef = firestore.collection(TABLE_NAMES.USER_POSTS_TABLE);\r\n    \r\n    return userPostsRef.doc(userId)\r\n    .update({\r\n        [USER_POSTS_TABLE_COLUMNS.READ_POSTS]: \r\n            firebase.firestore.FieldValue.arrayUnion(postId)\r\n    });\r\n}\r\n\r\nconst starPost = (userId, postId) => {\r\n    const userPostsRef = firestore.collection(TABLE_NAMES.USER_POSTS_TABLE);\r\n    \r\n    return userPostsRef.doc(userId)\r\n    .update({\r\n        [USER_POSTS_TABLE_COLUMNS.STARRED_POSTS]: \r\n            firebase.firestore.FieldValue.arrayUnion(postId)\r\n    });\r\n\r\n}\r\n\r\nexport { addUser, addCompany, subscribeToCompany, addPost, readPost, starPost };","import React from 'react'\r\n\r\nimport { List, ListItem, Typography, Grid, Button } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        display: 'grid',\r\n        justifyContent: 'center'\r\n    },\r\n})\r\n\r\nfunction ConfirmDetailsPresenter({keys, detailValues,prevStep, registerAccount}) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className=\"confirm-list-container\">\r\n        <Typography variant=\"h3\" className=\"confirm-details-title\">Confirm Details</Typography>\r\n        <List >\r\n            {\r\n                keys.map((key, index) => {\r\n                    return (\r\n                            <div key={key}>\r\n                                <ListItem className={classes.root}>\r\n                                    <h3 className=\"detail-title\">\r\n                                        {key}\r\n                                    </h3>\r\n                                </ListItem>\r\n                                <ListItem className={classes.root}>\r\n                                    <p className=\"detail-value\">\r\n                                        {detailValues[index]}\r\n                                    </p>\r\n                                </ListItem>\r\n                                <hr/>\r\n                                <br/>\r\n                                <br/>\r\n                            </div>\r\n                    );\r\n                }) \r\n            }\r\n        \r\n            <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n                <Button\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    onClick={prevStep}\r\n                >\r\n                    Back\r\n                </Button>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    fullWidth\r\n                    color=\"primary\"\r\n                    onClick={registerAccount}\r\n                >\r\n                    Register\r\n                </Button>\r\n            </Grid>\r\n        </Grid>\r\n    </List>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default ConfirmDetailsPresenter\r\n","import \"./style/style.css\";\r\nimport React from 'react'\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { register } from \"../../../helpers/currentUserManager\";\r\nimport { addUser, addCompany } from \"../../../helpers/databaseAdd\";\r\n\r\nimport ConfirmDetailsPresenter from \"./ConfirmDetailsPresenter\";\r\n\r\n\r\nfunction ConfirmDetailsContainer(props) {\r\n\r\n    const {parameters, prevStep, values, accountType} = props;\r\n\r\n    const keys = Object.keys(parameters);\r\n    const detailValues = Object.values(parameters);\r\n\r\n    const registerAccount = async () => {\r\n        let accountData = getAccountData();\r\n\r\n        const {email, password, displayName} = accountData;\r\n        let {profileUrl} = accountData;\r\n\r\n        // Register account\r\n\r\n        // Check if profile picture exists\r\n        if(!profileUrl) {\r\n            profileUrl = null;\r\n        }\r\n\r\n        // Create the account\r\n        const user = await register(email, password);\r\n\r\n        // Set display name and profile picture URL\r\n        user.updateProfile({\r\n            displayName,\r\n            photoURL: profileUrl\r\n        });\r\n\r\n        // Connecting the auth uid and database uid\r\n        accountData.id = user.uid;\r\n\r\n        // Insert the account into the database\r\n        const redirectPage = `${accountType}-page`;\r\n        insertAccountToDatabase(accountData, redirectPage);\r\n\r\n    }\r\n\r\n    const insertAccountToDatabase = (accountData, redirectPage) => {\r\n            if(accountType === \"user\") {\r\n                // Insert user into database\r\n                const userAddedPromise = addUser(accountData);\r\n                userAddedPromise.then(() => {\r\n                    props.history.push(`/${redirectPage}`);\r\n                })\r\n            }\r\n            else if(accountType === \"company\") {\r\n\r\n                // Insert company into database\r\n                const companyAddedPromise = addCompany(accountData);\r\n                companyAddedPromise.then(() => {\r\n                    props.history.push(`/${redirectPage}`);\r\n                });\r\n            }\r\n    }\r\n\r\n    const getAccountData = () => {\r\n        let accountData = null;\r\n\r\n        if(accountType === \"user\") {\r\n            accountData = extractUserData();\r\n        }\r\n        else if(accountType === \"company\") {\r\n            accountData = extractCompanyData();\r\n        }\r\n\r\n        return accountData;\r\n    }\r\n\r\n    const extractUserData = () => {\r\n        return {\r\n            id: null,\r\n            email: values.userEmail,\r\n            password: values.userPassword,\r\n            displayName: values.firstName,\r\n            profileUrl: values.imageSource,\r\n\r\n            firstName: values.firstName,\r\n            lastName: values.lastName,\r\n            gender: values.gender,\r\n            dateOfBirth: values.dateOfBirth\r\n        }\r\n    }\r\n\r\n    const extractCompanyData = () => {\r\n        return {\r\n            id: null,\r\n            email: values.companyEmail,\r\n            password: values.companyPassword,\r\n            displayName: values.companyName,\r\n            profileUrl: values.imageSource,\r\n\r\n            companyName: values.companyName,\r\n            dateOfCreation: values.companyStartDate,\r\n            ceoFirstName: values.companyFounderFirstName,\r\n            ceoLastName: values.companyFounderLastName,\r\n            cityHeadquarters: values.headCity,\r\n            serviceType: values.serviceType,\r\n            branches: values.branches,\r\n            \r\n            phoneNumber: values.phoneNumber.trim() !== \"+389\" ? values.phoneNumber : \"Not Provided\",\r\n            website: values.companyWebsite.trim().length ? values.companyWebsite : \"Not Provided\"\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <ConfirmDetailsPresenter \r\n            keys={keys}\r\n            detailValues={detailValues}\r\n            prevStep={prevStep}\r\n            registerAccount={registerAccount}\r\n        />\r\n    )\r\n}\r\n\r\nexport default withRouter(ConfirmDetailsContainer)\r\n","import React, { useState } from 'react'\r\n\r\nimport UserGeneralDetailsContainer from \"./UserGeneralDetails/UserGeneralDetailsContainer\";\r\nimport useGeneralDetails from \"./UserGeneralDetails/useGeneralDetailsValues\";\r\n\r\nimport UserAccountDetailsContainer from \"./UserAccountDetails/UserAccountDetailsContainer\";\r\nimport useAccountDetails from \"./UserAccountDetails/useAccountDetails\";\r\n\r\nimport UserProfilePictureContainer from \"./UserProfilePicture/UserProfilePictureContainer\";\r\nimport useProfilePicture from \"./UserProfilePicture/useProfilePicture\";\r\n\r\nimport ConfirmDetailsContainer from \"../ConfirmDetails/ConfirmDetailsContainer\";\r\n\r\nfunction UserFormContainer() {\r\n    const [step, setStep] = useState(1);\r\n\r\n    const [userGeneralDetailsValues, userGeneralDetailsParams] = useGeneralDetails();\r\n    const [userAccountDetailsValues, userAccountDetailsParams] = useAccountDetails();\r\n    const [userProfilePictureValues] = useProfilePicture();\r\n\r\n    // All Details\r\n    const allDetails = {\r\n        ...userGeneralDetailsParams,\r\n        ...userAccountDetailsParams\r\n    }\r\n\r\n    // All values\r\n    const allValues = {\r\n        ...userGeneralDetailsValues,\r\n        ...userAccountDetailsValues,\r\n        ...userProfilePictureValues\r\n    }\r\n\r\n    const nextStep = () => {\r\n        setStep(step + 1);\r\n    }\r\n\r\n    const prevStep = () => {\r\n        setStep(step - 1);\r\n    }\r\n\r\n    const setCurrentComponent = () => {\r\n        switch(step) {\r\n            case 1:\r\n                return (\r\n                    // GeneralUserDetails\r\n                    <UserGeneralDetailsContainer\r\n                        nextStep={nextStep}\r\n                        values={userGeneralDetailsValues}\r\n                    />\r\n                )\r\n            case 2:\r\n                return (\r\n                    // AccountUserDetails\r\n                    <UserAccountDetailsContainer\r\n                        nextStep={nextStep}\r\n                        prevStep={prevStep}\r\n                        values={userAccountDetailsValues}\r\n                    />\r\n                )\r\n            case 3:\r\n                return (\r\n                    // ProfilePicture\r\n                    <UserProfilePictureContainer\r\n                        nextStep={nextStep}\r\n                        prevStep={prevStep}\r\n                        values={userProfilePictureValues}\r\n                    />\r\n                )\r\n            case 4:\r\n                return (\r\n                    // ConfirmInput\r\n                    <ConfirmDetailsContainer\r\n                        parameters={allDetails}\r\n                        prevStep={prevStep}\r\n                        values={allValues}\r\n                        accountType={\"user\"}\r\n                    />\r\n                )\r\n            default:\r\n                return alert(\"Invalid step!\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {setCurrentComponent()}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserFormContainer\r\n","import React from 'react';\r\nimport \"../../style/style.css\";\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { Link } from \"react-router-dom\";\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { Typography, TextField, Button, Avatar, Grid } from '@material-ui/core';\r\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport BusinessCenterRoundedIcon from '@material-ui/icons/BusinessCenterRounded';\r\nimport AssignmentIndRoundedIcon from '@material-ui/icons/AssignmentIndRounded';\r\n\r\n\r\n\r\nfunction CompanyGeneralDetailsPresenter({values, continueRegistration}) {\r\n    return (\r\n        <div className=\"form-container-flex\">\r\n            <div className=\"form-explanation-container\">\r\n                <Typography variant=\"h2\">\r\n                    Enter company details\r\n                </Typography>\r\n            </div>\r\n            <div className=\"form-inputs-container\">\r\n                <div className=\"login-form-inputs\">\r\n                    <Avatar style={{backgroundColor: '#3f51b5'}}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    \r\n                    <Typography component=\"h1\" variant=\"h5\" >Sign up</Typography>\r\n                    <br/>\r\n\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                margin=\"dense\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                autoFocus\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <BusinessCenterRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                label=\"Company Name\"\r\n                                type=\"text\"\r\n                                error={values.companyNameErr ? true : false}\r\n                                helperText={values.companyNameErr}\r\n                                value={values.companyName}\r\n                                onChange={(e) => values.setCompanyName(e.target.value)}\r\n                            />\r\n                        </Grid>  \r\n\r\n                        <Grid item xs={12}>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                <KeyboardDatePicker\r\n                                    fullWidth\r\n                                    variant=\"dialog\"\r\n                                    format=\"dd/MM/yyyy\"\r\n                                    margin=\"normal\"\r\n                                    label=\"Date of Incorporation\"\r\n                                    maxDate={new Date()}\r\n                                    value={values.companyStartDate}\r\n                                    onChange={date => values.setCompanyStartDate(date)}\r\n                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </Grid>\r\n\r\n                        {/* <Grid item xs=\"false\" sm={6}/> */}\r\n\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                label=\"CEO First Name\"\r\n                                type=\"text\"\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <AssignmentIndRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                error={\r\n                                    values.companyFounderFirstNameErr \r\n                                    ? true : false\r\n                                }\r\n                                helperText={\r\n                                    values.companyFounderFirstNameErr\r\n                                }\r\n                                value={values.companyFounderFirstName}\r\n                                onChange={(e) =>\r\n                                    values.setCompanyFounderFirstName(e.target.value)}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                label=\"CEO Last Name\"\r\n                                type=\"text\"\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <AssignmentIndRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                error={\r\n                                    values.companyFounderLastNameErr \r\n                                    ? true : false\r\n                                }\r\n                                helperText={\r\n                                    values.companyFounderLastNameErr\r\n                                }\r\n                                value={values.companyFounderLastName}\r\n                                onChange={(e) =>\r\n                                    values.setCompanyFounderLastName(e.target.value)}\r\n                            />\r\n                        </Grid>              \r\n\r\n                    </Grid>\r\n                    <br/>\r\n                    <br/>\r\n                    <div className=\"login-form-submit\">\r\n                    <Grid container spacing={2} justify=\"center\">\r\n                        <Grid item xs={12} sm={6}>\r\n                            <Link to={'/'}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    color=\"default\">\r\n                                    Back\r\n                                </Button>\r\n                            </Link>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                fullWidth\r\n                                color=\"primary\"\r\n                                onClick={e => continueRegistration(e)}>\r\n                                Continue\r\n                            </Button>\r\n                        </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyGeneralDetailsPresenter\r\n","import React from 'react'\r\nimport CompanyGeneralDetailsPresenter from './CompanyGeneralDetailsPresenter'\r\n\r\nfunction CompanyGeneralDetailsContainer({values, nextStep}) {\r\n    \r\n    const validateInputs = () => {\r\n        // Clear previous errors\r\n        values.setCompanyNameErr(\"\");\r\n        values.setCompanyFounderFirstNameErr(\"\");\r\n        values.setCompanyFounderLastNameErr(\"\");\r\n\r\n        let compNameError = \"\";\r\n        let compFounderFirstNameError = \"\";\r\n        let compFounderLastNameError = \"\";\r\n\r\n        // Check date validity\r\n        if(isNaN(values.companyStartDate.getTime()))  return false;\r\n\r\n        // Empty Fields\r\n        if(values.companyName.trim() === \"\") compNameError = \"Enter company's name!\";\r\n        if(values.companyFounderFirstName.trim() === \"\")\r\n            compFounderFirstNameError = \"Enter CEO's first name!\";\r\n        if(values.companyFounderLastName.trim() === \"\")\r\n            compFounderLastNameError = \"Enter CEO's last name!\";\r\n\r\n\r\n        if(compNameError.length || compFounderFirstNameError.length ||\r\n            compFounderLastNameError.length) {\r\n                values.setCompanyNameErr(compNameError);\r\n                values.setCompanyFounderFirstNameErr(compFounderFirstNameError);\r\n                values.setCompanyFounderLastNameErr(compFounderLastNameError);\r\n                return false;\r\n            }\r\n\r\n        return true;\r\n    }\r\n\r\n    const continueRegistration = (e) => {\r\n        e.preventDefault();\r\n        if(validateInputs()) {\r\n            nextStep();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <CompanyGeneralDetailsPresenter \r\n                values={values}\r\n                continueRegistration={continueRegistration}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CompanyGeneralDetailsContainer\r\n","import { useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport { dateFormat } from \"../../../../helpers/validators\";\r\n\r\nconst useCompanyGeneralDetails = () => {\r\n    // Company General Details\r\n    const [companyName, setCompanyName] = useState(\"\");\r\n    const [companyStartDate, setCompanyStartDate] = useState(new Date());\r\n    const [companyFounderFirstName, setCompanyFounderFirstName] = useState(\"\");\r\n    const [companyFounderLastName, setCompanyFounderLastName] = useState(\"\");\r\n\r\n    const [companyNameErr, setCompanyNameErr] = useState(\"\");\r\n    const [companyFounderFirstNameErr, setCompanyFounderFirstNameErr] = useState(\"\");\r\n    const [companyFounderLastNameErr, setCompanyFounderLastNameErr] = useState(\"\");\r\n\r\n\r\n    const generalDetailsValues = {\r\n        companyName,\r\n        setCompanyName,\r\n        companyNameErr,\r\n        setCompanyNameErr,\r\n\r\n        companyStartDate,\r\n        setCompanyStartDate,\r\n\r\n        companyFounderFirstName,\r\n        setCompanyFounderFirstName,\r\n        companyFounderFirstNameErr,\r\n        setCompanyFounderFirstNameErr,\r\n\r\n        companyFounderLastName,\r\n        setCompanyFounderLastName,\r\n        companyFounderLastNameErr,\r\n        setCompanyFounderLastNameErr,\r\n    }\r\n\r\n    const generalDetailsParams = {\r\n        \"Company Name\": companyName,\r\n        \"Date of Incorporation\":\r\n            companyStartDate ? \r\n            moment(companyStartDate).format(dateFormat)\r\n            : \"\",\r\n        \"Founder Name\": `${companyFounderFirstName} ${companyFounderLastName}`,\r\n    }\r\n\r\n    return [generalDetailsValues, generalDetailsParams];\r\n}\r\n\r\nexport default useCompanyGeneralDetails;","import React from 'react'\r\nimport \"../../style/style.css\";\r\nimport ChipInput from 'material-ui-chip-input';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport { Typography, TextField, Button, Avatar, Grid, MenuItem, Select }\r\n from '@material-ui/core';\r\n import LocationCityRoundedIcon from '@material-ui/icons/LocationCityRounded';\r\n import CallRoundedIcon from '@material-ui/icons/CallRounded';\r\n\r\nfunction CompanyServiceDetailsPresenter\r\n({values, continueRegistration, goBackRegistration, typesOfServices,\r\n    handleBranchAdd, handleBranchRemove, handlePhoneNumberChange\r\n}) {\r\n    return (\r\n        <div className=\"form-container-flex\">\r\n            <div className=\"form-explanation-container\">\r\n                <Typography variant=\"h2\">\r\n                    Enter company service details\r\n                </Typography>\r\n            </div>\r\n            <div className=\"form-inputs-container\">\r\n                <div className=\"login-form-inputs\">\r\n                    <Avatar style={{backgroundColor: '#3f51b5'}}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    \r\n                    <Typography component=\"h1\" variant=\"h5\" >Sign up</Typography>\r\n                    <br/>\r\n                    <br/>\r\n                    <Grid container spacing={2} alignItems=\"center\" >\r\n                \r\n                        {/* Headquarters input */}\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                autoFocus\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <LocationCityRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                label=\"City Headquarters\"\r\n                                type=\"text\"\r\n                                error={values.headCityErr.length ? true : false}\r\n                                helperText={values.headCityErr}\r\n                                value={values.headCity}\r\n                                onChange={(e) => values.setHeadCity(e.target.value)}\r\n                            />\r\n                        </Grid>   \r\n\r\n                        {/* Type of service input */}\r\n                        <Grid item xs={12} sm={6}>\r\n                        <Select style={{color: '#f5f5f5', marginTop: '1.2em'}}\r\n                            margin=\"normal\"\r\n                            variant=\"standard\"\r\n                            fullWidth\r\n                            value={values.serviceType}\r\n                            onChange={(e) => values.setServiceType(e.target.value)}\r\n                        >\r\n                            {typesOfServices.map(service => {\r\n                                return (\r\n                                    <MenuItem key={service} value={service}>\r\n                                        {service}\r\n                                    </MenuItem>\r\n                                )\r\n                            })}\r\n                        </Select>\r\n                        </Grid>\r\n\r\n                        {/* Branches input */}\r\n                        <Grid item xs={12}>\r\n                            <>\r\n                            <ChipInput\r\n                                className=\"chip-input\"\r\n                                fullWidth\r\n                                aria-autocomplete={'none'}\r\n                                label=\"Branch cities\"\r\n                                allowDuplicates={false}\r\n                                value={values.branches}\r\n                                placeholder=\"Branch cities\"\r\n                                helperText=\"Press ENTER to add city\"\r\n                                onAdd={(city) => handleBranchAdd(city)}\r\n                                onDelete={\r\n                                    (city, index) => handleBranchRemove(city, index)\r\n                                }\r\n                            />\r\n                            </>\r\n                        </Grid>    \r\n\r\n                        {/* Telephone input */}\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    margin=\"normal\"\r\n                                    variant=\"standard\"\r\n                                    fullWidth\r\n                                    InputProps={{\r\n                                        startAdornment: (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <CallRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                        </InputAdornment>\r\n                                        ),\r\n                                    }}\r\n                                    label=\"Telephone (optional)\"\r\n                                    type=\"tel\"\r\n                                    error={values.phoneNumberErr.length ? true : false}\r\n                                    helperText={values.phoneNumberErr}\r\n                                    value={values.phoneNumber}\r\n                                    onChange={(e) => handlePhoneNumberChange(e.target.value)}\r\n                                />\r\n                            </Grid>              \r\n\r\n                    </Grid>\r\n                    <br/>\r\n                    <br/>\r\n                    <br/>\r\n                    <div className=\"login-form-submit\">\r\n                    <Grid container spacing={2}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    onClick={e => goBackRegistration(e)}\r\n                                >\r\n                                    Back\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    color=\"primary\"\r\n                                    onClick={e => continueRegistration(e)}\r\n                                >\r\n                                    Continue\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyServiceDetailsPresenter;","import React from 'react'\r\nimport CompanyServiceDetailsPresenter from \"./CompanyServiceDetailsPresenter\";\r\nimport { PhoneNumberUtil } from \"google-libphonenumber\"; \r\n\r\nconst typesOfServices = [\r\n    \"Electricity\",\r\n    \"Plumbing\",\r\n    \"ISP\"\r\n];\r\n\r\nconst phoneUtil = PhoneNumberUtil.getInstance();\r\n\r\nfunction CompanyServiceDetailsContainer({values, nextStep, prevStep}) {\r\n\r\n    const validateInputs = () => {\r\n        // Clear inputs\r\n        values.setHeadCityErr(\"\");\r\n        values.setPhoneNumberErr(\"\");\r\n\r\n        let cityError = \"\";\r\n        let numberError = \"\";\r\n\r\n        // Empty fields\r\n        if(values.headCity.trim() === \"\") cityError = \"Enter headquarters city!\";\r\n        // if(values.phoneNumber.trim() === \"+389\") numberError = \"Enter a phone number!\";\r\n\r\n        // City validation\r\n        const headCityCapitalized = \r\n            values.headCity.slice(0, 1).toUpperCase() + values.headCity.slice(1);\r\n        values.setHeadCity(headCityCapitalized);\r\n\r\n        // Add default city\r\n        if(!values.branches.includes(headCityCapitalized)) {\r\n            handleBranchAdd(headCityCapitalized);\r\n        }\r\n\r\n\r\n        // Phone number validation\r\n        if(values.phoneNumber.trim() !== \"+389\") {\r\n            // If a number is entered\r\n            const number = phoneUtil.parse(values.phoneNumber, 'MK');\r\n                if(!phoneUtil.isValidNumberForRegion(number, 'MK')) {\r\n                    numberError = \"Invalid number entered for MK region!\";\r\n                }\r\n        }\r\n        \r\n        if(cityError.length || numberError.length) {\r\n            values.setHeadCityErr(cityError);\r\n            values.setPhoneNumberErr(numberError);\r\n            return false;\r\n        }\r\n\r\n\r\n\r\n        return true;\r\n    }\r\n\r\n    const handlePhoneNumberChange = (number) => {\r\n        if(number.slice(0, 4) === \"+389\")\r\n            values.setPhoneNumber(number);\r\n    }\r\n\r\n    const continueRegistration = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(validateInputs()) {\r\n            nextStep();\r\n        }\r\n    }\r\n\r\n    const goBackRegistration = (e) => {\r\n        e.preventDefault();\r\n        prevStep();\r\n    }\r\n\r\n    const handleBranchAdd = (city) => {\r\n        const newBranchesList = [...values.branches];\r\n        \r\n        // Capitalize first letter of entry\r\n        const capitalizedCity = \r\n            city.slice(0, 1).toUpperCase() + city.slice(1);\r\n\r\n        // Check if already in array\r\n        if(!values.branches.includes(capitalizedCity) && capitalizedCity.trim() !== \"\") {\r\n            newBranchesList.push(capitalizedCity);\r\n            values.setBranches(newBranchesList);\r\n        }\r\n    }\r\n    \r\n    const handleBranchRemove = (city, index) => {\r\n        const newBranchesList = [...values.branches];\r\n        newBranchesList.splice(index, 1);\r\n        values.setBranches(newBranchesList);\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <CompanyServiceDetailsPresenter \r\n                values={values}\r\n                continueRegistration={continueRegistration}\r\n                goBackRegistration={goBackRegistration}\r\n                typesOfServices={typesOfServices}\r\n                handleBranchAdd={handleBranchAdd}\r\n                handleBranchRemove={handleBranchRemove}\r\n                handlePhoneNumberChange={handlePhoneNumberChange}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CompanyServiceDetailsContainer\r\n","import { useState } from \"react\";\r\n\r\nconst useCompanyServiceDetails = () => {\r\n    // Company Service Details\r\n    const [headCity, setHeadCity] = useState(\"\");\r\n    const [serviceType, setServiceType] = useState(\"Electricity\");\r\n    const [branches, setBranches] = useState([]);\r\n    const [phoneNumber, setPhoneNumber] = useState(\"+389\");\r\n\r\n    const [headCityErr, setHeadCityErr] = useState(\"\");\r\n    const [phoneNumberErr, setPhoneNumberErr] = useState(\"\");\r\n\r\n    const serviceDetailsValues = {\r\n        headCity,\r\n        setHeadCity,\r\n        headCityErr,\r\n        setHeadCityErr,\r\n\r\n        serviceType,\r\n        setServiceType,\r\n\r\n        branches,\r\n        setBranches,\r\n\r\n        phoneNumber,\r\n        setPhoneNumber,\r\n        phoneNumberErr,\r\n        setPhoneNumberErr\r\n    }\r\n\r\n    const serviceDetailsParams = {\r\n        \"Headquarters\": headCity,\r\n        \"Service Type\": serviceType,\r\n        \"Phone number\": phoneNumber.trim() !== \"+389\"  ? phoneNumber : \"Not provided\"\r\n    }\r\n\r\n    return [serviceDetailsValues, serviceDetailsParams];\r\n}\r\n\r\nexport default useCompanyServiceDetails;","import React from 'react';\r\nimport \"../../style/style.css\";\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { Typography, TextField, Button, Avatar, Grid, CircularProgress } from '@material-ui/core';\r\nimport EmailRoundedIcon from '@material-ui/icons/EmailRounded';\r\nimport VpnKeyRoundedIcon from '@material-ui/icons/VpnKeyRounded';\r\nimport LanguageRoundedIcon from '@material-ui/icons/LanguageRounded';\r\n\r\n\r\nfunction CompanyAccountDetailsPresenter({values, continueRegistration, goBackRegistration, progressBar}) {\r\n    return (\r\n        <div className=\"form-container-flex\">\r\n            <div className=\"form-explanation-container\">\r\n                <Typography variant=\"h2\">\r\n                    Enter company account details\r\n                </Typography>\r\n            </div>\r\n            \r\n            {\r\n                progressBar && \r\n                <div>\r\n                    <CircularProgress  style={{width: 60, height: 60, marginRight: '2em'}}/>\r\n                </div>\r\n            }\r\n            \r\n            <div className=\"form-inputs-container\">\r\n                <div className=\"login-form-inputs\">\r\n                    <Avatar style={{backgroundColor: '#3f51b5'}}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    \r\n                    <Typography component=\"h1\" variant=\"h5\" >Sign up</Typography>\r\n                    <br/>\r\n                    <Grid container spacing={2}>\r\n                \r\n                        {/* Email input */}\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                autoFocus\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <EmailRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                label=\"Company Email\"\r\n                                type=\"email\"\r\n                                error={values.companyEmailErr ? true : false}\r\n                                helperText={values.companyEmailErr}\r\n                                value={values.companyEmail}\r\n                                onChange={(e) => values.setCompanyEmail(e.target.value)}\r\n                            />\r\n                        </Grid>   \r\n\r\n                        {/* Password input */}\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <VpnKeyRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                label=\"Password\"\r\n                                type=\"password\"\r\n                                error={values.companyPasswordErr ? true : false}\r\n                                helperText={values.companyPasswordErr}\r\n                                value={values.companyPassword}\r\n                                onChange={(e) => values.setCompanyPassword(e.target.value)}\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* Confirm password input */}\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <VpnKeyRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                label=\"Confirm password\"\r\n                                type=\"password\"\r\n                                error={values.companyConfirmPasswordErr ? true : false}\r\n                                helperText={values.companyConfirmPasswordErr}\r\n                                value={values.companyConfirmPassword}\r\n                                onChange={(e) => values.setCompanyConfirmPassword(e.target.value)}\r\n                            />\r\n                        </Grid> \r\n\r\n                        {/* Website input */}\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                      <InputAdornment position=\"start\">\r\n                                        <LanguageRoundedIcon style={{color: 'whitesmoke'}} />\r\n                                      </InputAdornment>\r\n                                    ),\r\n                                  }}\r\n                                label=\"Company website (optional)\"\r\n                                type=\"url\"\r\n                                error={values.companyWebsiteErr ? true : false}\r\n                                helperText={values.companyWebsiteErr}\r\n                                value={values.companyWebsite}\r\n                                onChange={(e) => values.setCompanyWebsite(e.target.value)}\r\n                            />\r\n                        </Grid>                        \r\n\r\n                    </Grid>\r\n                    <br/>\r\n                    <br/>\r\n                    <br/>\r\n                    <div className=\"login-form-submit\">\r\n                    <Grid container spacing={2}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    onClick={e => goBackRegistration(e)}\r\n                                >\r\n                                    Back\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    color=\"primary\"\r\n                                    onClick={e => continueRegistration(e)}\r\n                                >\r\n                                    Continue\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyAccountDetailsPresenter\r\n","import React, { useState } from 'react'\r\nimport CompanyAccountDetailsPresenter from \"./CompanyAccountDetailsPresenter\";\r\nimport { emailPattern, websitePattern } from \"../../../../helpers/validators\";\r\nimport { checkUniqueCompanyEmail } from \"../../../../helpers/queryManager\";\r\n\r\nfunction CompanyAccountDetailsContainer({values, nextStep, prevStep}) {\r\n\r\n    const [progressBar, setProgressBar] = useState(false);\r\n\r\n    const emailHasUpperCase = (email) => {\r\n        let hasUpperCase = false;\r\n\r\n        for(let i = 0; i < email.length; i++) {\r\n            const letter = email[i];\r\n\r\n            if(/^[A-Z]*$/.test(letter)) {\r\n                hasUpperCase = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return hasUpperCase;\r\n    }\r\n\r\n    const validateInputs = async () => {\r\n        setProgressBar(true);\r\n\r\n        // Clear input errors\r\n        values.setCompanyEmailErr(\"\");\r\n        values.setCompanyPasswordErr(\"\");\r\n        values.setCompanyConfirmPasswordErr(\"\");\r\n        values.setCompanyWebsiteErr(\"\");\r\n\r\n        let compEmailError = \"\";\r\n        let compPwdError = \"\";\r\n        let compConfirmPwdError = \"\";\r\n        let compWebsiteError = \"\";\r\n\r\n        // Passwords Mismatsh\r\n        if(values.companyPassword !== values.companyConfirmPassword)\r\n            compConfirmPwdError = \"Passwords don't match!\";\r\n\r\n        // Empty fields\r\n        if(values.companyEmail.trim() === \"\")\r\n            compEmailError = \"Enter company's email!\";\r\n        if(values.companyPassword.trim() === \"\")\r\n            compPwdError = \"Enter password!\";\r\n        if(values.companyConfirmPassword.trim() === \"\")\r\n            compConfirmPwdError = \"Confirm password!\";\r\n        \r\n        \r\n        // Email format validation\r\n        if(!emailPattern.test(values.companyEmail))\r\n            compEmailError = \"Email invalid format!\";\r\n\r\n        // No uppercase letters in email\r\n        if(emailHasUpperCase(values.companyEmail))\r\n            compEmailError = \"No uppercase letters in email!\";\r\n\r\n        // Password length\r\n        if(values.companyPassword.length < 6)\r\n            compPwdError = \"Password must be at least 6 characters!\";\r\n\r\n        // Website validation\r\n        if(values.companyWebsite.trim() !== \"\") {\r\n            if(!websitePattern.test(values.companyWebsite))\r\n                compWebsiteError = \"Invalid website URL!\";\r\n        }\r\n\r\n        if(compEmailError.length || compPwdError.length ||\r\n            compConfirmPwdError.length || compWebsiteError.length) {\r\n                values.setCompanyEmailErr(compEmailError);\r\n                values.setCompanyPasswordErr(compPwdError);\r\n                values.setCompanyConfirmPasswordErr(compConfirmPwdError);\r\n                values.setCompanyWebsiteErr(compWebsiteError);\r\n                setProgressBar(false);\r\n                return false;\r\n            }\r\n\r\n        const uniqueEmail = await checkUniqueCompanyEmail(values.companyEmail);\r\n        if(!uniqueEmail) {\r\n            values.setCompanyEmailErr(\"Email is already in use!\");\r\n            setProgressBar(false);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    const continueRegistration = async (e) => {\r\n        e.preventDefault();\r\n        if(await validateInputs()) {\r\n            nextStep();\r\n        }\r\n    }\r\n\r\n    const goBackRegistration = (e) => {\r\n        e.preventDefault();\r\n        prevStep();\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <CompanyAccountDetailsPresenter \r\n                values={values}\r\n                continueRegistration={continueRegistration}\r\n                goBackRegistration={goBackRegistration}\r\n                progressBar={progressBar}\r\n            />   \r\n        </>\r\n    )\r\n}\r\n\r\nexport default CompanyAccountDetailsContainer\r\n","import { useState } from \"react\";\r\n\r\nconst useCompanyAccountDetails = () => {\r\n    // Company Account Details\r\n    const [companyEmail, setCompanyEmail] = useState(\"\");\r\n    const [companyPassword, setCompanyPassword] = useState(\"\");\r\n    const [companyConfirmPassword, setCompanyConfirmPassword] = useState(\"\");\r\n    const[companyWebsite, setCompanyWebsite] = useState(\"\");\r\n\r\n    const [companyEmailErr, setCompanyEmailErr] = useState(\"\");\r\n    const [companyPasswordErr, setCompanyPasswordErr] = useState(\"\");\r\n    const [companyConfirmPasswordErr, setCompanyConfirmPasswordErr] = useState(\"\");\r\n    const[companyWebsiteErr, setCompanyWebsiteErr] = useState(\"\");\r\n\r\n\r\n    const accountDetailsValues = {\r\n        companyEmail,\r\n        setCompanyEmail,\r\n        companyEmailErr,\r\n        setCompanyEmailErr,\r\n\r\n        companyPassword,\r\n        setCompanyPassword,\r\n        companyPasswordErr,\r\n        setCompanyPasswordErr,\r\n\r\n        companyConfirmPassword,\r\n        setCompanyConfirmPassword,\r\n        companyConfirmPasswordErr,\r\n        setCompanyConfirmPasswordErr,\r\n\r\n        companyWebsite,\r\n        setCompanyWebsite,\r\n        companyWebsiteErr,\r\n        setCompanyWebsiteErr\r\n\r\n    }\r\n\r\n    const accountDetailsParams = {\r\n        \"Website\": companyWebsite.trim().length ? companyWebsite : \"Not provided\",\r\n        \"Email\": companyEmail\r\n    }\r\n\r\n    return [accountDetailsValues, accountDetailsParams];\r\n}\r\n\r\nexport default useCompanyAccountDetails;","import \"../../style/upload_style/style.css\";\r\nimport \"../../style/style.css\";\r\nimport React from 'react';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport { Typography, Button, Avatar, Grid } from '@material-ui/core';\r\nimport ProgressBar from \"../../ProgressBar/ProgressBar\";\r\n\r\n\r\nfunction CompanyProfilePicturePresenter\r\n({values, continueRegistration, goBackRegistration, uploadFile}) {\r\n    \r\n    return (\r\n        <div className=\"form-container-flex\">\r\n            <div className=\"form-explanation-container\" >\r\n                <Typography variant=\"h2\">\r\n                    Upload a profile picture\r\n                </Typography>\r\n            </div>\r\n            <div className=\"form-inputs-container\">\r\n                <div className=\"login-form-inputs\">\r\n                    <Avatar style={{backgroundColor: '#3f51b5'}}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    \r\n                    <Typography component=\"h1\" variant=\"h5\" >Sign up</Typography>\r\n                    <br/>\r\n                    <div id=\"upload-pic-text\">\r\n                        <Typography variant=\"h6\" style={{fontWeight: 300}}>Select your profile picture (optional)</Typography>\r\n                    </div>\r\n                    <div className=\"upload-container-img\">\r\n                        <div className=\"profile-pic-container\">\r\n\r\n                            {values.imageSource && \r\n                                <img alt=\"profile\" src={values.imageSource}>\r\n                                </img>\r\n                            }\r\n                            <ProgressBar\r\n                                file={values.file}\r\n                                setFile={values.setFile}\r\n                                setImageSource={values.setImageSource}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"upload-container\">\r\n                        <label id=\"upload_label\">\r\n                            <input type=\"file\" onChange={uploadFile}/>\r\n                            <span>+</span>\r\n                        </label>\r\n                    </div>\r\n                        \r\n                        {\r\n                            values.fileErr \r\n                            ?   <Typography variant=\"body1\" color=\"error\">\r\n                                    {values.fileErr}\r\n                                </Typography>\r\n                            :   null\r\n                        }\r\n                    <br/>\r\n\r\n                    <div className=\"login-form-submit\">\r\n                    <Grid container spacing={2}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    onClick={e => goBackRegistration(e)}\r\n                                >\r\n                                    Back\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    color=\"primary\"\r\n                                    onClick={e => continueRegistration(e)}\r\n                                >\r\n                                    {values.imageSource ? \"Continue\" : \"Skip\"}\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyProfilePicturePresenter\r\n","import React from 'react';\r\nimport CompanyProfilePicturePresenter from \"./CompanyProfilePicturePresenter\";\r\nimport { storageRemove } from \"../../../../customHooks/useStorage\";\r\n\r\n\r\nconst validImageTypes = [\"image/png\", \"image/jpg\", \"image/jpeg\"];\r\n\r\nfunction CompanyProfilePictureContainer({values, nextStep, prevStep}) {\r\n\r\n    let fileError = false;\r\n\r\n    const uploadFile = (e) => {\r\n        values.setFileErr(\"\");\r\n        fileError = false;\r\n\r\n        if(values.imageSource) {\r\n            storageRemove(values.imageSource);\r\n          }\r\n\r\n        const selectedFile = e.target.files[0];\r\n\r\n        if (selectedFile) {\r\n            if (validImageTypes.includes(selectedFile.type)) {\r\n                values.setFile(selectedFile);\r\n                values.setFileErr(\"\");\r\n                fileError = false;\r\n          }\r\n          else {\r\n                values.setFileErr(\"Select a valid file (png, jpg or jpeg)\");\r\n                fileError = true;\r\n            }\r\n        }\r\n\r\n        else {\r\n          values.setFile(null);\r\n          fileError = true;\r\n        }\r\n      };\r\n\r\n    const continueRegistration = (e) => {\r\n        e.preventDefault();\r\n        if(!fileError) {\r\n            nextStep();\r\n        }\r\n    }\r\n\r\n    const goBackRegistration = (e) => {\r\n        e.preventDefault();\r\n        prevStep();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <CompanyProfilePicturePresenter\r\n                values={values}\r\n                continueRegistration={continueRegistration}\r\n                goBackRegistration={goBackRegistration}\r\n                uploadFile={uploadFile}\r\n            />  \r\n        </>\r\n    )\r\n}\r\n\r\nexport default CompanyProfilePictureContainer\r\n","import { useState } from \"react\";\r\n\r\nconst useCompanyProfilePicture = () => {\r\n    // Company Profile Picture Details\r\n    const [file, setFile] = useState(null);\r\n    const [fileErr, setFileErr] = useState(\"\");\r\n    const [imageSource, setImageSource] = useState(\"\");\r\n\r\n    const profilePictureValues = {\r\n        file,\r\n        setFile,\r\n        imageSource,\r\n\r\n        fileErr,\r\n        setFileErr,\r\n        setImageSource\r\n    }\r\n\r\n    return [profilePictureValues];\r\n}\r\n\r\nexport default useCompanyProfilePicture;","import React, { useState } from 'react'\r\n\r\nimport CompanyGeneralDetailsContainer from \"./CompanyGeneralDetails/CompanyGeneralDetailsContainer\";\r\nimport useCompanyGeneralDetails from \"./CompanyGeneralDetails/useCompanyGeneralDetails\";\r\n\r\nimport CompanyServiceDetailsContainer from \"./CompanyServiceDetails/CompanyServiceDetailsContainer\";\r\nimport useCompanyServiceDetails from \"./CompanyServiceDetails/useCompanyServiceDetails\";\r\n\r\nimport CompanyAccountDetailsContainer from \"./CompanyAccountDetails/CompanyAccountDetailsContainer\";\r\nimport useCompanyAccountDetails from \"./CompanyAccountDetails/useCompanyAccountDetails\";\r\n\r\nimport CompanyProfilePictureContainer from \"./CompanyProfilePicture/CompanyProfilePictureContainer\";\r\nimport useCompanyProfilePicture from \"./CompanyProfilePicture/useCompanyProfilePicture\";\r\n\r\nimport ConfirmDetailsContainer from \"../ConfirmDetails/ConfirmDetailsContainer\";\r\n\r\nfunction CompanyFormContainer() {\r\n    const [step, setStep] = useState(1);\r\n\r\n    const [companyGeneralDetailsValues, companyGeneralDetailsParams] =\r\n        useCompanyGeneralDetails();\r\n    const [companyServiceDetailsValues, companyServiceDetailsParams] = \r\n        useCompanyServiceDetails();\r\n    const [companyAccountDetailsValues, companyAccountDetailsParams] = \r\n        useCompanyAccountDetails();    \r\n    const [companyProfilePictureValues] = useCompanyProfilePicture();\r\n\r\n    // All Details\r\n    const allDetails = {\r\n        ...companyGeneralDetailsParams,\r\n        ...companyServiceDetailsParams,\r\n        ...companyAccountDetailsParams\r\n    }\r\n\r\n    // All Values\r\n    const allValues = {\r\n        ...companyGeneralDetailsValues,\r\n        ...companyServiceDetailsValues,\r\n        ...companyAccountDetailsValues,\r\n        ...companyProfilePictureValues\r\n    }\r\n\r\n    const nextStep = () => {\r\n        setStep(step + 1);\r\n    }\r\n\r\n    const prevStep = () => {\r\n        setStep(step - 1);\r\n    }\r\n\r\n    const setCurrentComponent = () => {\r\n        switch(step) {\r\n            case 1:\r\n                return (\r\n                    // GeneralUserDetails\r\n                    <CompanyGeneralDetailsContainer \r\n                        values={companyGeneralDetailsValues}\r\n                        nextStep={nextStep}\r\n                    />\r\n                )\r\n            case 2:\r\n                return (\r\n                    // Company Service Details\r\n                    <CompanyServiceDetailsContainer \r\n                        values={companyServiceDetailsValues}\r\n                        nextStep={nextStep}\r\n                        prevStep={prevStep}\r\n                    />\r\n                )\r\n            case 3:\r\n                return (\r\n                    // Company Account Details\r\n                    <CompanyAccountDetailsContainer\r\n                        values={companyAccountDetailsValues}\r\n                        nextStep={nextStep}\r\n                        prevStep={prevStep}\r\n                    />\r\n                )\r\n            case 4:\r\n                return (\r\n                    // Company Profile Picture\r\n                    <CompanyProfilePictureContainer \r\n                        values={companyProfilePictureValues}\r\n                        nextStep={nextStep}\r\n                        prevStep={prevStep}\r\n                    />\r\n                )\r\n            case 5:\r\n                return (\r\n                    // Confirm Inputs\r\n                    <ConfirmDetailsContainer \r\n                        parameters={allDetails}\r\n                        prevStep={prevStep}\r\n                        values={allValues}\r\n                        accountType={\"company\"}\r\n                    />\r\n                )\r\n            default:\r\n                return alert(\"Invalid step!\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {setCurrentComponent()}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CompanyFormContainer\r\n","import React, { useContext } from 'react'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport UserFormContainer from \"../UserRegisterForm/UserFormContainer\";\r\nimport CompanyFormContainer from \"../CompanyRegisterForm/CompanyFormContainer\"\r\nimport { Box } from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { AuthContext } from \"../../../firebase/auth\";\r\nimport { IsUserLogin } from \"../../../helpers/queryManager\";\r\n\r\nconst useStyles = makeStyles({\r\n    centerFormContainer: {\r\n        display: 'grid',\r\n        placeItems: 'center',\r\n        padding: '2em 1.5em'\r\n    }\r\n});\r\n\r\nfunction RegisterPage(props) {\r\n\r\n    const classes = useStyles();\r\n    const { currentUser } = useContext(AuthContext);\r\n\r\n    const checkRedirect = async () => {\r\n        // Check account type for redirection\r\n        const isUser = await IsUserLogin(currentUser.email);\r\n        let redirectPage = \"\";\r\n        \r\n        if(isUser) {\r\n            redirectPage = \"user-page\";\r\n        }\r\n        else {\r\n            redirectPage = \"company-page\";\r\n\r\n        }\r\n\r\n        props.history.push(`/${redirectPage}`);\r\n    }\r\n\r\n    if(currentUser) {\r\n        checkRedirect();\r\n    }\r\n\r\n    const registerType = props.match.params.type;\r\n    const form = registerType === \"user\" \r\n            ? <UserFormContainer /> \r\n            : <CompanyFormContainer />\r\n\r\n    return (\r\n        !currentUser &&\r\n        <Box className={classes.centerFormContainer}>\r\n            {form}\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default withRouter(RegisterPage);\r\n","import React from 'react'\r\nimport { Tooltip, Zoom } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles({\r\n    tooltipTitle: {\r\n        padding: '0.5em',\r\n        fontWeight: 300\r\n    }\r\n})\r\n\r\nfunction PostLink({displayIcon, serviceType}) {\r\n    const classes = useStyles();\r\n\r\n    const tooltipTitle = <h1 className={classes.tooltipTitle}>{serviceType}</h1>\r\n    \r\n    return (\r\n           <Link to={`/user-page/posts/${serviceType}`}>\r\n            <div className=\"post-icon\">\r\n                        <Tooltip className={classes.tooltipSize}\r\n                        title={tooltipTitle} TransitionComponent={Zoom}>\r\n                            {displayIcon}\r\n                        </Tooltip>\r\n                </div>\r\n            </Link>\r\n    )\r\n}\r\n\r\nexport default PostLink\r\n","import \"../styles/style.css\";\r\nimport React from 'react'\r\nimport PostLink from \"../PostLink/PostLink\"\r\nimport EmojiObjectsOutlinedIcon from '@material-ui/icons/EmojiObjectsOutlined'\r\nimport OpacityOutlinedIcon from '@material-ui/icons/OpacityOutlined'\r\nimport CellWifiOutlinedIcon from '@material-ui/icons/CellWifiOutlined'\r\nimport { Link } from \"react-router-dom\";\r\nimport { Fab } from '@material-ui/core';\r\nimport AddRoundedIcon from '@material-ui/icons/AddRounded';\r\nimport { makeStyles, Typography } from \"@material-ui/core\"\r\n\r\nconst useStyles = makeStyles({\r\n    iconSize: {\r\n        width: 150,\r\n        height: 150,\r\n        color: \"whitesmoke\",\r\n        \"&:hover\": {\r\n            filter: 'drop-shadow(0px 0px 5px #3f51b5)',\r\n            cursor: 'pointer'\r\n        }\r\n    }\r\n});\r\n\r\nconst defaultServiceType = \"Electricity\";\r\n\r\nfunction UserHomepagePresenter() {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className=\"user-homepage-container\">\r\n\r\n            <div className=\"user-homepage-title\">\r\n                <Typography variant=\"h2\" >\r\n                    Dashboard\r\n                </Typography>\r\n                <Typography variant=\"h4\" style={{fontWeight: '200'}}>\r\n                    Select a company type to find out more about them!\r\n                </Typography>\r\n            </div>\r\n\r\n            <div className=\"post-links-container-grid\">\r\n                <div className=\"post-links-container-flex\">\r\n                    <PostLink \r\n                        displayIcon={<EmojiObjectsOutlinedIcon className={classes.iconSize}/>}\r\n                        serviceType=\"Electricity\"\r\n                    />\r\n\r\n                    <PostLink \r\n                        displayIcon={<OpacityOutlinedIcon className={classes.iconSize} />}\r\n                        serviceType=\"Plumbing\"\r\n                    />\r\n\r\n                    <PostLink \r\n                        displayIcon={<CellWifiOutlinedIcon className={classes.iconSize}/>}\r\n                        serviceType=\"ISP\"\r\n                    />\r\n                </div>\r\n\r\n        </div>\r\n    \r\n            <div className=\"posts-list-add-subscribtion\">\r\n                <Link to={\"/subscribe/\" + defaultServiceType}>\r\n                    <Fab color=\"primary\" size=\"large\" style={{padding: '2.8em'}}>\r\n                        <AddRoundedIcon style={{width: 35, height: 35}} />\r\n                    </Fab>\r\n                </Link>\r\n            </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default UserHomepagePresenter","import React, { useContext } from 'react'\r\nimport UserHomepagePresenter from \"./UserHomepagePresenter\";\r\nimport { AuthContext } from \"../../../firebase/auth\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction UserHomepageContainer({history}) {\r\n    const { currentUser } = useContext(AuthContext);\r\n\r\n    if(currentUser === null) {\r\n        history.push(\"/\")\r\n    }\r\n\r\n    return (\r\n        currentUser && <UserHomepagePresenter />\r\n    )\r\n}\r\n\r\n\r\nexport default withRouter(UserHomepageContainer)\r\n","import \"../styles/style.css\"\r\nimport React from 'react'\r\nimport PanToolRoundedIcon from '@material-ui/icons/PanToolRounded';\r\nimport { Button, Typography } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction NoSubscribtions({serviceType}) {\r\n\r\n    return (\r\n        <div className=\"no-subscribtions-container\">\r\n            <div className=\"no-subscribtions-icon\">\r\n                <PanToolRoundedIcon \r\n                style={{width: 100, height: 100, color: \"whitesmoke\", marginRight: '2em'}} />\r\n            </div>\r\n\r\n            <div className=\"no-subscribtions-message\">\r\n                <Typography variant=\"h5\">\r\n                    Ooops... You haven’t subscribed to any <span>{serviceType}</span> companies yet!\r\n                </Typography>\r\n            </div>\r\n            \r\n            <div className=\"no-subscribtions-btn\">\r\n                <Link to={\"/user-page\"}>\r\n                    <Button variant=\"contained\" color=\"default\">\r\n                        Go Back\r\n                    </Button>\r\n                </Link>\r\n                <Link to={\"/subscribe/\" + serviceType}>\r\n                    <Button variant=\"contained\" color=\"primary\">\r\n                        Subscribe\r\n                    </Button>\r\n                </Link>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NoSubscribtions\r\n","import \"../../../styles/style.css\";\r\nimport React from 'react'\r\nimport { Typography, Grid, Button, Card, CardContent, CardHeader, Avatar } from \"@material-ui/core\";\r\nimport WarningRoundedIcon from '@material-ui/icons/WarningRounded';\r\nimport CakeRoundedIcon from '@material-ui/icons/CakeRounded';\r\nimport InfoRoundedIcon from '@material-ui/icons/InfoRounded';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { blue } from '@material-ui/core/colors';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    detailsCardRoot: {\r\n        background: 'transparent',\r\n        border: 'none',\r\n        margin: '2em 0',\r\n        boxShadow: 'none',\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        alignItems: 'flex-start',\r\n        marginBottom: 0,\r\n        marginTop: 0,\r\n        paddingBottom: 0,\r\n        paddingTop: 0\r\n    },\r\n    avatar: {\r\n        backgroundColor: blue[900],\r\n        width: 90,\r\n        height: 90,\r\n        margin: '0 auto',\r\n    },\r\n    avatarImg: {\r\n        display: 'block',\r\n        objectFit: 'contain'\r\n    },\r\n    postCreator: {\r\n        fontSize: '1.5rem',\r\n        fontWeight: '500',\r\n        color: 'whitesmoke'\r\n    },\r\n    postType: {\r\n        fontSize: '1.2rem',\r\n        fontWeight: '500',\r\n        display: 'flex',\r\n        alignItems: 'flex-start',\r\n        justifyContent: 'flex-start',\r\n    },\r\n    postTitle: {\r\n        fontSize: '1.7rem',\r\n        fontWeight: '500',\r\n        color: 'whitesmoke'\r\n    },\r\n    postTimestamp: {\r\n        color: '#888',\r\n        fontSize: '1rem',\r\n        fontWeight: 'normal',\r\n    },\r\n    postCities: {\r\n        fontSize: '1.2rem',\r\n        fontWeight: '400',\r\n        color: 'whitesmoke'\r\n    },\r\n    postContent: {\r\n        fontSize: '1rem',\r\n        fontWeight: '300',\r\n        color: 'whitesmoke'\r\n    },\r\n    button: {\r\n        padding: '.5em 0',\r\n        fontSize: '1.1rem'\r\n    }\r\n})\r\n\r\nfunction PostDetailsPresenter({post, postCreator, postTimestamp, postCreatorProfileUrl, handleClose}) {\r\n    const classes = useStyles();\r\n\r\n\r\n    const defaultAvatar = (\r\n        <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n            <Typography variant=\"h2\">\r\n                {postCreator[0]}\r\n            </Typography>\r\n        </Avatar>\r\n    );\r\n\r\n    const profilePicAvatar = (\r\n        <Avatar\r\n            className={classes.avatar}\r\n            classes={{img: classes.avatarImg}}\r\n            src={postCreatorProfileUrl}\r\n        />\r\n    );\r\n\r\n    const postTypeColor = (type) => {\r\n        switch (type) {\r\n            case \"Warning\":\r\n                return \"#F50057\"\r\n            case \"Info\":\r\n                return \"whitesmoke\"\r\n            case \"Promo\":\r\n                return \"#3f51b5\"\r\n            default:\r\n                return 'black'\r\n        }\r\n    }\r\n\r\n    const postTypeIcon = (type) => {\r\n        switch (type) {\r\n            case \"Warning\":\r\n                return <WarningRoundedIcon style={{color: \"#F50057\", marginRight: '.1em'}} />\r\n            case \"Info\":\r\n                return <InfoRoundedIcon style={{color: \"whitesmoke\", marginRight: '.1em'}} />\r\n            case \"Promo\":\r\n                return <CakeRoundedIcon \r\n                        style={{color: \"#3f51b5\", marginRight: '.1em', transform: 'translateY(-2px)'}} />\r\n            default:\r\n                return null\r\n        }\r\n    }\r\n\r\n    const citiesPostAppliesList = () => {\r\n        let list = \"\"\r\n        const cities = post[\"cities_affected\"]\r\n        cities.forEach(city => {\r\n            list += (city + \", \")\r\n        })\r\n\r\n        list = list.trim();\r\n        list = list.slice(0, list.length - 1);\r\n        list += \".\";\r\n        return list;\r\n    }\r\n\r\n    return (\r\n        <div className=\"details-post-container\">\r\n            <div className=\"details-post-dialog\">\r\n                <div className=\"details-post-dialog-container\">\r\n                            \r\n                        <Grid item xs={12} sm={12} style={{alignSelf: 'center'}}>\r\n                            <Typography variant=\"h4\">\r\n                                Post Details\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n\r\n                        <div className=\"post-details-post-container\">\r\n                            <Card className={classes.detailsCardRoot}>\r\n                                \r\n                                <CardHeader className={classes.header}\r\n                                    avatar={\r\n                                        postCreatorProfileUrl.length\r\n                                        ?   profilePicAvatar\r\n                                        :   defaultAvatar\r\n                                    }\r\n                                    title={\r\n                                        <Typography variant=\"body1\" className={classes.postCreator}>\r\n                                            {postCreator}\r\n                                        </Typography>\r\n                                    }\r\n                                    subheader={\r\n                                        <Typography variant=\"subtitle2\" className={classes.postTimestamp}>\r\n                                            {postTimestamp}\r\n                                        </Typography>\r\n                                    }\r\n                                />\r\n\r\n                                <CardContent >\r\n                                    <Typography style={{color: postTypeColor(post.type)}}\r\n                                        variant=\"body1\" className={classes.postType}>\r\n                                            {postTypeIcon(post.type)}\r\n                                            {post.type}\r\n                                    </Typography>\r\n\r\n                                    <Typography className={classes.postTitle}\r\n                                                variant=\"body1\">\r\n                                                {post.title} \r\n                                            </Typography>\r\n\r\n\r\n                                    <Typography variant=\"body2\" className={classes.postCities}>\r\n                                        Cities affected: {citiesPostAppliesList()}\r\n                                    </Typography>\r\n\r\n                                    <Typography variant=\"body2\" className={classes.postContent} component=\"div\">\r\n                                        <hr/>\r\n                                        <br/>\r\n                                        <br/>\r\n                                        {post.content}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            \r\n                            </Card>\r\n                        </div>\r\n                    \r\n                        <Grid container spacing={2} justify=\"center\">\r\n                            \r\n                            <Grid item xs={12}>\r\n                                <Button onClick={() => handleClose()}\r\n                                variant=\"contained\" fullWidth color=\"default\" className={classes.button}>\r\n                                    Close\r\n                                </Button>\r\n                            </Grid>\r\n\r\n                        </Grid>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostDetailsPresenter\r\n","import React from 'react'\r\nimport PostDetailsPresenter from \"./PostDetailsPresenter\"\r\n\r\nfunction PostDetailsContainer({post, postCreator, postTimestamp, postCreatorProfileUrl, handleClose}) {\r\n    return (\r\n        <PostDetailsPresenter \r\n            post={post}\r\n            postTimestamp={postTimestamp}\r\n            postCreator={postCreator}\r\n            postCreatorProfileUrl={postCreatorProfileUrl}\r\n            handleClose={handleClose}\r\n        />\r\n    )\r\n}\r\n\r\nexport default PostDetailsContainer\r\n","import React, { useState } from 'react'\r\nimport { Card, CardHeader, CardContent, CardActions, Modal } from \"@material-ui/core\"\r\nimport { Avatar, Typography, Button, IconButton } from \"@material-ui/core\"\r\nimport BookmarkIcon from '@material-ui/icons/Bookmark';\r\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\r\nimport StarRoundedIcon from '@material-ui/icons/StarRounded';\r\nimport StarOutlineRoundedIcon from '@material-ui/icons/StarOutlineRounded';\r\nimport WarningRoundedIcon from '@material-ui/icons/WarningRounded';\r\nimport CakeRoundedIcon from '@material-ui/icons/CakeRounded';\r\nimport InfoRoundedIcon from '@material-ui/icons/InfoRounded';\r\nimport { blue } from '@material-ui/core/colors';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PostDetailsContainer from \"./PostDetails/PostDetailsContainer\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        maxWidth: 345,\r\n        height: '100%',\r\n        borderRadius: '0.2em',\r\n    },\r\n    actions: {\r\n        justifyContent: 'space-between',\r\n        padding: '0.3em 0.1em'\r\n    },\r\n    cardContent: {\r\n        height: '14em',\r\n        whiteSpace: 'wrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n    readButton: {\r\n        width: 28,\r\n        height: 28,\r\n    },\r\n    starButton: {\r\n        width: 28,\r\n        height: 28,\r\n        color: '#E9BA1E'\r\n    },\r\n    detailsButton: {\r\n        marginRight: '1em'\r\n    },\r\n    avatar: {\r\n        backgroundColor: blue[900],\r\n        width: 50,\r\n        height: 50,\r\n        margin: '0 auto',\r\n    },\r\n    avatarImg: {\r\n        display: 'block',\r\n        objectFit: 'contain'\r\n      },\r\n}));\r\n\r\nconst maxContentLength = 180;\r\n\r\nfunction PostPresenter(props) {\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n\r\n    const {\r\n        post,\r\n        postTimestamp,\r\n        postCreator,\r\n        postCreatorProfileUrl,\r\n        toggleReadPost,\r\n        toggleStarPost\r\n    } = props;\r\n\r\n    const postTypeColor = (type) => {\r\n        switch (type) {\r\n            case \"Warning\":\r\n                return \"#F50057\"\r\n            case \"Info\":\r\n                return \"#2F303A\"\r\n            case \"Promo\":\r\n                return \"#3f51b5\"\r\n            default:\r\n                return 'black'\r\n        }\r\n    }\r\n\r\n    const postTypeIcon = (type) => {\r\n        switch (type) {\r\n            case \"Warning\":\r\n                return <WarningRoundedIcon \r\n                style={{color: \"#F50057\", marginRight: '.1em', width: 20, height: 20}} />\r\n            case \"Info\":\r\n                return <InfoRoundedIcon \r\n                style={{color: \"#2F303A\", marginRight: '.1em', width: 20, height: 20}} />\r\n            case \"Promo\":\r\n                return <CakeRoundedIcon \r\n                style={{color: \"#3f51b5\", marginRight: '.1em', width: 20, height: 20,  transform: 'translateY(-2px)'}} />\r\n            default:\r\n                return null\r\n        }\r\n    }\r\n\r\n\r\n    const defaultAvatar = (\r\n        <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n            <Typography variant=\"h4\">\r\n                {postCreator[0]}\r\n            </Typography>\r\n        </Avatar>\r\n    );\r\n\r\n    const profilePicAvatar = (\r\n        <Avatar\r\n            className={classes.avatar}\r\n            classes={{img: classes.avatarImg}}\r\n            src={postCreatorProfileUrl}\r\n        />\r\n    );\r\n\r\n    const modalBody = (\r\n                        <>\r\n                            <PostDetailsContainer\r\n                                post={post}\r\n                                postTimestamp={postTimestamp}\r\n                                postCreator={postCreator}\r\n                                postCreatorProfileUrl={postCreatorProfileUrl}\r\n                                handleClose={handleClose}\r\n                            />\r\n                        </>\r\n                    );\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"posts-list-post-container\">\r\n                <Card className={classes.root}>\r\n                    <CardHeader\r\n                        avatar={\r\n                            postCreatorProfileUrl.length\r\n                            ?   profilePicAvatar\r\n                            :   defaultAvatar\r\n                        }\r\n                        title={\r\n                            <Typography style={{fontWeight:'bold'}} variant=\"body1\">\r\n                                {postCreator}\r\n                            </Typography>\r\n                        }\r\n                        subheader={<Typography \r\n                                style={{fontWeight: 'normal', color: '#888'}} variant=\"subtitle2\">\r\n                                {postTimestamp}\r\n                                <hr/>\r\n                            </Typography>\r\n                    }\r\n                    />\r\n                    <CardContent className={classes.cardContent}>\r\n                        <Typography variant=\"body1\" \r\n                                style={{\r\n                                    color: postTypeColor(post.type),\r\n                                    fontSize: '.95rem',\r\n                                    fontWeight: post.read ? 'normal' : 'bold',\r\n                                    cursor: 'default',\r\n                                    display: 'flex'}}>\r\n\r\n                                {postTypeIcon(post.type)}\r\n                                {post.type}\r\n\r\n                        </Typography>\r\n\r\n                        <div style={{width: '15em'}}>\r\n                            <Typography variant=\"body1\" color=\"textPrimary\"\r\n                                style={{\r\n                                    fontWeight: post.read ? 'normal' : 'bold',\r\n                                    fontSize: '1.2rem',\r\n                                    lineHeight: '1.5em',\r\n                                    marginBottom: '.5em',\r\n                                    overflow: 'hidden',\r\n                                    textOverflow: 'ellipsis',\r\n                                    whiteSpace: 'nowrap',}} >\r\n\r\n                                {post.title}\r\n\r\n                            </Typography>\r\n                        </div>\r\n                    \r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\"\r\n                        style={{fontWeight: post.read ? 'normal' : 'bold'}} >\r\n                            {\r\n                                post.content.slice(0, maxContentLength) + \r\n                                (post.content.length > maxContentLength ? \"...\" : \"\")\r\n                            }\r\n                        </Typography>\r\n                    </CardContent>\r\n                    \r\n                    <hr/>\r\n\r\n                    <CardActions className={classes.actions}>\r\n                        <div>\r\n                            <IconButton onClick={() => toggleReadPost() } color=\"primary\" \r\n                            style={{padding: \"0.1em\", margin: '0.5em'}}>\r\n                                {\r\n                                    post.read\r\n                                    ? <BookmarkBorderIcon className={classes.readButton}/>\r\n                                    : <BookmarkIcon className={classes.readButton}/>\r\n                                }\r\n                            </IconButton>\r\n\r\n                            <IconButton onClick={() => toggleStarPost() } color=\"primary\" \r\n                            style={{padding: \"0.1em\"}}>\r\n                                {\r\n                                    post.starred\r\n                                    ? <StarRoundedIcon className={classes.starButton}/>\r\n                                    : <StarOutlineRoundedIcon className={classes.starButton}/>\r\n                                }\r\n                            </IconButton>\r\n                        </div>\r\n\r\n                        <Button onClick={() => handleOpen()}\r\n                        size=\"small\" color=\"primary\" className={classes.detailsButton}>\r\n                            Details\r\n                        </Button>\r\n\r\n                        \r\n\r\n                    </CardActions>\r\n                </Card>\r\n            </div>\r\n            \r\n            <Modal disableScrollLock={true} open={open} onClose={() => handleClose()}>\r\n                {\r\n                    modalBody\r\n                }\r\n            </Modal>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PostPresenter\r\n","import React from 'react'\r\nimport PostPresenter from './PostPresenter'\r\nimport { POSTS_TABLE_COLUMNS } from \"../../../../firebase/tables\"\r\nimport { readPost, starPost } from \"../../../../helpers/databaseAdd\";\r\nimport { unreadPost, unstarPost } from \"../../../../helpers/databaseRemove\";\r\nimport moment from \"moment\";\r\nimport { dateTimeFormat } from \"../../../../helpers/validators\"\r\n\r\nfunction PostContainer({post}) {\r\n\r\n    const postDate = new Date(post[\"created_on\"].toDate());\r\n\r\n    const postTimestamp = moment(postDate).format(dateTimeFormat);\r\n    const postCreator = post[POSTS_TABLE_COLUMNS.CREATOR_NAME];\r\n    const postCreatorProfileUrl = post[POSTS_TABLE_COLUMNS.CREATOR_PROFILE_URL];\r\n\r\n    const toggleReadPost = () => {\r\n        if(!post.read) {\r\n            // Read post\r\n            readPost(post.currentUserId, post[\"post_id\"]);\r\n        }\r\n        else {\r\n            // Unread post\r\n            unreadPost(post.currentUserId, post[\"post_id\"]);\r\n        }\r\n    };\r\n\r\n    const toggleStarPost = () => {\r\n        if(!post.starred) {\r\n            // Star post\r\n            starPost(post.currentUserId, post[\"post_id\"]);\r\n        }\r\n        else {\r\n            // Unstar post\r\n            unstarPost(post.currentUserId, post[\"post_id\"]);\r\n        }\r\n    };\r\n\r\n    // console.log(post);\r\n\r\n    return (\r\n        <PostPresenter \r\n        post={post}\r\n        postTimestamp={postTimestamp}\r\n        postCreator={postCreator}\r\n        postCreatorProfileUrl={postCreatorProfileUrl}\r\n        toggleReadPost={toggleReadPost}\r\n        toggleStarPost={toggleStarPost} />\r\n    )\r\n}\r\n\r\nexport default PostContainer\r\n","import { firestore, firebase } from \"../firebase/config\";\r\nimport { TABLE_NAMES, USER_SUBSCRIBE_TABLE_COLUMNS } from \"../firebase/tables\";\r\nimport { COMPANY_TABLE_COLUMNS, USER_POSTS_TABLE_COLUMNS } from \"../firebase/tables\";\r\n\r\nconst deletePost = (postId) => {\r\n    const postsRef = firestore.collection(TABLE_NAMES.POSTS_TABLE);\r\n\r\n    postsRef.doc(postId).delete();\r\n}\r\n\r\nconst unsubscribeFromCompany = (user, company) => {\r\n    const userSubscribtionsRef = firestore.collection(TABLE_NAMES.USER_SUBSCRIBE_TABLE);\r\n\r\n    const targetSubscribtion = {\r\n        type: company[COMPANY_TABLE_COLUMNS.SERVICE_TYPE],\r\n        id: company[COMPANY_TABLE_COLUMNS.COMPANY_ID]\r\n    };\r\n\r\n    return userSubscribtionsRef.doc(user.id).update({\r\n        [USER_SUBSCRIBE_TABLE_COLUMNS.SUBSCRIBTIONS]: \r\n            firebase.firestore.FieldValue.arrayRemove(targetSubscribtion)\r\n    });\r\n\r\n}\r\n\r\nconst unreadPost = (userId, postId) => {\r\n    const userPostsRef = firestore.collection(TABLE_NAMES.USER_POSTS_TABLE);\r\n    \r\n    return userPostsRef.doc(userId)\r\n    .update({\r\n        [USER_POSTS_TABLE_COLUMNS.READ_POSTS]: \r\n            firebase.firestore.FieldValue.arrayRemove(postId)\r\n    });\r\n};\r\n\r\nconst unstarPost = (userId, postId) => {\r\n    const userPostsRef = firestore.collection(TABLE_NAMES.USER_POSTS_TABLE);\r\n    \r\n    return userPostsRef.doc(userId)\r\n    .update({\r\n        [USER_POSTS_TABLE_COLUMNS.STARRED_POSTS]: \r\n            firebase.firestore.FieldValue.arrayRemove(postId)\r\n    });\r\n}\r\n\r\nexport { deletePost, unsubscribeFromCompany, unreadPost, unstarPost };","import \"../../styles/style.css\"\r\nimport React from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport PanToolRoundedIcon from '@material-ui/icons/PanToolRounded';\r\nimport { Button, Typography } from \"@material-ui/core\"\r\n\r\nfunction NoPosts({serviceType}) {\r\n    return (\r\n        <div className=\"posts-list-no-posts-container\">\r\n\r\n            <div className=\"no-subscribtions-icon\">\r\n                <PanToolRoundedIcon \r\n                style={{width: 100, height: 100, color: \"whitesmoke\", marginRight: '2em'}} />\r\n            </div>\r\n\r\n            <div className=\"posts-list-no-posts-message\">\r\n                <Typography variant=\"h4\" style={{textAlign: 'center'}}>\r\n                   Sorry, the companies you've subcribed to have no posts yet 😞\r\n                </Typography>\r\n            </div>\r\n\r\n            <div className=\"posts-list-no-posts-buttons\">\r\n                <Link to={\"/user-page\"}>\r\n                    <Button variant=\"contained\" color=\"default\">\r\n                        Go back\r\n                    </Button>\r\n                </Link>\r\n\r\n                <Link to={`/subscribe/${serviceType}`}>\r\n                    <Button variant=\"contained\" color=\"primary\">\r\n                        Subscribe\r\n                    </Button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NoPosts\r\n","import React from 'react'\r\nimport PostContainer from \"../Post/PostContainer\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CircularProgress, Fab } from '@material-ui/core';\r\nimport AddRoundedIcon from '@material-ui/icons/AddRounded';\r\nimport NoPosts from \"./NoPosts\";\r\n\r\nfunction PostsListPresenter({serviceType, postsList}) {\r\n\r\n    const postsGrid = postsList ? (\r\n        <div className=\"posts-list-container\">\r\n            {  \r\n                postsList.map(post => {\r\n                    return (\r\n                        <PostContainer key={post[\"post_id\"]} post={post} />\r\n                    )\r\n                })\r\n            }\r\n\r\n            <div className=\"posts-list-add-subscribtion\">\r\n                <Link to={\"/subscribe/\" + serviceType}>\r\n                    <Fab color=\"primary\" size=\"large\" style={{padding: '2.8em'}}>\r\n                        <AddRoundedIcon style={{width: 35, height: 35}} />\r\n                    </Fab>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    ) : null;\r\n\r\n    const progressBar = (\r\n        <div className=\"posts-list-progress\" >\r\n            <CircularProgress\r\n                style={{\r\n                width: 120,\r\n                height: 120,\r\n            }} />\r\n        </div>\r\n    );\r\n\r\n\r\n    return (\r\n                postsList\r\n                ?\r\n                    postsList.length\r\n                    ?   postsGrid\r\n                    :   <NoPosts serviceType={serviceType} />\r\n                :   progressBar\r\n    )\r\n}\r\n\r\nexport default PostsListPresenter\r\n","import React, { useContext } from 'react'\r\nimport { useUserPostData } from '../../../../customHooks/useUserPostsData';\r\nimport PostsListPresenter from \"./PostsListPresenter\"\r\nimport { AuthContext } from \"../../../../firebase/auth\";\r\nimport { useUserPostsList } from '../../../../customHooks/useUserPostsList';\r\n\r\nfunction PostsListContainer({serviceType, userSubscribtions}) {\r\n    const { currentUser } = useContext(AuthContext)\r\n    \r\n    // Array containing only the IDs of the companies the user has subsrcibed (by serviceType)\r\n    const subscribtionIDs = \r\n    userSubscribtions\r\n    ?   userSubscribtions.length\r\n        ?   userSubscribtions.map(sub => sub.id)\r\n        :   []\r\n    :   null;\r\n\r\n    const updatePostsList = (posts, postsData) => {\r\n        let newList = [];\r\n\r\n        if(!posts || !postsData) return null\r\n        \r\n        // Update reaa status\r\n        newList = posts.map(post => {\r\n            let readStatus = false;\r\n            let starredStatus = false;\r\n\r\n            if(postsData.readPosts.includes(post[\"post_id\"]))\r\n                readStatus = true;\r\n\r\n            if(postsData.starredPosts.includes(post[\"post_id\"]))\r\n                starredStatus = true;\r\n\r\n            const updatedPost = {\r\n                ...post,\r\n                read: readStatus,\r\n                starred: starredStatus,\r\n                currentUserId: postsData.id\r\n            };\r\n\r\n            return updatedPost;\r\n        })\r\n\r\n        // Update starred status\r\n        return newList;\r\n    }\r\n\r\n    const postsList = useUserPostsList(subscribtionIDs, userSubscribtions);\r\n    \r\n    const userPostsData = useUserPostData(currentUser);\r\n\r\n    const updatedPostsList = updatePostsList(postsList, userPostsData);\r\n\r\n    return (\r\n        <PostsListPresenter \r\n        serviceType={serviceType}\r\n        postsList={updatedPostsList} />\r\n    )\r\n}\r\n\r\nexport default PostsListContainer\r\n","import { useState, useEffect } from \"react\";\r\nimport { firestore } from \"../firebase/config\";\r\nimport { POSTS_TABLE_COLUMNS, TABLE_NAMES } from \"../firebase/tables\";\r\n\r\nconst useUserPostsList = (subscribtions, userSubscribtionsData) => {\r\n    const [postsList, setPostsList] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const postsRef = firestore.collection(TABLE_NAMES.POSTS_TABLE);\r\n        \r\n        if(!subscribtions) return;\r\n\r\n        let unsubscribe = null;\r\n\r\n        unsubscribe = \r\n        postsRef.orderBy(POSTS_TABLE_COLUMNS.TIMESTAMP, 'desc')\r\n        .where(POSTS_TABLE_COLUMNS.CREATOR_ID, 'in', subscribtions)\r\n        .onSnapshot(snapshot => {\r\n            const list = [];\r\n\r\n            const docs = snapshot.docs;\r\n            \r\n            docs.map(doc => {\r\n                return list.push(doc.data())\r\n            })\r\n\r\n            setPostsList(list);\r\n        })\r\n\r\n        if(unsubscribe) return () => unsubscribe();\r\n\r\n    }, [userSubscribtionsData]);\r\n\r\n    return postsList;\r\n}\r\n\r\nexport { useUserPostsList };","import { useState, useEffect } from \"react\";\r\nimport { firestore } from \"../firebase/config\";\r\nimport { TABLE_NAMES, USERS_TABLE_COLUMNS, USER_POSTS_TABLE_COLUMNS } from \"../firebase/tables\";\r\n\r\n\r\nconst useUserPostData = (user) => {\r\n    const [userPostsData, setUserPostsData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const userPostsRef = firestore.collection(TABLE_NAMES.USER_POSTS_TABLE);\r\n\r\n        if(!user) return;\r\n\r\n        let unsubscribe = null;\r\n\r\n        unsubscribe = userPostsRef.doc(user[USERS_TABLE_COLUMNS.UID])\r\n        .onSnapshot(snapshot => {\r\n            const data = snapshot.data();\r\n            \r\n            // Read posts arary\r\n            const readPosts = data[USER_POSTS_TABLE_COLUMNS.READ_POSTS];\r\n            // Starred posts array\r\n            const starredPosts = data[USER_POSTS_TABLE_COLUMNS.STARRED_POSTS];\r\n\r\n            const currentUserPostsData = {\r\n                id: snapshot.id,\r\n                readPosts,\r\n                starredPosts,\r\n            };\r\n\r\n            setUserPostsData(currentUserPostsData);\r\n        })\r\n\r\n        if(unsubscribe) return () => unsubscribe();\r\n\r\n    }, [user]);\r\n\r\n    return userPostsData;\r\n}\r\n\r\nexport { useUserPostData };","import React from 'react'\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport NoSubscribtions from \"../NoSubscribtions\";\r\nimport PostsListContainer from \"../PostsList/PostsListContainer\";\r\n\r\nfunction PostsListPagePresenter({serviceType, userSubscribtions}) {\r\n    \r\n    return (\r\n        userSubscribtions\r\n        ?   userSubscribtions.length\r\n            ?   <PostsListContainer serviceType={serviceType} userSubscribtions={userSubscribtions} />\r\n            :   <NoSubscribtions serviceType={serviceType} />\r\n        :   <div className=\"posts-list-progress\">\r\n                <CircularProgress \r\n                style={{\r\n                    width: 120,\r\n                    height: 120,\r\n                }} />\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default PostsListPagePresenter\r\n","import { useState, useEffect } from \"react\";\r\nimport { firestore } from \"../firebase/config\";\r\nimport { TABLE_NAMES, USERS_TABLE_COLUMNS, USER_SUBSCRIBE_TABLE_COLUMNS } from \"../firebase/tables\";\r\n\r\nconst useUserSubscribtionsData = (user) => {\r\n    const [userSubscribtionData, setUserSubscribtionData] = useState(null);\r\n    \r\n    useEffect(() => {\r\n        const userSubscribtionsRef = firestore.collection(TABLE_NAMES.USER_SUBSCRIBE_TABLE);\r\n        \r\n        if(!user) return;\r\n\r\n        let unsubscribe = null;\r\n\r\n        unsubscribe = userSubscribtionsRef.doc(user[USERS_TABLE_COLUMNS.UID])\r\n        .onSnapshot(snapshot => {\r\n            const data = snapshot.data();\r\n\r\n            // User id\r\n            const userId = user[USERS_TABLE_COLUMNS.UID];\r\n            // Subscribtions array\r\n            const subscribtions = data[USER_SUBSCRIBE_TABLE_COLUMNS.SUBSCRIBTIONS];\r\n            \r\n            const currentUserSubscribtionsData = {\r\n                id: userId,\r\n                subscribtions\r\n            };\r\n\r\n            setUserSubscribtionData(currentUserSubscribtionsData);\r\n        });\r\n\r\n        if(unsubscribe) return () => unsubscribe();\r\n\r\n    }, [user]);\r\n\r\n    return userSubscribtionData;\r\n}\r\n\r\nexport { useUserSubscribtionsData };","import React, { useContext } from 'react';\r\nimport PostsListPagePresenter from './PostsListPagePresenter';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../../firebase/auth\";\r\nimport { useUserSubscribtionsData } from \"../../../../customHooks/useUserSubscribtionsData\";\r\n\r\nfunction PostsListPageContainer(props) {\r\n    const serviceType = props.match.params.type;\r\n\r\n    const { currentUser } = useContext(AuthContext);\r\n    const userSubscribtionData = useUserSubscribtionsData(currentUser);\r\n\r\n    const filterPosts = () => {\r\n        if(serviceType === \"All\") {\r\n            return userSubscribtionData.subscribtions.sort()\r\n        }\r\n        else return userSubscribtionData.subscribtions.filter(item => item.type === serviceType).sort()\r\n    }\r\n\r\n    // Get the list of posts from companies user has subscribed to here\r\n    const userSubscribtions = userSubscribtionData \r\n    ?   \r\n        userSubscribtionData.subscribtions.length\r\n        ?   filterPosts()\r\n        :   []\r\n\r\n    :   null;\r\n\r\n\r\n    return (\r\n        <PostsListPagePresenter serviceType={serviceType} userSubscribtions={userSubscribtions} />\r\n    )\r\n}\r\n\r\nexport default withRouter(PostsListPageContainer)\r\n","import React from 'react'\r\nimport { Grid, TextField, Button, Typography } from \"@material-ui/core\";\r\nimport ChipInput from 'material-ui-chip-input';\r\nimport { FormControl, InputLabel, Select, MenuItem } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst postTypes = [\r\n    \"Warning\", // Defekt\r\n    \"Info\", // Opshto izvestuvanje\r\n    \"Promo\", // Promocija\r\n];\r\n\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        padding: '.5em 0',\r\n        fontSize: '1rem'\r\n    }\r\n})\r\n\r\nfunction AddPostFormPresenter(props) {\r\n    const {\r\n        formData,\r\n        createPost,\r\n        cancelPost,\r\n        handleBranchAdd,\r\n        handleBranchRemove\r\n    } = props;\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className=\"add-post-form-container\">\r\n            <div className=\"add-post-form-dialog\">\r\n                <div className=\"add-post-form-dialog-container\">\r\n\r\n                    <Grid container spacing={2} alignItems=\"flex-end\" justify=\"flex-start\">\r\n                        \r\n                        <Grid item xs={12} sm={12} style={{alignSelf: 'center'}}>\r\n                            <Typography variant=\"h4\">\r\n                                New post\r\n                            </Typography>\r\n                            <br/>\r\n                        </Grid>\r\n\r\n                        {/* POST TYPES SELECT */}\r\n                        <Grid item xs={8} sm={3}>\r\n                            <FormControl>\r\n                                <InputLabel htmlFor=\"genders\">Post type</InputLabel>\r\n                                <Select margin=\"dense\" variant=\"standard\" id=\"post_type\"\r\n                                value={formData.postType}\r\n                                onChange={(e) => formData.setPostType(e.target.value)}\r\n                                style={{color: '#f5f5f5', padding: '0.5em 0.8em'}}>\r\n\r\n                                    {\r\n                                        postTypes.map(type => {\r\n                                            return (\r\n                                                <MenuItem key={type} value={type}>\r\n                                                    {type}\r\n                                                </MenuItem>\r\n                                            )\r\n                                        })\r\n                                    }\r\n\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>  \r\n\r\n                        {/* CITIES POST APPLIES TO */}\r\n                        <Grid item xs={8} sm={6}>\r\n                            <>\r\n                                <ChipInput\r\n                                    className=\"chip-input\"\r\n                                    fullWidth\r\n                                    allowDuplicates={false}\r\n                                    error={formData.citiesPostAppliesErr.length ? true : false}\r\n                                    helperText={\r\n                                        formData.citiesPostAppliesErr.length\r\n                                        ?   formData.citiesPostAppliesErr\r\n                                        :   \"Press ENTER to add city (from company branches)\"\r\n                                    }\r\n                                    value={formData.citiesPostApplies}\r\n                                    placeholder=\"Cities affected by this post\"\r\n                                    onAdd={(city) => handleBranchAdd(city)}\r\n                                    onDelete={\r\n                                        (city, index) => handleBranchRemove(city, index)\r\n                                    }\r\n                                />\r\n                            </>\r\n                        </Grid> \r\n                        \r\n                        {/* POST TITLE */}\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                margin=\"dense\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                error={formData.postTitleErr.length ? true : false}\r\n                                helperText={formData.postTitleErr}\r\n                                label=\"Title\"\r\n                                type=\"text\"\r\n                                value={formData.postTitle}\r\n                                onChange={(e) => formData.setPostTitle(e.target.value)}\r\n                            />\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={false} sm={6}></Grid>\r\n                        \r\n                        {/* POST CONTENT */}\r\n                        <Grid item xs={12} sm={12}>\r\n                                <TextField \r\n                                variant=\"outlined\"\r\n                                placeholder=\"Content\"\r\n                                multiline\r\n                                fullWidth\r\n                                error={formData.postContentErr.length ? true : false}\r\n                                helperText={formData.postContentErr}\r\n                                value={formData.postContent}\r\n                                onChange={(e) => formData.setPostContent(e.target.value)}\r\n                                rows={8}\r\n                                rowsMax={10}/>\r\n                        </Grid>\r\n\r\n                    </Grid>\r\n\r\n                    <br/>\r\n                    \r\n                    <div className=\"login-form-submit\">\r\n                        <Grid container spacing={2} justify=\"center\">\r\n                            \r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button onClick={() => cancelPost()}\r\n                                variant=\"contained\" fullWidth color=\"default\"\r\n                                className={classes.button}>\r\n                                    Cancel\r\n                                </Button>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button onClick={() => createPost()}\r\n                                variant=\"contained\" fullWidth color=\"primary\"\r\n                                className={classes.button}>\r\n                                    Create\r\n                                </Button>\r\n                            </Grid>\r\n\r\n                        </Grid>\r\n                    </div>\r\n                \r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddPostFormPresenter\r\n","import React from 'react'\r\nimport AddPostFormPresenter from \"./AddPostFormPresenter\";\r\n\r\n// Dummy data, replace with call to database\r\n\r\nfunction AddPostFormContainer({currentCompanyData, formData, createPost, cancelPost}) {\r\n    // console.log(currentCompanyData);\r\n\r\n    const handleBranchAdd = (city) => {\r\n\r\n        // Add to formData.citiesPostApplies\r\n        const newList = [...formData.citiesPostApplies];\r\n        \r\n        // Capitalize first letter of entry\r\n        const capitalizedCity = \r\n            city.slice(0, 1).toUpperCase() + city.slice(1);\r\n\r\n        // Check if city is in branches of company\r\n        if(!currentCompanyData.branches.includes(capitalizedCity)) {\r\n            formData.setCitiesPostAppliesErr(\"City must be in company's branches!\");\r\n            return;\r\n        }\r\n\r\n        // Check if already in array\r\n        if(!formData.citiesPostApplies.includes(capitalizedCity)) {\r\n            newList.push(capitalizedCity);\r\n            formData.setCitiesPostApplies(newList);\r\n        }\r\n    }\r\n\r\n    const handleBranchRemove = (city, index) => {\r\n        // Remove from formData.citiesPostApplies\r\n        const newList = [...formData.citiesPostApplies];\r\n        newList.splice(index, 1);\r\n        formData.setCitiesPostApplies(newList);\r\n    }\r\n\r\n    return (\r\n        <AddPostFormPresenter \r\n        formData={formData}\r\n        handleBranchAdd={handleBranchAdd}\r\n        handleBranchRemove={handleBranchRemove}\r\n        createPost={createPost}\r\n        cancelPost={cancelPost} />\r\n    )\r\n}\r\n\r\nexport default AddPostFormContainer\r\n","import { useState } from 'react';\r\n\r\nconst usePostFormData = () => {\r\n    const [postType, setPostType] = useState(\"Warning\");\r\n\r\n    const [citiesPostApplies, setCitiesPostApplies] = useState([]);\r\n\r\n    const [postTitle, setPostTitle] = useState(\"\");\r\n    const [postContent, setPostContent] = useState(\"\");\r\n\r\n    const [citiesPostAppliesErr, setCitiesPostAppliesErr] = useState(\"\");\r\n    const [postTitleErr, setPostTitleErr] = useState(\"\");\r\n    const [postContentErr, setPostContentErr] = useState(\"\");\r\n\r\n    const postFormData = {\r\n        postType,\r\n        setPostType,\r\n\r\n        citiesPostApplies,\r\n        setCitiesPostApplies,\r\n        citiesPostAppliesErr,\r\n        setCitiesPostAppliesErr,\r\n\r\n        postTitle,\r\n        setPostTitle,\r\n        postTitleErr,\r\n        setPostTitleErr,\r\n        \r\n        postContent,\r\n        setPostContent,\r\n        postContentErr,\r\n        setPostContentErr\r\n    };\r\n\r\n    return [postFormData];\r\n}\r\n\r\nexport default usePostFormData;","import React, { useState } from 'react'\r\nimport { Fab } from \"@material-ui/core\";\r\nimport CreateRoundedIcon from \"@material-ui/icons/CreateRounded\"\r\nimport Modal from '@material-ui/core/Modal';\r\nimport AddPostFormContainer from './AddPostForm/AddPostFormContainer';\r\nimport usePostFormData from \"./usePostFormData\";\r\nimport { addPost } from \"../../../helpers/databaseAdd\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { COMPANY_TABLE_COLUMNS } from \"../../../firebase/tables\"\r\n  \r\n\r\nfunction AddPost({currentCompanyData}) {\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n\r\n    const [formData] = usePostFormData();\r\n\r\n    // Create post and close dialog function here\r\n    const createPost = () => {\r\n\r\n        if(validateCreatePost()) {\r\n            // Create post call to database\r\n            const postId = uuidv4();\r\n\r\n            const post = {\r\n                id: postId,\r\n                creatorId: currentCompanyData[COMPANY_TABLE_COLUMNS.COMPANY_ID],\r\n                creatorName: currentCompanyData[COMPANY_TABLE_COLUMNS.COMPANY_NAME],\r\n                creatorProfileUrl: currentCompanyData[COMPANY_TABLE_COLUMNS.PROFILE_URL],\r\n                type: formData.postType,\r\n                title: formData.postTitle,\r\n                content: formData.postContent,\r\n                citiesPostApplies: formData.citiesPostApplies\r\n            };\r\n\r\n            const addPostPromise = addPost(post);\r\n            addPostPromise.then(() => {\r\n                // Clear inputs here\r\n                formData.setPostType(\"Warning\");\r\n                formData.setCitiesPostApplies([]);\r\n                formData.setPostTitle(\"\");\r\n                formData.setPostContent(\"\");\r\n                handleClose();\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    // Clear post and close dialog function here\r\n    const cancelPost = () => {\r\n        // Clear inputs here\r\n        formData.setPostType(\"Warning\");\r\n        formData.setCitiesPostApplies([]);\r\n        formData.setPostTitle(\"\");\r\n        formData.setPostContent(\"\");\r\n\r\n        // Clear errors\r\n        formData.setPostTitleErr(\"\");\r\n        formData.setPostContentErr(\"\");\r\n        formData.setCitiesPostAppliesErr(\"\");\r\n\r\n        handleClose();\r\n    }\r\n\r\n    const validateCreatePost = () => {\r\n        // Clear previous errors\r\n        formData.setCitiesPostAppliesErr(\"\");\r\n        formData.setPostTitleErr(\"\");\r\n        formData.setPostContentErr(\"\");\r\n\r\n        let citiesAppliesErr = \"\";\r\n        let titleErr = \"\";\r\n        let contentErr = \"\";\r\n\r\n        // Empty fields\r\n        if(formData.citiesPostApplies.length === 0)\r\n            citiesAppliesErr = \r\n            `Must provide at least one city! (ex. ${currentCompanyData.branches[0]})`;\r\n        if(formData.postTitle.length === 0)\r\n            titleErr = \"Enter the post title!\";\r\n        if(formData.postContent.length === 0)\r\n            contentErr = \"Enter the post content!\";\r\n\r\n        if(citiesAppliesErr.length || titleErr.length) {\r\n            formData.setCitiesPostAppliesErr(citiesAppliesErr);\r\n            formData.setPostTitleErr(titleErr)\r\n            formData.setPostContentErr(contentErr);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n    const modalBody = (\r\n                        <>\r\n                            <AddPostFormContainer\r\n                                currentCompanyData={currentCompanyData}\r\n                                formData={formData}\r\n                                createPost={createPost}\r\n                                cancelPost={cancelPost} />\r\n                        </>\r\n                    );\r\n\r\n    return (\r\n        <>\r\n        <div className=\"company-homepage-create-post-fab\">\r\n            <Fab onClick={() => handleOpen()} color=\"primary\" size=\"large\" style={{padding: '2.8em'}}>\r\n                <CreateRoundedIcon style={{width: 35, height: 35}} />\r\n            </Fab>\r\n        </div>\r\n\r\n        <Modal disableScrollLock={true} open={open} onClose={() => handleClose()}>\r\n            {\r\n                modalBody\r\n            }\r\n        </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddPost\r\n","import React from 'react'\r\nimport AddPost from \"./CompanyAddPost/AddPost\";\r\nimport { Typography } from \"@material-ui/core\"\r\nimport PanToolRoundedIcon from '@material-ui/icons/PanToolRounded';\r\n\r\n\r\nfunction NoPostsPage({currentCompanyData}) {\r\n    return (\r\n        <>\r\n            <div className=\"company-homepage-no-posts-container\">\r\n                <PanToolRoundedIcon \r\n                style={{width: 90, height: 90, color: \"whitesmoke\", marginRight: '2em'}}/>\r\n\r\n                <div className=\"company-homepage-no-posts-message\" >\r\n                    <Typography variant=\"h3\" align=\"center\" >\r\n                        You have not made any posts!\r\n                    </Typography>\r\n                    <Typography variant=\"h6\" align=\"center\" style={{color: '#ccc'}} >\r\n                        Lets change that. Click on the bottom right button to create a post!\r\n                    </Typography>\r\n                </div>\r\n            </div>\r\n\r\n            <AddPost currentCompanyData={currentCompanyData}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NoPostsPage\r\n","import \"../../styles/style.css\"\r\nimport React from 'react'\r\nimport { Typography, Grid, Button, Card, CardContent, CardHeader } from \"@material-ui/core\";\r\nimport WarningRoundedIcon from '@material-ui/icons/WarningRounded';\r\nimport CakeRoundedIcon from '@material-ui/icons/CakeRounded';\r\nimport InfoRoundedIcon from '@material-ui/icons/InfoRounded';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    detailsCardRoot: {\r\n        background: 'transparent',\r\n        border: 'none',\r\n        margin: '2em 0',\r\n        boxShadow: 'none',\r\n    },\r\n    postType: {\r\n        fontSize: '1.2rem',\r\n        fontWeight: '500',\r\n        display: 'flex',\r\n        alignItems: 'flex-start',\r\n        justifyContent: 'flex-start',\r\n    },\r\n    postTitle: {\r\n        fontSize: '1.5rem',\r\n        fontWeight: '500',\r\n        color: 'whitesmoke'\r\n    },\r\n    postTimestamp: {\r\n        color: '#888',\r\n        fontSize: '.9rem',\r\n        fontWeight: 'normal'\r\n    },\r\n    postCities: {\r\n        fontSize: '1.2rem',\r\n        fontWeight: '400',\r\n        color: 'whitesmoke'\r\n    },\r\n    postContent: {\r\n        fontSize: '1rem',\r\n        fontWeight: '300',\r\n        color: 'whitesmoke'\r\n    },\r\n    button: {\r\n        padding: '.5em 0',\r\n        fontSize: '1.1rem'\r\n    }\r\n})\r\n\r\nfunction CompanyPostDetailsModalPresenter({post, postTimestamp, handleClose}) {\r\n    const classes = useStyles();\r\n\r\n    const postTypeColor = (type) => {\r\n        switch (type) {\r\n            case \"Warning\":\r\n                return \"#F50057\"\r\n            case \"Info\":\r\n                return \"whitesmoke\"\r\n            case \"Promo\":\r\n                return \"#3f51b5\"\r\n            default:\r\n                return 'black'\r\n        }\r\n    }\r\n\r\n    const postTypeIcon = (type) => {\r\n        switch (type) {\r\n            case \"Warning\":\r\n                return <WarningRoundedIcon style={{color: \"#F50057\", marginRight: '.1em'}} />\r\n            case \"Info\":\r\n                return <InfoRoundedIcon style={{color: \"whitesmoke\", marginRight: '.1em'}} />\r\n            case \"Promo\":\r\n                return <CakeRoundedIcon \r\n                        style={{color: \"#3f51b5\", marginRight: '.1em', transform: 'translateY(-2px)'}} />\r\n            default:\r\n                return null\r\n        }\r\n    }\r\n\r\n    const citiesPostAppliesList = () => {\r\n        let list = \"\"\r\n        const cities = post[\"cities_affected\"]\r\n        cities.forEach(city => {\r\n            list += (city + \", \")\r\n        })\r\n\r\n        list = list.trim();\r\n        list = list.slice(0, list.length - 1);\r\n        list += \".\";\r\n        return list;\r\n    }\r\n\r\n    return (\r\n        <div className=\"details-post-container\">\r\n            <div className=\"details-post-dialog\">\r\n                <div className=\"details-post-dialog-container\">\r\n                            \r\n                        <Grid item xs={12} sm={12} style={{alignSelf: 'center'}}>\r\n                            <Typography variant=\"h4\">\r\n                                Post Details\r\n                            </Typography>\r\n                            <br/>\r\n                        </Grid>\r\n\r\n\r\n                        <div className=\"post-details-post-container\">\r\n                            <Card className={classes.detailsCardRoot}>\r\n                                \r\n                                <CardHeader\r\n                                    title={\r\n                                        <>\r\n                                            <Typography style={{color: postTypeColor(post.type)}}\r\n                                            variant=\"body1\" className={classes.postType}>\r\n                                                {postTypeIcon(post.type)}\r\n                                                {post.type}\r\n                                            </Typography>\r\n\r\n                                            <Typography className={classes.postTitle}\r\n                                                variant=\"body1\">\r\n                                                {post.title} \r\n                                            </Typography>\r\n\r\n                                        </>\r\n                                    }\r\n                                    subheader={\r\n                                        <Typography variant=\"subtitle2\" className={classes.postTimestamp}>\r\n                                            {postTimestamp}\r\n                                        </Typography>\r\n                                }\r\n                                />\r\n\r\n                                <CardContent >\r\n                                    <Typography variant=\"body2\" className={classes.postCities}>\r\n                                        Cities affected: {citiesPostAppliesList()}\r\n                                    </Typography>\r\n\r\n                                    <Typography variant=\"body2\" className={classes.postContent} component=\"div\">\r\n                                        <hr/>\r\n                                        <br/>\r\n                                        <br/>\r\n                                        {post.content}\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            \r\n                            </Card>\r\n                        </div>\r\n\r\n                    \r\n                        <Grid container spacing={2} justify=\"center\">\r\n                            \r\n                            <Grid item xs={12}>\r\n                                <Button onClick={() => handleClose()}\r\n                                variant=\"contained\" fullWidth color=\"default\" className={classes.button}>\r\n                                    Close\r\n                                </Button>\r\n                            </Grid>\r\n\r\n                        </Grid>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyPostDetailsModalPresenter\r\n","import React from 'react'\r\nimport CompanyPostDetailsModalPresenter from \"./CompanyPostDetailsModalPresenter\";\r\n\r\nfunction CompanyPostDetailsModalContainer({post, postTimestamp, handleClose}) {\r\n    return (\r\n            <CompanyPostDetailsModalPresenter \r\n                post={post}\r\n                postTimestamp={postTimestamp}\r\n                handleClose={handleClose}\r\n            />\r\n    )\r\n}\r\n\r\nexport default CompanyPostDetailsModalContainer\r\n","import React from 'react'\r\nimport { Grid, TextField, Button, Typography, CircularProgress } from \"@material-ui/core\";\r\nimport ChipInput from 'material-ui-chip-input';\r\nimport { FormControl, InputLabel, Select, MenuItem } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst postTypes = [\r\n    \"Warning\", // Defekt\r\n    \"Info\", // Opshto izvestuvanje\r\n    \"Promo\", // Promocija\r\n];\r\n\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        padding: '.5em 0',\r\n        fontSize: '1rem'\r\n    }\r\n})\r\n\r\nfunction CompanyPostEditPresenter\r\n({formData, updatePost, cancelUpdatePost, handleBranchAdd, handleBranchRemove, progressBar}) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className=\"edit-post-container\">\r\n            <div className=\"edit-post-dialog\">\r\n                <div className=\"edit-post-dialog-container\">\r\n\r\n                    <Grid container spacing={2} alignItems=\"flex-end\" justify=\"flex-start\">\r\n                        \r\n                        <Grid item xs={12} sm={12} style={{alignSelf: 'center'}}>\r\n                            <Typography variant=\"h4\">\r\n                                Edit Post\r\n                            </Typography>\r\n                            <br/>\r\n                        </Grid>\r\n\r\n\r\n                        {/* POST TYPES SELECT */}\r\n                        <Grid item xs={8} sm={3}>\r\n                            <FormControl>\r\n                                <InputLabel htmlFor=\"genders\">Post type</InputLabel>\r\n                                <Select margin=\"dense\" variant=\"standard\" id=\"post_type\"\r\n                                value={formData.postType}\r\n                                onChange={(e) => formData.setPostType(e.target.value)}\r\n                                style={{color: '#f5f5f5', padding: '0.5em 0.8em'}}>\r\n\r\n                                    {\r\n                                        postTypes.map(type => {\r\n                                            return (\r\n                                                <MenuItem key={type} value={type}>\r\n                                                    {type}\r\n                                                </MenuItem>\r\n                                            )\r\n                                        })\r\n                                    }\r\n\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>  \r\n\r\n                        {/* CITIES POST APPLIES TO */}\r\n                        <Grid item xs={8} sm={6}>\r\n                            <>\r\n                                <ChipInput\r\n                                    fullWidth\r\n                                    allowDuplicates={false}\r\n                                    error={formData.citiesPostAppliesErr.length ? true : false}\r\n                                    helperText={formData.citiesPostAppliesErr}\r\n                                    value={formData.citiesPostApplies}\r\n                                    placeholder=\"Cities post applies to  -  ⤵  to add\"\r\n                                    onAdd={(city) => handleBranchAdd(city)}\r\n                                    onDelete={\r\n                                        (city, index) => handleBranchRemove(city, index)\r\n                                    }\r\n                                />\r\n                            </>\r\n                        </Grid> \r\n                        \r\n                        {/* POST TITLE */}\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                margin=\"dense\"\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                type=\"text\"\r\n                                label=\"Title\"\r\n                                error={formData.postTitleErr.length ? true : false}\r\n                                helperText={formData.postTitleErr}\r\n                                value={formData.postTitle}\r\n                                onChange={(e) => formData.setPostTitle(e.target.value)}\r\n                            />\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={false} sm={6}></Grid>\r\n                        \r\n                        {/* POST CONTENT */}\r\n                        <Grid item xs={12} sm={12}>\r\n\r\n                                <TextField \r\n                                variant=\"outlined\"\r\n                                placeholder=\"Content\"\r\n                                multiline\r\n                                rows={6}\r\n                                rowsMax={8}\r\n                                fullWidth\r\n                                error={formData.postContentErr.length ? true : false}\r\n                                helperText={formData.postContentErr}\r\n                                value={formData.postContent}\r\n                                onChange={(e) => formData.setPostContent(e.target.value)}\r\n                                />\r\n\r\n                        </Grid>\r\n\r\n                    </Grid>\r\n\r\n\r\n                    {\r\n                    progressBar\r\n                    ?   <CircularProgress className=\"edit-post-progress-bar\"\r\n                        style={{width: 60, height: 60}} />\r\n                    :   <><br/><br/></>\r\n                    \r\n                    }\r\n                    \r\n                    <div className=\"login-form-submit\">\r\n                        <Grid container spacing={2} justify=\"center\">\r\n                            \r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button \r\n                                onClick={() => cancelUpdatePost()}\r\n                                variant=\"contained\" fullWidth color=\"default\"\r\n                                className={classes.button}>\r\n                                    Cancel\r\n                                </Button>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button \r\n                                onClick={() => updatePost()}\r\n                                variant=\"contained\" fullWidth color=\"primary\"\r\n                                className={classes.button}>\r\n                                    Edit\r\n                                </Button>\r\n                            </Grid>\r\n\r\n                        </Grid>\r\n                    </div>\r\n                \r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyPostEditPresenter\r\n","import { useState } from 'react';\r\n\r\nconst useUpdatePostFormData = (post) => {\r\n    const [postType, setPostType] = useState(post.type);\r\n\r\n    const [citiesPostApplies, setCitiesPostApplies] = useState(post[\"cities_affected\"]);\r\n\r\n    const [postTitle, setPostTitle] = useState(post.title);\r\n    const [postContent, setPostContent] = useState(post.content);\r\n\r\n    const [citiesPostAppliesErr, setCitiesPostAppliesErr] = useState(\"\");\r\n    const [postTitleErr, setPostTitleErr] = useState(\"\");\r\n    const [postContentErr, setPostContentErr] = useState(\"\");\r\n\r\n    const postFormData = {\r\n        postType,\r\n        setPostType,\r\n\r\n        citiesPostApplies,\r\n        setCitiesPostApplies,\r\n        citiesPostAppliesErr,\r\n        setCitiesPostAppliesErr,\r\n\r\n        postTitle,\r\n        setPostTitle,\r\n        postTitleErr,\r\n        setPostTitleErr,\r\n        \r\n        postContent,\r\n        setPostContent,\r\n        postContentErr,\r\n        setPostContentErr\r\n    };\r\n\r\n    return [postFormData];\r\n}\r\n\r\nexport default useUpdatePostFormData;","import React, { useState } from 'react';\r\nimport { updatePost } from \"../../../../helpers/databaseUpdate\";\r\nimport CompanyPostEditPresenter from \"./CompanyPostEditPresenter\";\r\nimport useUpdatePostFormData from \"./useUpdatePostFormData\";\r\n\r\nfunction CompanyPostEditContainer({post, handleClose, companyBranches}) {\r\n\r\n    const [formData] = useUpdatePostFormData(post);\r\n\r\n    const [progressBar, setProgressBar] = useState(false);\r\n\r\n    const extractPostData = () => {\r\n        const postData = {\r\n            type: formData.postType,\r\n            citiesAffected: formData.citiesPostApplies,\r\n            title: formData.postTitle,\r\n            content: formData.postContent,\r\n            id: post[\"post_id\"]\r\n        };\r\n\r\n        return postData;\r\n    }\r\n\r\n\r\n    const updatePostFunc = () => {\r\n        if(validateUpdatePost()) {\r\n            const post = extractPostData();\r\n            setProgressBar(true);\r\n            const updatePromise = updatePost(post);\r\n            updatePromise.then(() => {\r\n                setProgressBar(false);\r\n                handleClose();\r\n            })\r\n        }\r\n    }\r\n\r\n    const cancelUpdatePost = () => {\r\n        // Set default data\r\n        formData.setPostType(post.type);\r\n        formData.setCitiesPostApplies(post[\"cities_affected\"]);\r\n        formData.setPostTitle(post.title);\r\n        formData.setPostContent(post.content);\r\n\r\n        // Clear errors here\r\n        formData.setPostTitleErr(\"\");\r\n        formData.setPostContentErr(\"\");\r\n        formData.setCitiesPostAppliesErr(\"\");\r\n\r\n        handleClose();\r\n    }\r\n\r\n    const handleBranchAdd = (city) => {\r\n\r\n        // Add to formData.citiesPostApplies\r\n        const newList = [...formData.citiesPostApplies];\r\n        \r\n        // Capitalize first letter of entry\r\n        const capitalizedCity = \r\n            city.slice(0, 1).toUpperCase() + city.slice(1);\r\n\r\n        // Check if city is in branches of company\r\n        if(!companyBranches.includes(capitalizedCity)) {\r\n            formData.setCitiesPostAppliesErr(\r\n                `City must be in company's branches! (ex. ${companyBranches[companyBranches.length - 1]})`);\r\n            return;\r\n        }\r\n\r\n        // Check if already in array\r\n        if(!formData.citiesPostApplies.includes(capitalizedCity)) {\r\n            newList.push(capitalizedCity);\r\n            formData.setCitiesPostApplies(newList);\r\n        }\r\n    }\r\n\r\n    const handleBranchRemove = (city, index) => {\r\n        // Remove from formData.citiesPostApplies\r\n        const newList = [...formData.citiesPostApplies];\r\n        newList.splice(index, 1);\r\n        formData.setCitiesPostApplies(newList);\r\n    }\r\n\r\n    const validateUpdatePost = () => {\r\n        // Clear previous errors\r\n        formData.setCitiesPostAppliesErr(\"\");\r\n        formData.setPostTitleErr(\"\");\r\n        formData.setPostContentErr(\"\");\r\n\r\n        let citiesAppliesErr = \"\";\r\n        let titleErr = \"\";\r\n        let contentErr = \"\";\r\n\r\n        // Empty fields\r\n        if(formData.citiesPostApplies.length === 0)\r\n            citiesAppliesErr = \r\n            `Must provide at least one city! (ex. ${companyBranches[companyBranches.length - 1]})`;\r\n        if(formData.postTitle.trim() === \"\")\r\n            titleErr = \"Enter the post title!\";\r\n        if(formData.postContent.trim() === \"\")\r\n            contentErr = \"Enter the post content!\";\r\n\r\n        if(citiesAppliesErr.length || titleErr.length || contentErr) {\r\n            formData.setCitiesPostAppliesErr(citiesAppliesErr);\r\n            formData.setPostTitleErr(titleErr)\r\n            formData.setPostContentErr(contentErr);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    return (\r\n        <CompanyPostEditPresenter \r\n            formData={formData}\r\n            updatePost={updatePostFunc}\r\n            cancelUpdatePost={cancelUpdatePost}\r\n            handleBranchAdd={handleBranchAdd}\r\n            handleBranchRemove={handleBranchRemove}\r\n            progressBar={progressBar}\r\n        />\r\n    )\r\n}\r\n\r\nexport default CompanyPostEditContainer\r\n","import { firestore } from \"../firebase/config\";\r\nimport { TABLE_NAMES } from \"../firebase/tables\";\r\nimport { USERS_TABLE_COLUMNS } from \"../firebase/tables\";\r\nimport { COMPANY_TABLE_COLUMNS } from \"../firebase/tables\";\r\n// import { USER_POSTS_TABLE_COLUMNS, USER_SUBSCRIBE_TABLE_COLUMNS } from \"../firebase/tables\";\r\nimport { POSTS_TABLE_COLUMNS } from \"../firebase/tables\";\r\n\r\nconst updatePost = (post) => {\r\n  const postsRef = firestore.collection(TABLE_NAMES.POSTS_TABLE);\r\n\r\n  return postsRef.doc(post.id)\r\n  .update({\r\n    [POSTS_TABLE_COLUMNS.POST_TYPE]: post.type,\r\n    [POSTS_TABLE_COLUMNS.CITIES_POST_APPLIES_TO]: post.citiesAffected,\r\n    [POSTS_TABLE_COLUMNS.POST_TITLE]: post.title,\r\n    [POSTS_TABLE_COLUMNS.POST_CONTENT]: post.content\r\n  })\r\n  .catch(err => {\r\n      console.log(err);\r\n  });\r\n}\r\n\r\nconst updateUser = (user, id) => {\r\n  const usersRef = firestore.collection(TABLE_NAMES.USERS_TABLE);\r\n\r\n  return usersRef.doc(id)\r\n  .update({\r\n    [USERS_TABLE_COLUMNS.FIRST_NAME]: user.firstName,\r\n    [USERS_TABLE_COLUMNS.LAST_NAME]: user.lastName,\r\n    [USERS_TABLE_COLUMNS.DATE_OF_BIRTH]: user.dateOfBirth,\r\n    [USERS_TABLE_COLUMNS.GENDER]: user.gender,\r\n    [USERS_TABLE_COLUMNS.PROFILE_URL]: user.profileUrl\r\n  })\r\n  .catch(err => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nconst updateCompany = (company, id) => {\r\n  const companiesRef = firestore.collection(TABLE_NAMES.COMPANIES_TABLE);\r\n\r\n  return companiesRef.doc(id)\r\n  .update({\r\n    [COMPANY_TABLE_COLUMNS.CEO_FIRST_NAME]: company.ceoFirst,\r\n    [COMPANY_TABLE_COLUMNS.CEO_LAST_NAME]: company.ceoLast,\r\n    [COMPANY_TABLE_COLUMNS.COMPANY_NAME]: company.companyName,\r\n    [COMPANY_TABLE_COLUMNS.DATE_OF_CREATION]: company.dateOfCreation,\r\n    [COMPANY_TABLE_COLUMNS.PROFILE_URL]: company.profileUrl,\r\n    [COMPANY_TABLE_COLUMNS.BRANCHES]: company.branches,\r\n    [COMPANY_TABLE_COLUMNS.SERVICE_TYPE]: company.serviceType,\r\n    \r\n    [COMPANY_TABLE_COLUMNS.PHONE_NUMBER]: \r\n    company.phoneNumber.trim() !== \"+389\" ? company.phoneNumber : \"Not Provided\",\r\n\r\n    [COMPANY_TABLE_COLUMNS.WEBSITE]:\r\n    company.website.trim().length ? company.website : \"Not Provided\"\r\n  })\r\n  .catch(err => {\r\n    console.log(err);\r\n  })\r\n}\r\n\r\nexport { updatePost, updateUser, updateCompany };","import React, { useState } from 'react'\r\nimport { Card, CardHeader, CardContent, CardActions, Modal } from \"@material-ui/core\"\r\nimport { Typography, Button, IconButton } from \"@material-ui/core\"\r\nimport DeleteRoundedIcon from '@material-ui/icons/DeleteRounded';\r\nimport BorderColorRoundedIcon from '@material-ui/icons/BorderColorRounded';\r\nimport WarningRoundedIcon from '@material-ui/icons/WarningRounded';\r\nimport CakeRoundedIcon from '@material-ui/icons/CakeRounded';\r\nimport InfoRoundedIcon from '@material-ui/icons/InfoRounded';\r\nimport { blue } from '@material-ui/core/colors';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { deletePost } from \"../../../helpers/databaseRemove\";\r\nimport moment from \"moment\";\r\nimport { dateTimeFormat } from \"../../../helpers/validators\";\r\nimport CompanyPostDetailsModalContainer from \"./CompanyPostDetailsModal/CompanyPostDetailsModalContainer\";\r\nimport CompanyPostEditContainer from \"./CompanyPostEditModal/CompanyPostEditContainer\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        maxWidth: 345,\r\n        height: '100%',\r\n        borderRadius: '0.2em'\r\n    },\r\n    actions: {\r\n        justifyContent: 'space-between',\r\n        padding: '0.3em 0.1em'\r\n    },\r\n    cardContent: {\r\n        minHeight: '4em',\r\n        height: '10em',\r\n        whiteSpace: 'wrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n    deleteButton: {\r\n        width: 28,\r\n        height: 28,\r\n        marginLeft: '.2em'\r\n    },\r\n    editButton: {\r\n        width: 25,\r\n        height: 25,\r\n        color: '#666'\r\n    },\r\n    detailsButton: {\r\n        padding: '1em'\r\n    },\r\n    avatar: {\r\n        backgroundColor: blue[900],\r\n        width: 50,\r\n        height: 50\r\n    },\r\n}));\r\n\r\nconst maxContentLength = 180;\r\n\r\n\r\nfunction CompanyPost({post, companyBranches}) {\r\n    const classes = useStyles();\r\n\r\n    const [openDetails, setOpenDetails] = useState(false);\r\n    const handleOpenDetails = () => setOpenDetails(true);\r\n    const handleCloseDetails = () => setOpenDetails(false);\r\n\r\n    const [openEdit, setOpenEdit] = useState(false);\r\n    const handleOpenEdit = () => setOpenEdit(true);\r\n    const handleCloseEdit = () => setOpenEdit(false);\r\n\r\n\r\n    const postDate = new Date(post[\"created_on\"].toDate());\r\n    const postTimestamp = moment(postDate).format(dateTimeFormat);\r\n\r\n    const deleteCompanyPost = () => {\r\n        deletePost(post[\"post_id\"]);\r\n    }\r\n\r\n    const postTypeColor = (type) => {\r\n        switch (type) {\r\n            case \"Warning\":\r\n                return \"#F50057\"\r\n            case \"Info\":\r\n                return \"#2F303A\"\r\n            case \"Promo\":\r\n                return \"#3f51b5\"\r\n            default:\r\n                return 'black'\r\n        }\r\n    }\r\n\r\n    const postTypeIcon = (type) => {\r\n        switch (type) {\r\n            case \"Warning\":\r\n                return <WarningRoundedIcon style={{color: \"#F50057\", marginRight: '.1em'}} />\r\n            case \"Info\":\r\n                return <InfoRoundedIcon style={{color: \"#2F303A\", marginRight: '.1em'}} />\r\n            case \"Promo\":\r\n                return <CakeRoundedIcon style={{color: \"#3f51b5\", marginRight: '.1em',  transform: 'translateY(-2px)'}} />\r\n            default:\r\n                return null\r\n        }\r\n    }\r\n\r\n    const modalBodyDetails = (\r\n                            <>\r\n                                <CompanyPostDetailsModalContainer \r\n                                post={post}\r\n                                postTimestamp={postTimestamp}\r\n                                handleClose={handleCloseDetails}/>\r\n                            </>\r\n                        );\r\n\r\n    const modalBodyEdit = (\r\n                            <>\r\n                                <CompanyPostEditContainer \r\n                                post={post}\r\n                                handleClose={handleCloseEdit}\r\n                                companyBranches={companyBranches}/>\r\n                            </>\r\n                        );\r\n\r\n    return (\r\n        <>\r\n            <div className=\"posts-list-post-container\">\r\n                <Card className={classes.root}>\r\n                    \r\n                    <CardHeader\r\n                        title={\r\n                            <>\r\n                        <Typography variant=\"body1\"\r\n                            \r\n                            style={{\r\n                                color: postTypeColor(post.type),\r\n                                fontSize: '1.1rem',\r\n                                fontWeight: '700',\r\n                                display: 'flex',\r\n                                alignItems: 'flex-start',\r\n                                justifyContent: 'flex-start',\r\n                                marginBottom: '.5em'}}>\r\n                            {postTypeIcon(post.type)}\r\n                            {post.type}\r\n                        </Typography>\r\n                        <div style={{\r\n                            width: '10em',\r\n                        }}>\r\n\r\n                            <Typography \r\n                                variant=\"body1\" color=\"textPrimary\"\r\n                                style={{\r\n                                    fontSize: '1.25rem',\r\n                                    fontWeight: '500',\r\n                                    overflow: 'hidden',\r\n                                    textOverflow: 'ellipsis',\r\n                                    whiteSpace: 'nowrap',\r\n                                }}>\r\n                                {post.title}\r\n                            </Typography>\r\n                        </div>\r\n\r\n                        </>\r\n                        }\r\n                        subheader={<Typography variant=\"subtitle2\"\r\n                                style={{color: '#888', fontSize: '0.9rem', fontWeight: 'normal'}}>\r\n                                {postTimestamp}\r\n                                <hr/>\r\n                            </Typography>\r\n                    }\r\n                    />\r\n\r\n                    <CardContent className={classes.cardContent}>\r\n                    \r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            {\r\n                                post.content.slice(0, maxContentLength) + \r\n                                (post.content.length > maxContentLength ? \"...\" : \"\")\r\n                            }\r\n                        </Typography>\r\n                    </CardContent>\r\n                    <hr/>\r\n                    <CardActions className={classes.actions} >\r\n\r\n                        <Button onClick={() => handleOpenDetails()}\r\n                        size=\"small\" color=\"primary\" className={classes.detailsButton}>\r\n                            Details\r\n                        </Button>\r\n\r\n                        <div style={{padding: '.3em'}}>\r\n                            <IconButton color=\"primary\" \r\n                            onClick={() => handleOpenEdit()}\r\n                            style={{padding: \"0.2em\"}}>\r\n                                <BorderColorRoundedIcon\r\n                                className={classes.editButton} />\r\n                            </IconButton>\r\n\r\n                            <IconButton color=\"primary\"\r\n                            onClick={() => deleteCompanyPost()}\r\n                            style={{padding: \"0.2em\"}}>\r\n                                <DeleteRoundedIcon color=\"secondary\" \r\n                                    className={classes.deleteButton}/>\r\n                            </IconButton>\r\n                        </div>\r\n\r\n                    </CardActions>\r\n                </Card>\r\n            </div>\r\n\r\n            <Modal disableScrollLock={true} open={openDetails} onClose={() => handleCloseDetails()}>\r\n                {\r\n                    modalBodyDetails\r\n                }\r\n            </Modal>\r\n\r\n            <Modal disableScrollLock={true} open={openEdit} onClose={() => handleCloseEdit()}>\r\n                {\r\n                    modalBodyEdit\r\n                }\r\n            </Modal>\r\n\r\n        </>    \r\n    )\r\n}\r\n\r\nexport default CompanyPost\r\n","import React from 'react'\r\nimport CompanyPost from './CompanyPost'\r\nimport AddPost from \"../CompanyAddPost/AddPost\";\r\n\r\nfunction CompanyPostsListPresenter({companyPosts, currentCompanyData}) {\r\n    return (\r\n        <>\r\n            <div className=\"company-posts-list-container\">\r\n                {\r\n                    companyPosts.map(post => {\r\n                        return (\r\n                            <CompanyPost \r\n                                key={post[\"post_id\"]}\r\n                                post={post}\r\n                                companyBranches={currentCompanyData.branches} />\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n\r\n            <AddPost currentCompanyData={currentCompanyData}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CompanyPostsListPresenter\r\n","import React from 'react'\r\nimport CompanyPostsListPresenter from './CompanyPostsListPresenter'\r\n\r\nfunction CompanyPostsListContainer({companyPosts, currentCompanyData}) {\r\n    return (\r\n        <CompanyPostsListPresenter \r\n            companyPosts={companyPosts}\r\n            currentCompanyData={currentCompanyData}\r\n        />\r\n    )\r\n}\r\n\r\nexport default CompanyPostsListContainer\r\n","import \"../styles/style.css\"\r\nimport React from 'react'\r\nimport { CircularProgress, Typography } from \"@material-ui/core\"\r\nimport NoPostsPage from \"../NoPostsPage\"\r\nimport CompanyPostsListContainer from \"../CompanyPostsList/CompanyPostsListContainer\"\r\n\r\nfunction CompanyHomepagePresenter({companyPosts, currentCompanyData}) {\r\n    return (\r\n        <div className=\"company-homepage-container\">\r\n\r\n            <div className=\"company-homepage-title\">\r\n                <Typography variant=\"h2\" >\r\n                    My Posts\r\n                </Typography>\r\n                <Typography variant=\"h4\" style={{fontWeight: '200'}}>\r\n                    Browse your posts and create new ones!\r\n                </Typography>\r\n            </div>\r\n            {\r\n                companyPosts\r\n                ?   companyPosts.length\r\n                    ?   <CompanyPostsListContainer \r\n                            companyPosts={companyPosts}\r\n                            currentCompanyData={currentCompanyData}\r\n                        />\r\n                    :   <NoPostsPage currentCompanyData={currentCompanyData} />\r\n\r\n                :   <div className=\"company-homepage-progress-bar\">\r\n                        <CircularProgress style={{width: 120, height: 120}} />\r\n                    </div>\r\n            }\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyHomepagePresenter\r\n","import { useState, useEffect } from \"react\";\r\nimport { firestore } from \"../firebase/config\";\r\nimport { TABLE_NAMES } from \"../firebase/tables\";\r\n\r\nconst useCompanyData = (company) => {\r\n    const[companyData, setCompanyData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const companiesRef = firestore.collection(TABLE_NAMES.COMPANIES_TABLE);\r\n\r\n        if(!company) return;\r\n\r\n        let unsubscribe = null;\r\n\r\n        unsubscribe = companiesRef.doc(company.uid)\r\n        .onSnapshot(snapshot => {\r\n            const data = snapshot.data();\r\n            \r\n            setCompanyData(data);\r\n        })\r\n\r\n        if(unsubscribe) return () => unsubscribe();\r\n\r\n    }, [company]);\r\n\r\n    return companyData;\r\n}\r\n\r\nexport { useCompanyData };","import React, { useContext } from 'react';\r\nimport CompanyHomepagePresenter from \"./CompanyHomepagePresenter\";\r\nimport { AuthContext } from \"../../../firebase/auth\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { useCompanyData } from \"../../../customHooks/useCompanyData\";\r\nimport { useCompanyPostsList } from \"../../../customHooks/useCompanyPostsList\";\r\n\r\n\r\nfunction CompanyHomepageContainer({history}) {\r\n    const { currentUser } = useContext(AuthContext);\r\n\r\n    if(currentUser === null) {\r\n        history.push(\"/\")\r\n    }\r\n\r\n    // TODO: Get company posts here\r\n    const companyPosts = useCompanyPostsList(currentUser);\r\n\r\n    // TODO: Get company data (BRANCHES) here\r\n    const currentCompanyData = useCompanyData(currentUser);\r\n\r\n    return (\r\n        currentCompanyData \r\n        ?\r\n            <CompanyHomepagePresenter\r\n            companyPosts={companyPosts}\r\n            currentCompanyData={currentCompanyData} />\r\n        :\r\n            <div style={{display: 'grid', placeItems: 'center', height: '80vh'}}>\r\n                <CircularProgress style={{width: 120, height: 120, justifySelf: 'center'}} />\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(CompanyHomepageContainer)\r\n","import { useState, useEffect } from \"react\";\r\nimport { firestore } from \"../firebase/config\";\r\nimport { POSTS_TABLE_COLUMNS, TABLE_NAMES } from \"../firebase/tables\";\r\n\r\nconst useCompanyPostsList = (company) => {\r\n    const [companyPosts, setCompanyPosts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const postsRef = firestore.collection(TABLE_NAMES.POSTS_TABLE);\r\n\r\n        if(!company) return;\r\n\r\n        let unsubscribe = null;\r\n\r\n        unsubscribe = postsRef.where(POSTS_TABLE_COLUMNS.CREATOR_ID, '==', company.uid)\r\n        .onSnapshot(snapshot => {\r\n            const list = [];\r\n            \r\n            snapshot.docs.map(doc => {\r\n                const data = doc.data();\r\n                return list.push(data);\r\n            });\r\n\r\n            setCompanyPosts(list);\r\n        })\r\n\r\n        if(unsubscribe) return () => unsubscribe();\r\n\r\n    }, [company]);\r\n\r\n    return companyPosts;\r\n}\r\n\r\nexport { useCompanyPostsList };","import React from 'react'\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { TextField, Select, MenuItem, Button, Typography } from \"@material-ui/core\"\r\n\r\nconst typesOfServices = [\r\n    \"Electricity\",\r\n    \"Plumbing\",\r\n    \"ISP\"\r\n]\r\n\r\nfunction CompanySearchFormPresenter({companyType, helperFormData, updateData, history}) {\r\n    const {\r\n        name,\r\n        setName,\r\n        type,\r\n        setType\r\n    } = helperFormData;\r\n\r\n    const goBack = () => {\r\n        history.goBack()\r\n    }\r\n\r\n    return (\r\n        <form className=\"subscribe-page-search-form\" onSubmit={e => e.preventDefault()} method=\"POST\">\r\n            \r\n            <Typography variant=\"h4\" style={{alignSelf: \"start\"}}>\r\n                Search for companies\r\n            </Typography>\r\n\r\n            <div className=\"subscribe-page-search-form-inputs\">\r\n                <TextField\r\n                        variant=\"standard\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        inputProps={{\r\n                            autoCapitalize: \"on\"\r\n                        }}\r\n                        name=\"company_name\"\r\n                        label=\"Company Name\"\r\n                        type=\"text\"\r\n                        value={name}\r\n                        onChange={(e) => setName(e.target.value)}\r\n                />\r\n                <Select style={{color: '#f5f5f5'}}\r\n                    margin=\"none\"\r\n                    fullWidth\r\n                    variant=\"standard\"\r\n                    placeholder=\"Company Type\"\r\n                    value={type}\r\n                    onChange={(e) => setType(e.target.value)}\r\n                >\r\n                            {typesOfServices.map(service => {\r\n                                return (\r\n                                    <MenuItem key={service} value={service}>\r\n                                        {service}\r\n                                    </MenuItem>\r\n                                )\r\n                            })}\r\n                        </Select>\r\n            </div>\r\n        \r\n            <div className=\"subscribe-page-search-form-buttons\">\r\n                <Button onClick={() => updateData()} \r\n                variant=\"contained\" color=\"primary\" fullWidth type=\"submit\">\r\n                    Search\r\n                </Button>\r\n                    <Button onClick={() => goBack()}\r\n                    variant=\"contained\" color=\"default\" fullWidth>\r\n                        Go back\r\n                    </Button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default withRouter(CompanySearchFormPresenter)\r\n","import React, { useState } from 'react'\r\nimport CompanySearchFormPresenter from \"./CompanySearchFormPresenter\"\r\n\r\nfunction CompanySearchFormContainer({serviceType, searchFormData}) {\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [type, setType] = useState(serviceType);\r\n\r\n    const updateData = () => {\r\n        searchFormData.setCompanyName(name);\r\n        searchFormData.setCompanyType(type);\r\n    }\r\n\r\n    const helperFormData = {\r\n        name,\r\n        setName,\r\n        type,\r\n        setType\r\n    }\r\n\r\n    return (\r\n        <CompanySearchFormPresenter\r\n            companyType={serviceType}\r\n            helperFormData={helperFormData}\r\n            updateData={updateData}\r\n            />\r\n    )\r\n}\r\n\r\nexport default CompanySearchFormContainer\r\n","import \"../../../styles/style.css\"\r\nimport React from 'react'\r\nimport { Grid, Typography, Card, CardHeader, CardContent, Avatar, Button } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { blue } from '@material-ui/core/colors';\r\nimport moment from \"moment\";\r\nimport { dateFormat } from \"../../../../../helpers/validators\";\r\n\r\nconst useStyles = makeStyles({\r\n    detailsCardRoot: {\r\n        background: 'transparent',\r\n        border: 'none',\r\n        margin: '2em 0',\r\n        boxShadow: 'none',\r\n    },\r\n    header: {\r\n        marginBottom: 0,\r\n        marginTop: 0,\r\n        paddingBottom: 0,\r\n        paddingTop: 0\r\n    },\r\n    avatar: {\r\n        backgroundColor: blue[900],\r\n        width: 90,\r\n        height: 90,\r\n        margin: '0 auto',\r\n    },\r\n    avatarImg: {\r\n        display: 'block',\r\n        objectFit: 'contain'\r\n    },\r\n    companyName: {\r\n        fontSize: '1.8rem',\r\n        fontWeight: '500',\r\n        color: 'whitesmoke',\r\n        padding: 0,\r\n        marginBottom: 0,\r\n        lineHeight: '2.2rem'\r\n    },\r\n    companyCeo: {\r\n        fontSize: '1.2rem',\r\n        fontWeight: '400',\r\n        color: 'whitesmoke',\r\n        paddingBottom: 0,\r\n        marginBottom: 0,\r\n        lineHeight: '1.4rem'\r\n    },\r\n    companyTimestamp: {\r\n        fontSize: '1rem',\r\n        fontWeight: 'normal',\r\n        color: 'whitesmoke',\r\n        paddingBottom: 0,\r\n        marginBottom: 0,\r\n    },\r\n    companyService: {\r\n        fontSize: '1.1rem',\r\n        fontWeight: '300',\r\n        color: 'whitesmoke'\r\n    },\r\n    companyHeadquarters: {\r\n        fontSize: '1.1rem',\r\n        fontWeight: '300',\r\n        color: 'whitesmoke'\r\n    },\r\n    \r\n    postCities: {\r\n        fontSize: '1.1rem',\r\n        fontWeight: '300',\r\n        color: 'whitesmoke'\r\n    },\r\n    postContent: {\r\n        fontSize: '1.1rem',\r\n        fontWeight: '300',\r\n        color: 'whitesmoke'\r\n    },\r\n    button: {\r\n        padding: '.5em 0',\r\n        fontSize: '1.1rem'\r\n    }\r\n})\r\n\r\nfunction CompanyDetailsModalPresenter({company, handleClose}) {\r\n    console.log(company);\r\n\r\n    const classes = useStyles();\r\n    const companyTimestamp = moment(company[\"date_of_creation\"].toDate()).format(dateFormat);\r\n\r\n    const defaultAvatar = (\r\n        <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n            <Typography variant=\"h3\">\r\n                {company.name[0]}\r\n            </Typography>\r\n        </Avatar>\r\n    );\r\n\r\n    const profilePicAvatar = (\r\n        <Avatar\r\n            className={classes.avatar}\r\n            classes={{img: classes.avatarImg}}\r\n            src={company[\"profile_url\"]}\r\n        />\r\n    );\r\n\r\n    const branchesList = () => {\r\n        let list = \"\"\r\n        const cities = company.branches\r\n        cities.forEach(city => {\r\n            list += (city + \", \")\r\n        })\r\n\r\n        list = list.trim();\r\n        list = list.slice(0, list.length - 1);\r\n        return list;\r\n    }\r\n    \r\n    const mail = \"mailto: \" + company.email;\r\n    const link =    company.website === \"Not Provided\" \r\n                    ? company.website\r\n                    :   <a style={{color: '#547CA6'}} href={`https://${company.website}`}>\r\n                            {company.website}\r\n                        </a>\r\n\r\n    return (\r\n        <div className=\"details-company-container\">\r\n            <div className=\"details-company-dialog\">\r\n                <div className=\"details-company-dialog-container\">\r\n\r\n                    <Grid item xs={12} sm={12} style={{alignSelf: 'center'}}>\r\n                        <Typography variant=\"h4\">\r\n                            Company Details\r\n                        </Typography>\r\n                    </Grid>\r\n                    <div className=\"post-details-post-container\">\r\n                            <Card className={classes.detailsCardRoot}>\r\n                                \r\n                                <CardHeader className={classes.header}\r\n                                    avatar={\r\n                                        company[\"profile_url\"].length\r\n                                        ?   profilePicAvatar\r\n                                        :   defaultAvatar\r\n                                    }\r\n                                    title={\r\n                                        <>\r\n                                            <Typography variant=\"caption\" className={classes.companyName}>\r\n                                                {company.name}\r\n                                            </Typography>\r\n                                            <Typography variant=\"body1\" className={classes.companyCeo}>\r\n                                                CEO: {company[\"ceo_first\"] + \" \" + company[\"ceo_last\"]}\r\n                                            </Typography>\r\n                                            <Typography variant=\"body1\" className={classes.companyTimestamp}>\r\n                                                Founded: {companyTimestamp}   \r\n                                            </Typography>\r\n                                        </>\r\n                                    }\r\n                                />\r\n                                <br/>\r\n                                <hr/>\r\n                                <CardContent >\r\n                                <Typography variant=\"h5\" \r\n                                style={{color: 'whitesmoke', marginBottom: '.5em'}}>\r\n                                        General information\r\n                                    </Typography>\r\n\r\n                                    <Typography className={classes.companyService} variant=\"body1\">\r\n                                        Service type: {company.service}\r\n                                    </Typography>\r\n                                    \r\n                                    <Typography variant=\"body2\" className={classes.companyHeadquarters}>\r\n                                        Headquarters: {company[\"city_head\"]}\r\n                                    </Typography>\r\n\r\n                                    <Typography variant=\"body2\" className={classes.postCities}>\r\n                                        Branches: {branchesList()}\r\n                                    </Typography>\r\n\r\n                                    <br/>\r\n\r\n                                    <hr/>\r\n                                    \r\n                                    <br/>\r\n                                    \r\n                                    <Typography variant=\"h5\" style={{color: 'whitesmoke', marginBottom: '.5em'}} component=\"div\">\r\n                                        Contact information\r\n                                    </Typography>\r\n\r\n\r\n                                    <Typography variant=\"body2\" className={classes.postContent} component=\"div\">\r\n                                        Email: <a style={{color: '#547CA6'}} href={mail}>{company.email}</a>\r\n                                    </Typography>\r\n\r\n                                    <Typography variant=\"body2\" className={classes.postContent} component=\"div\">\r\n                                        Website: {link}\r\n                                    </Typography>\r\n\r\n                                    <Typography variant=\"body2\" className={classes.postContent} component=\"div\">\r\n                                        Phone number: {company[\"phone_number\"]}\r\n                                    </Typography>\r\n\r\n\r\n\r\n                                </CardContent>\r\n                            \r\n                            </Card>\r\n                        </div>\r\n\r\n                        <Grid container spacing={2} justify=\"center\">\r\n                            \r\n                            <Grid item xs={12}>\r\n                                <Button onClick={() => handleClose()}\r\n                                variant=\"contained\" fullWidth color=\"default\" className={classes.button}>\r\n                                    Close\r\n                                </Button>\r\n                            </Grid>\r\n\r\n                        </Grid>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyDetailsModalPresenter\r\n","import React from 'react'\r\nimport CompanyDetailsModalPresenter from \"./CompanyDetailsModalPresenter\";\r\n\r\nfunction CompanyDetailsModalContainer({company, handleClose}) {\r\n    return (\r\n        <CompanyDetailsModalPresenter \r\n            company={company}\r\n            handleClose={handleClose}\r\n        />\r\n    )\r\n}\r\n\r\nexport default CompanyDetailsModalContainer\r\n","import React, { useState } from 'react'\r\nimport { Button, IconButton, Typography, Modal } from '@material-ui/core';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CompanyDetailsModalContainer from \"./CompanyDetailsModal/CompanyDetailsModalContainer\";\r\n\r\nfunction CompanySubscribePresenter({\r\n    companyData, userSubscribtions, subscribe, unsubscribe, profilePic, alreadySubscribed}) {\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n\r\n    const subscribeButton = (\r\n        <Button onClick={() => subscribe()}  \r\n                variant=\"contained\" color=\"primary\" fullWidth>\r\n                    Subscribe\r\n        </Button>\r\n    )\r\n\r\n    const unsubscribeButton = (\r\n        <Button onClick={() => unsubscribe()} \r\n                variant=\"contained\" \r\n                color=\"default\" style={{color: '#ccc', background: '#555'}} fullWidth>\r\n                    Unsubscribe\r\n        </Button>\r\n    )\r\n\r\n    const modalBody = (\r\n                        <>\r\n                            <CompanyDetailsModalContainer \r\n                                company={companyData}\r\n                                handleClose={handleClose}\r\n                            />\r\n                        </>\r\n                    );\r\n\r\n    return (\r\n        userSubscribtions &&\r\n        <div className=\"subscribe-page-company\">\r\n            <Typography variant=\"body1\" style={{color: 'whitesmoke'}} >{companyData.name}</Typography>\r\n            <img\r\n            src={profilePic} alt=\"something\" />\r\n            \r\n            <div className=\"subscribe-page-company-buttons\">\r\n                {\r\n                    alreadySubscribed ? \r\n                    unsubscribeButton : subscribeButton\r\n                }\r\n                <IconButton onClick={() => handleOpen()} >\r\n                    <InfoIcon style={{width: 32, height: 32, color: 'whitesmoke'}} />\r\n                </IconButton>\r\n            </div>\r\n            \r\n            <Modal disableScrollLock={true} open={open} onClose={() => handleClose()}>\r\n                {\r\n                    modalBody\r\n                }\r\n            </Modal>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanySubscribePresenter\r\n","export default __webpack_public_path__ + \"static/media/default-company-pic.789aa472.png\";","import React from 'react';\r\nimport { subscribeToCompany } from \"../../../../helpers/databaseAdd\";\r\nimport { unsubscribeFromCompany } from \"../../../../helpers/databaseRemove\";\r\nimport CompanySubscribePresenter from \"./CompanySubscribePresenter\";\r\nimport img from \"../../../../images/default-company-pic.png\";\r\n\r\nfunction CompanySubscribeContainer({companyData, userSubscribtions}) {\r\n    \r\n    const profilePic = companyData[\"profile_url\"].length\r\n    ?   companyData[\"profile_url\"] \r\n    :   img;\r\n\r\n    // Check if user is subscribed to company\r\n    const alreadySubscribed = userSubscribtions\r\n    ?   userSubscribtions.subscribtions.some((item) => item.id === companyData[\"company_id\"])\r\n    :   null;\r\n\r\n    const subscribe = () => {\r\n    const promise = subscribeToCompany(userSubscribtions, companyData);\r\n    promise.then(() => {\r\n    // Successfull subscribtion\r\n    })\r\n    }\r\n\r\n    const unsubscribe = () => {\r\n    const promise = unsubscribeFromCompany(userSubscribtions, companyData);\r\n    promise.then(() => {\r\n    // Successfull unsubscribtion\r\n    })\r\n    }\r\n\r\n    return (\r\n        <CompanySubscribePresenter \r\n        companyData={companyData}\r\n        userSubscribtions={userSubscribtions}\r\n        subscribe={subscribe}\r\n        unsubscribe={unsubscribe}\r\n        profilePic={profilePic}\r\n        alreadySubscribed={alreadySubscribed} />\r\n    )\r\n}\r\n\r\nexport default CompanySubscribeContainer\r\n","import React from 'react'\r\nimport { CircularProgress, Typography } from '@material-ui/core'\r\nimport CompanySubscribeContainer from \"../CompanySubscribe/CompanySubscribeContainer\";\r\n\r\nfunction CompaniesListPresenter({companiesList, userSubscribtions}) {\r\n    return (\r\n        <div className=\"subscribe-page-companies-list-container\">\r\n            {\r\n                companiesList === null\r\n                ? \r\n                    <CircularProgress \r\n                    style={{\r\n                        width: 100,\r\n                        height: 100,\r\n                        alignSelf: 'center',\r\n                        margin: '0 auto'\r\n                    }}  />\r\n                :\r\n                    companiesList.length\r\n                    ?\r\n                        companiesList.map(company => {\r\n                            return (\r\n                                <CompanySubscribeContainer key={company[\"company_id\"]}\r\n                                companyData={company}\r\n                                userSubscribtions={userSubscribtions} />\r\n                            )\r\n                        })\r\n                    :\r\n                        <Typography className=\"subscribe-page-companies-list-no-results\">\r\n                            No results found :(\r\n                        </Typography>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompaniesListPresenter\r\n","import React from 'react';\r\nimport CompaniesListPresenter from \"./CompaniesListPresenter\";\r\n\r\nfunction CompaniesListContainer({companiesList, userSubscribtions}) {\r\n\r\n    return (\r\n        <CompaniesListPresenter companiesList={companiesList} userSubscribtions={userSubscribtions} />\r\n    )\r\n}\r\n\r\nexport default CompaniesListContainer\r\n","import \"../styles/style.css\"\r\nimport React from 'react'\r\nimport CompanySearchFormContainer from \"./CompanySearchForm/CompanySearchFormContainer\"\r\nimport CompaniesListContainer from \"./CompaniesList/CompaniesListContainer\"\r\n\r\nfunction SubscribePagePresenter({serviceType, companiesList, searchFormData, userSubscribtions }) {\r\n\r\n    return (\r\n        <div className=\"subscribe-page-container\">\r\n            <CompanySearchFormContainer serviceType={serviceType} searchFormData={searchFormData}/>\r\n            <CompaniesListContainer companiesList={companiesList} userSubscribtions={userSubscribtions} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SubscribePagePresenter\r\n","import React, { useContext, useState } from 'react'\r\nimport SubscribePagePresenter from \"./SubscribePagePresenter\";\r\nimport { AuthContext } from \"../../../firebase/auth\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useCompaniesList } from \"../../../customHooks/useCompaniesList\";\r\nimport { useUserSubscribtionsData } from \"../../../customHooks/useUserSubscribtionsData\";\r\n\r\nfunction SubscribePageContainer(props) {\r\n    const { currentUser } = useContext(AuthContext);\r\n    const userSubscribtions = useUserSubscribtionsData(currentUser);\r\n\r\n    // Data for subscribe page\r\n    const serviceType = props.match.params.type;\r\n    const [companyName, setCompanyName] = useState(\"\");\r\n    const [companyType, setCompanyType] = useState(serviceType);\r\n\r\n    // Get all {serviceType} companies here\r\n    const companiesList = useCompaniesList(companyName, companyType);\r\n    \r\n\r\n    const searchFormData = {\r\n        companyType,\r\n        setCompanyType,\r\n        companyName,\r\n        setCompanyName\r\n    };\r\n\r\n    return (\r\n        <SubscribePagePresenter \r\n            serviceType={serviceType}\r\n            companiesList={companiesList}\r\n            searchFormData={searchFormData}\r\n            userSubscribtions={userSubscribtions}\r\n        />\r\n    )\r\n}\r\n\r\nexport default withRouter(SubscribePageContainer)\r\n","import { useState, useEffect } from \"react\";\r\nimport { firestore } from \"../firebase/config\";\r\nimport { TABLE_NAMES, COMPANY_TABLE_COLUMNS } from \"../firebase/tables\";\r\n\r\nconst useCompaniesList = (companyName, companyType) => {\r\n    const [companiesList, setCompaniesList] = useState(null);\r\n    \r\n    useEffect(() => {\r\n        const companiesRef = firestore.collection(TABLE_NAMES.COMPANIES_TABLE);\r\n\r\n        let unsubscribe = null;\r\n        // Find specific company, or company with matching \r\n        if(companyName.length) {\r\n            // databaseReference.orderByChild('_searchLastName')\r\n            //      .startAt(queryText)\r\n            //      .endAt(queryText+\"\\uf8ff\")\r\n\r\n            // .startAt(\"[a-zA-Z0-9]*\")\r\n            // .endAt(searchString)\r\n\r\n\r\n            // .startAt(companyName.toUpperCase()).endAt(companyName.toLowerCase() + \"\\uf8ff\")\r\n            \r\n            \r\n            // .where(COMPANY_TABLE_COLUMNS.COMPANY_NAME, '>=', companyName)\r\n            // .where(COMPANY_TABLE_COLUMNS.COMPANY_NAME, '<=', companyName + \"\\uf8ff\")\r\n            \r\n            companiesRef.orderBy(COMPANY_TABLE_COLUMNS.COMPANY_NAME)\r\n            .startAt(companyName).endAt(companyName + \"\\uf8ff\")\r\n            .where(COMPANY_TABLE_COLUMNS.SERVICE_TYPE, \"==\", companyType)\r\n            .get()\r\n            .then((snapshot) => {\r\n                const list = [];\r\n                snapshot.docs.map((doc) => {\r\n                    return list.push(doc.data());\r\n                });\r\n                setCompaniesList(list);\r\n            })\r\n        }\r\n        // Find all companies of type [companyType]\r\n        else {\r\n            unsubscribe = companiesRef.where(COMPANY_TABLE_COLUMNS.SERVICE_TYPE, \"==\", companyType)\r\n            .onSnapshot((snapshot) => {\r\n                const list = [];\r\n                snapshot.docs.map((doc) => {\r\n                    return list.push(doc.data());\r\n                });\r\n                setCompaniesList(list);\r\n            })\r\n            // TODO: Add error handling CATCH BLOCK\r\n        }\r\n\r\n        if(unsubscribe)\r\n            return () => unsubscribe();\r\n\r\n    }, [companyName, companyType]);\r\n\r\n    return companiesList;\r\n}\r\n\r\nexport { useCompaniesList };","import 'date-fns';\r\nimport \"../styles/style.css\";\r\nimport React, { useEffect } from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useStorageUpload } from \"../../../customHooks/useStorage\"\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { Typography, Button, Avatar, InputLabel, FormControl } from \"@material-ui/core\";\r\nimport { Select, MenuItem, IconButton, CircularProgress } from \"@material-ui/core\";\r\nimport { TextField, Grid } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { blue } from '@material-ui/core/colors';\r\n\r\nimport FaceRoundedIcon from '@material-ui/icons/FaceRounded';\r\n\r\nconst genders = [\"Male\", \"Female\", \"Other\"];\r\n\r\nconst useStyle = makeStyles({\r\n    avatar: {\r\n        width: 160,\r\n        height: 160,\r\n        backgroundColor: blue[800]\r\n      },\r\n      avatarImg: {\r\n        objectFit: 'contain'\r\n      },\r\n});\r\n\r\nfunction UserEditProfilePresenter(props) {\r\n    const classes = useStyle();\r\n\r\n    const {\r\n        formData,\r\n        editProfile,\r\n        progressBar,\r\n        setProgressBar,\r\n        uploadPicture,\r\n        goBack\r\n    } = props;\r\n\r\n    const { url } = useStorageUpload(formData.file);\r\n\r\n    useEffect(() => {\r\n        formData.setProfileUrl(\"\");\r\n        if(url) {\r\n            formData.setProfileUrl(url);\r\n            formData.setFile(null);\r\n            setProgressBar(false);\r\n        }\r\n    }, [url, formData.setFile, formData.setProfileUrl])\r\n\r\n    const profilePicture = formData.profileUrl.length\r\n                            ?   formData.profileUrl\r\n                            :   null;\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"edit-profile-container\">\r\n             <Typography variant=\"h3\" style={{textAlign: \"left\", fontWeight: 300, fontSize: '3rem'}}>Edit Profile</Typography>\r\n             <br/>\r\n            <div className=\"edit-profile-form\">\r\n            <Grid container spacing={2} alignItems=\"flex-end\">\r\n                \r\n                <Grid item xs={12} sm={5} className=\"edit-profile-avatar-container\">\r\n                        <IconButton\r\n                        aria-haspopup=\"true\">\r\n                            <label htmlFor=\"file-input\">\r\n                                <Avatar\r\n                                    style={{cursor: 'pointer'}}\r\n                                    className={classes.avatar}\r\n                                    classes={{img: classes.avatarImg}}\r\n                                    src={profilePicture}\r\n                                />\r\n                                <input onChange={(e) => uploadPicture(e)}\r\n                                accept=\"image/*\" type=\"file\" style={{display:'none'}} id=\"file-input\"/>\r\n                            </label>\r\n                        </IconButton >\r\n\r\n                        {\r\n                            formData.profileUrlErr\r\n                            ?   <Typography variant=\"body2\" color=\"error\" style={{textAlign: 'center'}}>\r\n                                {formData.profileUrlErr}\r\n                                </Typography>\r\n                            :   null\r\n                        }\r\n                \r\n                </Grid>\r\n\r\n                {/* Date of birth input */}\r\n                <Grid item xs={12} sm={5}>\r\n                    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                        <KeyboardDatePicker\r\n                            fullWidth\r\n                            variant=\"dialog\"\r\n                            format=\"dd/MM/yyyy\"\r\n                            placeholder=\"DD/MM/YYYY\"\r\n                            margin=\"normal\"\r\n                            label=\"Date of Birth\"\r\n                            maxDate={new Date()}\r\n                            value={formData.dateOfBirth}\r\n                            onChange={date => formData.setDateOfBirth(date)}\r\n                        />\r\n                    </MuiPickersUtilsProvider>\r\n                </Grid> \r\n\r\n                {/* Gender input */}\r\n                <Grid item xs={12} sm={2} style={{ padding: '1em', textAlign: 'right'}}>\r\n                    <FormControl>\r\n                        <InputLabel htmlFor=\"genders\">Gender</InputLabel>\r\n                        <Select style={{color: '#f5f5f5'}}\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            variant=\"standard\"\r\n                            id=\"genders\"\r\n                            value={formData.gender}\r\n                            onChange={(e) => formData.setGender(e.target.value)}>\r\n                                {\r\n                                    genders.map(gender => {\r\n                                        return (\r\n                                            <MenuItem key={gender} value={gender}>\r\n                                                {gender}\r\n                                            </MenuItem>\r\n                                        )\r\n                                    })\r\n                                }\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>            \r\n\r\n                {\r\n                    progressBar && \r\n                    <Grid item xs={12} style={{display: 'flex', justifyContent: 'center'}}>\r\n                        <CircularProgress/>\r\n                    </Grid>\r\n                }\r\n\r\n\r\n                {/* First name input */}\r\n                <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                        margin=\"normal\"\r\n                        variant=\"standard\"\r\n                        required\r\n                        fullWidth\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                              <InputAdornment position=\"start\">\r\n                                <FaceRoundedIcon style={{color: 'whitesmoke'}} />\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        type=\"text\"\r\n                        label=\"First Name\"\r\n                        error={formData.firstNameErr ? true : false}\r\n                        helperText={formData.firstNameErr}\r\n                        value={formData.firstName}\r\n                        onChange={(e) => formData.setFirstName(e.target.value)}\r\n                    />\r\n                </Grid>\r\n\r\n                {/* Last name input */}\r\n                <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                        margin=\"normal\"\r\n                        variant=\"standard\"\r\n                        required\r\n                        fullWidth\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                              <InputAdornment position=\"start\">\r\n                                <FaceRoundedIcon style={{color: 'whitesmoke'}} />\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        type=\"text\"\r\n                        label=\"Last Name\"\r\n                        error={formData.lastNameErr ? true : false}\r\n                        helperText={formData.lastNameErr}\r\n                        value={formData.lastName}\r\n                        onChange={(e) => formData.setLastName(e.target.value)}\r\n                    />\r\n                </Grid>\r\n                \r\n                <Grid container spacing={2} justify=\"flex-end\" style={{margin: '1em 0'}}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                    <Button\r\n                                        onClick={() => goBack()}\r\n                                        style={{padding: '.8em 0'}}\r\n                                        variant=\"contained\"\r\n                                        fullWidth\r\n                                        color=\"default\">\r\n                                        Back\r\n                                    </Button>\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    style={{padding: '.8em 0'}}\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    color=\"primary\"\r\n                                    onClick={e => editProfile(e)}>\r\n                                    Edit profile\r\n                                </Button>\r\n                            </Grid>\r\n                            \r\n                </Grid>\r\n\r\n            </Grid>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(UserEditProfilePresenter)\r\n","import React, { useContext, useState } from 'react'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../firebase/auth\";\r\nimport { useUserData } from \"../../../customHooks/useUserData\";\r\nimport { useUserFormData } from './useUserFormData';\r\nimport { validateUserUpdate } from \"./validateUserUpdate\";\r\nimport { storageRemove } from \"../../../customHooks/useStorage\";\r\nimport { updateUser } from \"../../../helpers/databaseUpdate\";\r\nimport { auth } from \"../../../firebase/config\"\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport UserEditProfilePresenter from \"./UserEditProfilePresenter\";\r\n\r\nconst validImageTypes = [\"image/png\", \"image/jpg\", \"image/jpeg\"];\r\n\r\nfunction UserEditProfileContainer(props) {\r\n    const { currentUser } = useContext(AuthContext);\r\n    const userData = useUserData(currentUser);\r\n    const formData = useUserFormData(userData);\r\n\r\n    const [progressBar, setProgressBar] = useState(false);\r\n\r\n    const goBack = () => {\r\n        // if(formData.profileUrl)\r\n        //     storageRemove(formData.profileUrl)\r\n        props.history.goBack();\r\n    }\r\n\r\n    const editProfile = () => {\r\n\r\n        setProgressBar(true);\r\n        if(validateUserUpdate(formData)) {\r\n            const updateUserPromise = updateUser(formData, currentUser.uid);\r\n            updateUserPromise.then(() => {\r\n                currentUser.updateProfile({\r\n                    displayName: formData.firstName,\r\n                    photoURL: formData.profileUrl\r\n                })\r\n                .then(() => {\r\n                    auth.updateCurrentUser(currentUser)\r\n                    .then(() => {\r\n                        setProgressBar(false);\r\n                        props.history.push(\"/user-page\");\r\n                    });\r\n                });\r\n            });\r\n        }\r\n        else setProgressBar(false);\r\n    }\r\n\r\n    const uploadPicture = (e) => {\r\n        setProgressBar(true);\r\n        if(formData.profileUrl)\r\n            storageRemove(formData.profileUrl)\r\n\r\n        const selectedFile = e.target.files[0];\r\n        \r\n        if (selectedFile) {\r\n            if (validImageTypes.includes(selectedFile.type)) {\r\n                formData.setFile(selectedFile);\r\n                formData.setProfileUrlErr(\"\");\r\n          }\r\n          else formData.setProfileUrlErr(\"Select a valid file (png, jpg or jpeg)\");\r\n        }\r\n\r\n        else {\r\n            formData.setFile(null);\r\n        }\r\n    }\r\n\r\n    return (\r\n        formData\r\n        ?   <UserEditProfilePresenter\r\n                formData={formData}\r\n                editProfile={editProfile}\r\n                progressBar={progressBar}\r\n                uploadPicture={uploadPicture}\r\n                setProgressBar={setProgressBar}\r\n                goBack={goBack}\r\n            />\r\n        :   <div style={{display: 'grid', placeItems: 'center', height: '80vh'}}>\r\n                <CircularProgress style={{width: 120, height: 120, justifySelf: 'center'}} />\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(UserEditProfileContainer)\r\n","import { useState, useEffect } from \"react\";\r\nimport { USERS_TABLE_COLUMNS } from \"../../../firebase/tables\"\r\n\r\nconst useUserFormData = (userData) => {\r\n\r\n    const [firstName, setFirstName] = useState(\"\");\r\n    const [lastName, setLastName] = useState(\"\");\r\n    const [dateOfBirth, setDateOfBirth] = useState(new Date());\r\n    const [gender, setGender] = useState(\"\");\r\n    const [profileUrl, setProfileUrl] = useState(\"\");\r\n\r\n    const [file, setFile] = useState(null);\r\n\r\n    const [firstNameErr, setFirstNameErr] = useState(\"\");\r\n    const [lastNameErr, setLastNameErr] = useState(\"\");\r\n    const [profileUrlErr, setProfileUrlErr] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n    if(!userData) return;\r\n\r\n    setFirstName(userData[USERS_TABLE_COLUMNS.FIRST_NAME]);\r\n    setLastName(userData[USERS_TABLE_COLUMNS.LAST_NAME]);\r\n    setDateOfBirth(userData[USERS_TABLE_COLUMNS.DATE_OF_BIRTH].toDate());\r\n    setGender(userData[USERS_TABLE_COLUMNS.GENDER]);\r\n    setProfileUrl(userData[USERS_TABLE_COLUMNS.PROFILE_URL]);\r\n\r\n    }, [userData]);\r\n\r\n    return userData \r\n                ?   {\r\n                        firstName,\r\n                        setFirstName,\r\n                        firstNameErr,\r\n                        setFirstNameErr,\r\n\r\n                        lastName,\r\n                        setLastName,\r\n                        lastNameErr,\r\n                        setLastNameErr,\r\n\r\n                        dateOfBirth,\r\n                        setDateOfBirth,\r\n\r\n                        gender,\r\n                        setGender,\r\n\r\n                        profileUrl,\r\n                        setProfileUrl,\r\n                        profileUrlErr,\r\n                        setProfileUrlErr,\r\n\r\n                        file,\r\n                        setFile\r\n                    } \r\n                :   null;\r\n}\r\n\r\nexport { useUserFormData };","import { useState, useEffect } from \"react\";\r\nimport { firestore } from \"../firebase/config\";\r\nimport { TABLE_NAMES } from \"../firebase/tables\";\r\n\r\nconst useUserData = (user) => {\r\n    const [userData, setUserData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const usersRef = firestore.collection(TABLE_NAMES.USERS_TABLE);\r\n\r\n        if(!user) return;\r\n\r\n        let unsubscribe = null;\r\n\r\n        unsubscribe = usersRef.doc(user.uid)\r\n        .onSnapshot(snapshot => {\r\n            const data = snapshot.data();\r\n\r\n            setUserData(data);\r\n        });\r\n\r\n        if(unsubscribe) return () => unsubscribe();\r\n\r\n    }, [user]);\r\n\r\n    return userData;\r\n}\r\n\r\nexport { useUserData };","const validateUserUpdate = (user) => {\r\n    if(user.profileUrlErr.length) return false;\r\n\r\n    // Clear errors from before\r\n    user.setFirstNameErr(\"\");\r\n    user.setLastNameErr(\"\");\r\n\r\n    let firstErr = \"\";\r\n    let lastErr = \"\";\r\n\r\n    // Check date validity\r\n    if(isNaN(user.dateOfBirth.getTime()))  return false;\r\n\r\n    // Empty fields\r\n    if(user.firstName.trim() === \"\") firstErr = \"Enter your first name!\";\r\n    if(user.lastName.trim() === \"\") lastErr = \"Enter your last name!\";\r\n\r\n    if(firstErr.length || lastErr.length) {\r\n        user.setFirstNameErr(firstErr);\r\n        user.setLastNameErr(lastErr);\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nexport { validateUserUpdate };","import 'date-fns';\r\nimport \"../styles/style.css\";\r\nimport React, { useEffect } from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useStorageUpload } from \"../../../customHooks/useStorage\"\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport ChipInput from 'material-ui-chip-input';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { Typography, Button, Avatar, InputLabel, CircularProgress } from \"@material-ui/core\";\r\nimport { FormControl, Select, MenuItem, IconButton } from \"@material-ui/core\";\r\nimport { TextField, Grid } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { blue } from '@material-ui/core/colors';\r\n\r\nimport BusinessCenterRoundedIcon from '@material-ui/icons/BusinessCenterRounded';\r\nimport AssignmentIndRoundedIcon from '@material-ui/icons/AssignmentIndRounded';\r\nimport LanguageRoundedIcon from '@material-ui/icons/LanguageRounded';\r\nimport CallRoundedIcon from '@material-ui/icons/CallRounded';\r\n\r\nconst serviceTypes = [\"Electricity\", \"Plumbing\", \"ISP\"];\r\n\r\nconst useStyle = makeStyles({\r\n    avatar: {\r\n        width: 160,\r\n        height: 160,\r\n        backgroundColor: blue[800]\r\n      },\r\n      avatarImg: {\r\n        objectFit: 'contain'\r\n      },\r\n});\r\n\r\nfunction CompanyEditProfilePresenter(props) {\r\n    const classes = useStyle();\r\n\r\n    const {\r\n        formData,\r\n        editProfile,\r\n        progressBar,\r\n        setProgressBar,\r\n        uploadPicture,\r\n        handleBranchAdd,\r\n        handleBranchRemove,\r\n        handlePhoneNumberChange,\r\n        goBack,\r\n    } = props;\r\n\r\n    const { url } = useStorageUpload(formData.file);\r\n\r\n    useEffect(() => {\r\n        formData.setProfileUrl(\"\");\r\n        if(url) {\r\n            formData.setProfileUrl(url);\r\n            formData.setFile(null);\r\n            setProgressBar(false);\r\n        }\r\n    }, [url, formData.setFile, formData.setProfileUrl])\r\n\r\n\r\n    const profilePicture = formData.profileUrl.length\r\n                            ?   formData.profileUrl\r\n                            :   null;\r\n    return (\r\n        <div className=\"edit-profile-container\">\r\n            <Typography variant=\"h3\" style={{textAlign: \"left\", fontWeight: 300, fontSize: '3rem'}}>\r\n                Edit Profile\r\n            </Typography>\r\n             <br/>\r\n\r\n            <div className=\"edit-profile-form\">\r\n            <Grid container spacing={2} alignItems=\"flex-end\">\r\n\r\n                {/* AVATAR */}\r\n                <Grid item xs={12} sm={4} className=\"edit-profile-avatar-container\">\r\n                    <IconButton\r\n                    aria-haspopup=\"true\">\r\n                        <label htmlFor=\"file-input\">\r\n                        <Avatar\r\n                            style={{cursor: 'pointer'}}\r\n                            className={classes.avatar}\r\n                            classes={{img: classes.avatarImg}}\r\n                            src={profilePicture}\r\n                        />\r\n                         <input onChange={(e) => uploadPicture(e)}\r\n                                accept=\"image/*\" type=\"file\" style={{display:'none'}} id=\"file-input\"/>\r\n                        </label>\r\n                    </IconButton >\r\n                    {\r\n                        formData.profileUrlErr\r\n                        ?   <Typography variant=\"body2\" color=\"error\" style={{textAlign: 'center'}}>\r\n                            {formData.profileUrlErr}\r\n                            </Typography>\r\n                        :   null\r\n                    }\r\n                </Grid>\r\n\r\n                {/* Date of creation input */}\r\n                <Grid item xs={12} sm={4}>\r\n                    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                        <KeyboardDatePicker\r\n                            fullWidth\r\n                            variant=\"dialog\"\r\n                            format=\"dd/MM/yyyy\"\r\n                            placeholder=\"DD/MM/YYYY\"\r\n                            margin=\"normal\"\r\n                            label=\"Date of incorporation\"\r\n                            maxDate={new Date()}\r\n                            value={formData.dateOfCreation}\r\n                            onChange={date => formData.setDateOfCreation(date)}\r\n                        />\r\n                    </MuiPickersUtilsProvider>\r\n                </Grid>\r\n\r\n                {/* Service type input */}\r\n                <Grid className=\"edit-profile-service-type\" \r\n                item xs={12} sm={4} style={{ padding: '1em', textAlign: 'right'}}>\r\n                    <FormControl>\r\n                        <InputLabel htmlFor=\"serviceType\">Service type</InputLabel>\r\n                        <Select \r\n                        style={{color: '#f5f5f5', paddingTop: formData.serviceType === \"ISP\" ? '.7em' : 0}}\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            variant=\"standard\"\r\n                            id=\"serviceType\"\r\n                            value={formData.serviceType}\r\n                            onChange={(e) => formData.setServiceType(e.target.value)}>\r\n                                {\r\n                                    serviceTypes.map(type => {\r\n                                        return (\r\n                                            <MenuItem key={type} value={type}>\r\n                                                {type}\r\n                                            </MenuItem>\r\n                                        )\r\n                                    })\r\n                                }\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n\r\n                {/* Company name input */}\r\n                <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                        margin=\"normal\"\r\n                        variant=\"standard\"\r\n                        required\r\n                        fullWidth\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                              <InputAdornment position=\"start\">\r\n                                <BusinessCenterRoundedIcon style={{color: 'whitesmoke'}} />\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        type=\"text\"\r\n                        label=\"Company name\"\r\n                        error={formData.companyNameErr ? true : false}\r\n                        helperText={formData.companyNameErr}\r\n                        value={formData.companyName}\r\n                        onChange={(e) => formData.setCompanyName(e.target.value)}\r\n                    />\r\n                </Grid>\r\n\r\n                {/* City headquarters input EMPTY SPACE */}\r\n                <Grid item xs={false} sm={6}/>\r\n\r\n                {\r\n                    progressBar && \r\n                    <Grid item xs={12} style={{display: 'flex', justifyContent: 'center'}}>\r\n                        <CircularProgress/>\r\n                    </Grid>\r\n                }\r\n\r\n                {/* CEO First name input */}\r\n                <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                        margin=\"normal\"\r\n                        variant=\"standard\"\r\n                        required\r\n                        fullWidth\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                              <InputAdornment position=\"start\">\r\n                                <AssignmentIndRoundedIcon style={{color: 'whitesmoke'}} />\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        type=\"text\"\r\n                        label=\"CEO First Name\"\r\n                        error={formData.ceoFirstErr ? true : false}\r\n                        helperText={formData.ceoFirstErr}\r\n                        value={formData.ceoFirst}\r\n                        onChange={(e) => formData.setCeoFirst(e.target.value)}\r\n                    />\r\n                </Grid>\r\n\r\n                {/* CEO Last name input */}\r\n                <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                        margin=\"normal\"\r\n                        variant=\"standard\"\r\n                        required\r\n                        fullWidth\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                              <InputAdornment position=\"start\">\r\n                                <AssignmentIndRoundedIcon style={{color: 'whitesmoke'}} />\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        type=\"text\"\r\n                        label=\"CEO Last Name\"\r\n                        error={formData.ceoLastErr ? true : false}\r\n                        helperText={formData.ceoLastErr}\r\n                        value={formData.ceoLast}\r\n                        onChange={(e) => formData.setCeoLast(e.target.value)}\r\n                    />\r\n                </Grid>\r\n\r\n                {/* Branches input */}\r\n                <Grid item xs={12} style={{margin: '1em 0'}}>\r\n                    <>\r\n                    <ChipInput\r\n                        className=\"chip-input\"\r\n                        fullWidth\r\n                        aria-autocomplete={'none'}\r\n                        allowDuplicates={false}\r\n                        value={formData.branches}\r\n                        placeholder=\"Branch cities\"\r\n                        label=\"Branch cities\"\r\n                        helperText=\"Press ENTER to add city\"\r\n                        onAdd={(city) => handleBranchAdd(city)}\r\n                        onDelete={\r\n                            (city, index) => handleBranchRemove(city, index)\r\n                        }\r\n                    />\r\n                    </>\r\n                </Grid>\r\n\r\n                {/* Telephone input */}\r\n                <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                        margin=\"normal\"\r\n                        variant=\"standard\"\r\n                        fullWidth\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                                <CallRoundedIcon style={{color: 'whitesmoke'}} />\r\n                            </InputAdornment>\r\n                            ),\r\n                        }}\r\n                        label=\"Telephone (optional)\"\r\n                        type=\"tel\"\r\n                        error={formData.phoneNumberErr.length ? true : false}\r\n                        helperText={formData.phoneNumberErr}\r\n                        value={formData.phoneNumber}\r\n                        onChange={(e) => handlePhoneNumberChange(e.target.value)}\r\n                    />\r\n                </Grid>\r\n\r\n                {/* Website input */}\r\n                <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                        margin=\"normal\"\r\n                        variant=\"standard\"\r\n                        fullWidth\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                                <LanguageRoundedIcon style={{color: 'whitesmoke'}} />\r\n                            </InputAdornment>\r\n                            ),\r\n                        }}\r\n                        type=\"url\"\r\n                        label=\"Website (optional)\"\r\n                        error={formData.websiteErr ? true : false}\r\n                        helperText={formData.websiteErr}\r\n                        value={formData.website}\r\n                        onChange={(e) => formData.setWebsite(e.target.value)}\r\n                    />\r\n                </Grid>\r\n\r\n                {/* BUTTONS */}\r\n                <Grid container spacing={2} justify=\"flex-end\" style={{margin: '1em 0'}}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                    <Button\r\n                                        onClick={() => goBack()}\r\n                                        style={{padding: '.8em 0'}}\r\n                                        variant=\"contained\"\r\n                                        fullWidth\r\n                                        color=\"default\">\r\n                                        Back\r\n                                    </Button>\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <Button\r\n                                    style={{padding: '.8em 0'}}\r\n                                    variant=\"contained\"\r\n                                    fullWidth\r\n                                    color=\"primary\"\r\n                                    onClick={e => editProfile(e)}>\r\n                                    Edit profile\r\n                                </Button>\r\n                            </Grid>\r\n                            \r\n                </Grid>\r\n\r\n            </Grid>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(CompanyEditProfilePresenter)","import React, { useContext, useState } from 'react'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../firebase/auth\";\r\nimport { useCompanyData } from \"../../../customHooks/useCompanyData\";\r\nimport { useCompanyFormData } from './useCompanyFormData';\r\nimport { validateCompanyUpdate } from \"./validateCompanyUpdate\";\r\nimport { storageRemove } from \"../../../customHooks/useStorage\";\r\nimport { updateCompany } from \"../../../helpers/databaseUpdate\";\r\nimport { auth } from \"../../../firebase/config\"\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport CompanyEditProfilePresenter from \"./CompanyEditProfilePresenter\";\r\n\r\nconst validImageTypes = [\"image/png\", \"image/jpg\", \"image/jpeg\"];\r\n\r\nfunction CompanyEditProfileContainer(props) {\r\n    const { currentUser } = useContext(AuthContext);\r\n    const companyData = useCompanyData(currentUser);\r\n    const formData = useCompanyFormData(companyData);\r\n\r\n    const [progressBar, setProgressBar] = useState(false);\r\n\r\n    const goBack = () => {\r\n        // if(formData.profileUrl)\r\n        //     storageRemove(formData.profileUrl)\r\n        props.history.goBack();\r\n    }\r\n\r\n    const handlePhoneNumberChange = (number) => {\r\n        if(number.slice(0, 4) === \"+389\")\r\n            formData.setPhoneNumber(number);\r\n    }\r\n\r\n    const handleBranchAdd = (city) => {\r\n        const newBranchesList = [...formData.branches];\r\n        \r\n        // Capitalize first letter of entry\r\n        const capitalizedCity = \r\n            city.slice(0, 1).toUpperCase() + city.slice(1);\r\n\r\n        // Check if already in array\r\n        if(!formData.branches.includes(capitalizedCity) && capitalizedCity.trim() !== \"\") {\r\n            newBranchesList.push(capitalizedCity);\r\n            formData.setBranches(newBranchesList);\r\n        }\r\n    }\r\n\r\n    const handleBranchRemove = (city, index) => {\r\n        const newBranchesList = [...formData.branches];\r\n        newBranchesList.splice(index, 1);\r\n        formData.setBranches(newBranchesList);\r\n    }\r\n\r\n    const editProfile = () => {\r\n        setProgressBar(true);\r\n        if(validateCompanyUpdate(formData, handleBranchAdd)) {\r\n            const updateCompanyPromise = updateCompany(formData, currentUser.uid);\r\n            updateCompanyPromise.then(() => {\r\n                currentUser.updateProfile({\r\n                    displayName: formData.companyName,\r\n                    photoURL: formData.profileUrl\r\n                })\r\n                .then(() => {\r\n                    auth.updateCurrentUser(currentUser)\r\n                    .then(() => {\r\n                        setProgressBar(false);\r\n                        props.history.push(\"/company-page\");\r\n                    });\r\n                });\r\n            });\r\n        }\r\n        else setProgressBar(false);\r\n    }\r\n\r\n    const uploadPicture = (e) => {\r\n        setProgressBar(true);\r\n        if(formData.profileUrl)\r\n            storageRemove(formData.profileUrl)\r\n\r\n        const selectedFile = e.target.files[0];\r\n        \r\n        if (selectedFile) {\r\n            if (validImageTypes.includes(selectedFile.type)) {\r\n                formData.setFile(selectedFile);\r\n                formData.setProfileUrlErr(\"\");\r\n          }\r\n          else formData.setProfileUrlErr(\"Select a valid file (png, jpg or jpeg)\");\r\n        }\r\n\r\n        else {\r\n            formData.setFile(null);\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        formData\r\n        ?   <CompanyEditProfilePresenter\r\n                formData={formData}\r\n                editProfile={editProfile}\r\n                progressBar={progressBar}\r\n                setProgressBar={setProgressBar}\r\n                uploadPicture={uploadPicture}\r\n                handleBranchAdd={handleBranchAdd}\r\n                handleBranchRemove={handleBranchRemove}\r\n                handlePhoneNumberChange={handlePhoneNumberChange}\r\n                goBack={goBack}\r\n            />\r\n        :   <div style={{display: 'grid', placeItems: 'center', height: '80vh'}}>\r\n                <CircularProgress style={{width: 120, height: 120, justifySelf: 'center'}} />\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(CompanyEditProfileContainer)\r\n","import { useState, useEffect } from \"react\";\r\nimport { COMPANY_TABLE_COLUMNS } from \"../../../firebase/tables\";\r\n\r\nconst useCompanyFormData = (companyData) => {\r\n\r\n    const [ceoFirst, setCeoFirst] = useState(\"\");\r\n    const [ceoLast, setCeoLast] = useState(\"\");\r\n    const [companyName, setCompanyName] = useState(\"\");\r\n    const [cityHead, setCityHead] = useState(\"\");\r\n    const [dateOfCreation, setDateOfCreation] = useState(null);\r\n    const [serviceType, setServiceType] = useState(\"\");\r\n    const [branches, setBranches] = useState([]);\r\n    const [phoneNumber, setPhoneNumber] = useState(\"+389\");\r\n    const [website, setWebsite] = useState(\"\");\r\n    const [profileUrl, setProfileUrl] = useState(\"\");\r\n\r\n    const [file, setFile] = useState(null);\r\n\r\n    const [ceoFirstErr, setCeoFirstErr] = useState(\"\");\r\n    const [ceoLastErr, setCeoLastErr] = useState(\"\");\r\n    const [companyNameErr, setCompanyNameErr] = useState(\"\");\r\n    const [phoneNumberErr, setPhoneNumberErr] = useState(\"\");\r\n    const [websiteErr, setWebsiteErr] = useState(\"\");\r\n    const [profileUrlErr, setProfileUrlErr] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if(!companyData) return;\r\n\r\n        setCeoFirst(companyData[COMPANY_TABLE_COLUMNS.CEO_FIRST_NAME]);\r\n        setCeoLast(companyData[COMPANY_TABLE_COLUMNS.CEO_LAST_NAME]);\r\n        setCompanyName(companyData[COMPANY_TABLE_COLUMNS.COMPANY_NAME]);\r\n        setCityHead(companyData[COMPANY_TABLE_COLUMNS.HEADQUARTERS_CITY]);\r\n        setDateOfCreation(companyData[COMPANY_TABLE_COLUMNS.DATE_OF_CREATION].toDate());\r\n        setServiceType(companyData[COMPANY_TABLE_COLUMNS.SERVICE_TYPE]);\r\n        setBranches(companyData[COMPANY_TABLE_COLUMNS.BRANCHES]);\r\n        \r\n        const number = companyData[COMPANY_TABLE_COLUMNS.PHONE_NUMBER];\r\n        if (number !== \"Not Provided\")  setPhoneNumber(number);\r\n\r\n        const website = companyData[COMPANY_TABLE_COLUMNS.WEBSITE];\r\n        if (website !== \"Not Provided\") setWebsite(website);\r\n        setProfileUrl(companyData[COMPANY_TABLE_COLUMNS.PROFILE_URL]);\r\n\r\n    }, [companyData]);\r\n\r\n    return companyData\r\n            ?   {\r\n                    ceoFirst,\r\n                    setCeoFirst,\r\n                    ceoFirstErr,\r\n                    setCeoFirstErr,\r\n        \r\n                    ceoLast,\r\n                    setCeoLast,\r\n                    ceoLastErr,\r\n                    setCeoLastErr,\r\n        \r\n                    companyName,\r\n                    setCompanyName,\r\n                    companyNameErr,\r\n                    setCompanyNameErr,\r\n        \r\n                    cityHead,\r\n                    setCityHead,\r\n        \r\n                    dateOfCreation,\r\n                    setDateOfCreation,\r\n                    \r\n                    serviceType,\r\n                    setServiceType,\r\n        \r\n                    branches,\r\n                    setBranches,\r\n                    \r\n                    phoneNumber,\r\n                    setPhoneNumber,\r\n                    phoneNumberErr,\r\n                    setPhoneNumberErr,\r\n        \r\n                    website,\r\n                    setWebsite,\r\n                    websiteErr,\r\n                    setWebsiteErr,\r\n        \r\n                    profileUrl,\r\n                    setProfileUrl,\r\n                    profileUrlErr,\r\n                    setProfileUrlErr,\r\n\r\n                    file,\r\n                    setFile\r\n                }\r\n            :   null;\r\n\r\n}\r\n\r\nexport { useCompanyFormData };","import { websitePattern } from \"../../../helpers/validators\";\r\nimport { PhoneNumberUtil } from \"google-libphonenumber\"; \r\n\r\n\r\nconst validateCompanyUpdate = (company, handleBranchAdd) => {\r\n    const phoneUtil = PhoneNumberUtil.getInstance();\r\n\r\n    if(company.profileUrlErr.length) return false;\r\n\r\n    // Clear errors from before\r\n    company.setCeoFirstErr(\"\");\r\n    company.setCeoLastErr(\"\");\r\n    company.setCompanyNameErr(\"\");\r\n\r\n    let cFirstErr = \"\";\r\n    let cLastErr = \"\";\r\n    let companyNameErr = \"\";\r\n\r\n    let compWebsiteErr = \"\";\r\n    let compNumberErr = \"\";\r\n\r\n    // Check date validity\r\n    if(isNaN(company.dateOfCreation.getTime()))  return false;\r\n\r\n    // Empty fields\r\n    if(company.ceoFirst.trim() === \"\") cFirstErr = \"Enter CEO's first name!\";\r\n    if(company.ceoLast.trim() === \"\") cLastErr = \"Enter CEO's last name!\";\r\n    if(company.companyName.trim() === \"\") companyNameErr = \"Enter company's name!\";\r\n\r\n    // City validation\r\n    const headCityCapitalized = \r\n    company.cityHead.slice(0, 1).toUpperCase() + company.cityHead.slice(1);\r\n    company.setCityHead(headCityCapitalized);\r\n\r\n    // Add default city (cityHead)\r\n    if(!company.branches.includes(headCityCapitalized)) {\r\n        handleBranchAdd(headCityCapitalized);\r\n    }\r\n\r\n    // Phone number validation\r\n    if(company.phoneNumber.trim() !== \"+389\") {\r\n        // If a number is entered\r\n        const number = phoneUtil.parse(company.phoneNumber, 'MK');\r\n        if(!phoneUtil.isValidNumberForRegion(number, 'MK')) {\r\n            compNumberErr = \"Invalid number entered for MK region!\";\r\n        }\r\n    }\r\n\r\n    // Website validation\r\n    if(company.website.trim() !== \"\") {\r\n        if(!websitePattern.test(company.website))\r\n            compWebsiteErr = \"Invalid website URL!\";\r\n    }\r\n\r\n    if(cFirstErr.length || cLastErr.length || companyNameErr.length ||\r\n        compWebsiteErr.length || compNumberErr.length) {\r\n            company.setCeoFirstErr(cFirstErr);\r\n            company.setCeoLastErr(cLastErr);\r\n            company.setCompanyNameErr(companyNameErr);\r\n            company.setWebsiteErr(compWebsiteErr);\r\n            company.setPhoneNumberErr(compNumberErr);\r\n            return false;\r\n        }\r\n\r\n\r\n    return true;\r\n}\r\n\r\nexport { validateCompanyUpdate };","import React, { useContext } from \"react\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport Homepage from \"./components/HomepageComponents/Homepage/Homepage\";\r\nimport RegisterPage from \"./components/RegisterPageComponents/RegisterPage/RegisterPage\";\r\nimport { Switch, Route, withRouter } from \"react-router-dom\";\r\nimport UserHomepageContainer from \"./components/UserHomepageComponents/UserHomepage/UserHomepageContainer\";\r\nimport PostsListPageContainer from \"./components/UserHomepageComponents/Posts/PostsListPage/PostsListPageContainer\"\r\nimport CompanyHomepageContainer from \"./components/CompanyHomepageComponents/CompanyHomepage/CompanyHomepageContainer\"\r\nimport SubscribePageContainer from \"./components/UserHomepageComponents/SubscribePage/SubscribePageContainer\";\r\nimport UserEditProfileContainer from \"./components/EditProfilePage/UserEditProfile/UserEditProfileContainer\";\r\nimport CompanyEditProfileContainer from \"./components/EditProfilePage/CompanyEditProfile/CompanyEditProfileContainer\";\r\nimport { AuthContext } from \"./firebase/auth\";\r\n\r\nfunction App() {\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  return (\r\n\r\n      <div className=\"main-wrapper\">\r\n            {currentUser ? <Navbar /> : <Route path={'/'} exact component={Homepage} />}\r\n\r\n            <Route path={'/register/:type'} exact component={RegisterPage} />\r\n          {/* TODO: Add more page routes */}\r\n            <Route path={'/user-page'} exact component={UserHomepageContainer} />\r\n            <Route path={'/user-page/posts/:type'} exact component={PostsListPageContainer} />\r\n            <Route path={'/company-page'} exact component={CompanyHomepageContainer} />\r\n            <Route path={'/subscribe/:type'} exact component={SubscribePageContainer} />\r\n            <Route path={'/edit/user/:id'} exact component={UserEditProfileContainer} />\r\n            <Route path={'/edit/company/:id'} exact component={CompanyEditProfileContainer} />\r\n      </div>\r\n\r\n  );  \r\n}\r\n\r\nexport default withRouter(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './style/index.css';\r\nimport App from './App';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { AuthProvider } from \"./firebase/auth\";\r\n\r\nReactDOM.render(\r\n  <AuthProvider>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </AuthProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}